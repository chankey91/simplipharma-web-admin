var oP=Object.defineProperty;var Pw=t=>{throw TypeError(t)};var aP=(t,e,n)=>e in t?oP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nw=(t,e,n)=>aP(t,typeof e!="symbol"?e+"":e,n),Zg=(t,e,n)=>e.has(t)||Pw("Cannot "+n);var J=(t,e,n)=>(Zg(t,e,"read from private field"),n?n.call(t):e.get(t)),$e=(t,e,n)=>e.has(t)?Pw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Oe=(t,e,n,r)=>(Zg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ht=(t,e,n)=>(Zg(t,e,"access private method"),n);var Jf=(t,e,n,r)=>({set _(i){Oe(t,e,i,n)},get _(){return J(t,e,r)}});function vI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function za(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var xI={exports:{}},p1={},wI={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Symbol.for("react.element"),lP=Symbol.for("react.portal"),cP=Symbol.for("react.fragment"),uP=Symbol.for("react.strict_mode"),dP=Symbol.for("react.profiler"),hP=Symbol.for("react.provider"),fP=Symbol.for("react.context"),pP=Symbol.for("react.forward_ref"),gP=Symbol.for("react.suspense"),mP=Symbol.for("react.memo"),yP=Symbol.for("react.lazy"),Ow=Symbol.iterator;function vP(t){return t===null||typeof t!="object"?null:(t=Ow&&t[Ow]||t["@@iterator"],typeof t=="function"?t:null)}var EI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_I=Object.assign,CI={};function qu(t,e,n){this.props=t,this.context=e,this.refs=CI,this.updater=n||EI}qu.prototype.isReactComponent={};qu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bI(){}bI.prototype=qu.prototype;function Jv(t,e,n){this.props=t,this.context=e,this.refs=CI,this.updater=n||EI}var ex=Jv.prototype=new bI;ex.constructor=Jv;_I(ex,qu.prototype);ex.isPureReactComponent=!0;var kw=Array.isArray,II=Object.prototype.hasOwnProperty,tx={current:null},AI={key:!0,ref:!0,__self:!0,__source:!0};function TI(t,e,n){var r,i={},o=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)II.call(e,r)&&!AI.hasOwnProperty(r)&&(i[r]=e[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var p=Array(h),g=0;g<h;g++)p[g]=arguments[g+2];i.children=p}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:ff,type:t,key:o,ref:c,props:i,_owner:tx.current}}function xP(t,e){return{$$typeof:ff,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nx(t){return typeof t=="object"&&t!==null&&t.$$typeof===ff}function wP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dw=/\/+/g;function Jg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wP(""+t.key):e.toString(36)}function Np(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case ff:case lP:c=!0}}if(c)return c=t,i=i(c),t=r===""?"."+Jg(c,0):r,kw(i)?(n="",t!=null&&(n=t.replace(Dw,"$&/")+"/"),Np(i,e,n,"",function(g){return g})):i!=null&&(nx(i)&&(i=xP(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(Dw,"$&/")+"/")+t)),e.push(i)),1;if(c=0,r=r===""?".":r+":",kw(t))for(var h=0;h<t.length;h++){o=t[h];var p=r+Jg(o,h);c+=Np(o,e,n,p,i)}else if(p=vP(t),typeof p=="function")for(t=p.call(t),h=0;!(o=t.next()).done;)o=o.value,p=r+Jg(o,h++),c+=Np(o,e,n,p,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function ep(t,e,n){if(t==null)return t;var r=[],i=0;return Np(t,r,"","",function(o){return e.call(n,o,i++)}),r}function EP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ei={current:null},Op={transition:null},_P={ReactCurrentDispatcher:ei,ReactCurrentBatchConfig:Op,ReactCurrentOwner:tx};function SI(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:ep,forEach:function(t,e,n){ep(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ep(t,function(){e++}),e},toArray:function(t){return ep(t,function(e){return e})||[]},only:function(t){if(!nx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=qu;Et.Fragment=cP;Et.Profiler=dP;Et.PureComponent=Jv;Et.StrictMode=uP;Et.Suspense=gP;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_P;Et.act=SI;Et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_I({},t.props),i=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=tx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(p in e)II.call(e,p)&&!AI.hasOwnProperty(p)&&(r[p]=e[p]===void 0&&h!==void 0?h[p]:e[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){h=Array(p);for(var g=0;g<p;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:ff,type:t.type,key:i,ref:o,props:r,_owner:c}};Et.createContext=function(t){return t={$$typeof:fP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hP,_context:t},t.Consumer=t};Et.createElement=TI;Et.createFactory=function(t){var e=TI.bind(null,t);return e.type=t,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:pP,render:t}};Et.isValidElement=nx;Et.lazy=function(t){return{$$typeof:yP,_payload:{_status:-1,_result:t},_init:EP}};Et.memo=function(t,e){return{$$typeof:mP,type:t,compare:e===void 0?null:e}};Et.startTransition=function(t){var e=Op.transition;Op.transition={};try{t()}finally{Op.transition=e}};Et.unstable_act=SI;Et.useCallback=function(t,e){return ei.current.useCallback(t,e)};Et.useContext=function(t){return ei.current.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t){return ei.current.useDeferredValue(t)};Et.useEffect=function(t,e){return ei.current.useEffect(t,e)};Et.useId=function(){return ei.current.useId()};Et.useImperativeHandle=function(t,e,n){return ei.current.useImperativeHandle(t,e,n)};Et.useInsertionEffect=function(t,e){return ei.current.useInsertionEffect(t,e)};Et.useLayoutEffect=function(t,e){return ei.current.useLayoutEffect(t,e)};Et.useMemo=function(t,e){return ei.current.useMemo(t,e)};Et.useReducer=function(t,e,n){return ei.current.useReducer(t,e,n)};Et.useRef=function(t){return ei.current.useRef(t)};Et.useState=function(t){return ei.current.useState(t)};Et.useSyncExternalStore=function(t,e,n){return ei.current.useSyncExternalStore(t,e,n)};Et.useTransition=function(){return ei.current.useTransition()};Et.version="18.3.1";wI.exports=Et;var B=wI.exports;const xs=Zv(B),o0=vI({__proto__:null,default:xs},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP=B,bP=Symbol.for("react.element"),IP=Symbol.for("react.fragment"),AP=Object.prototype.hasOwnProperty,TP=CP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SP={key:!0,ref:!0,__self:!0,__source:!0};function RI(t,e,n){var r,i={},o=null,c=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)AP.call(e,r)&&!SP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bP,type:t,key:o,ref:c,props:i,_owner:TP.current}}p1.Fragment=IP;p1.jsx=RI;p1.jsxs=RI;xI.exports=p1;var _=xI.exports,Zm={},PI={exports:{}},Vi={},NI={exports:{}},OI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,ce){var Ce=ne.length;ne.push(ce);e:for(;0<Ce;){var et=Ce-1>>>1,Ue=ne[et];if(0<i(Ue,ce))ne[et]=ce,ne[Ce]=Ue,Ce=et;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var ce=ne[0],Ce=ne.pop();if(Ce!==ce){ne[0]=Ce;e:for(var et=0,Ue=ne.length,Qe=Ue>>>1;et<Qe;){var ze=2*(et+1)-1,gt=ne[ze],Ae=ze+1,Jt=ne[Ae];if(0>i(gt,Ce))Ae<Ue&&0>i(Jt,gt)?(ne[et]=Jt,ne[Ae]=Ce,et=Ae):(ne[et]=gt,ne[ze]=Ce,et=ze);else if(Ae<Ue&&0>i(Jt,Ce))ne[et]=Jt,ne[Ae]=Ce,et=Ae;else break e}}return ce}function i(ne,ce){var Ce=ne.sortIndex-ce.sortIndex;return Ce!==0?Ce:ne.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],g=[],x=1,w=null,C=3,A=!1,k=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ne){for(var ce=n(g);ce!==null;){if(ce.callback===null)r(g);else if(ce.startTime<=ne)r(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(g)}}function V(ne){if(O=!1,R(ne),!k)if(n(p)!==null)k=!0,me(H);else{var ce=n(g);ce!==null&&de(V,ce.startTime-ne)}}function H(ne,ce){k=!1,O&&(O=!1,D(M),M=-1),A=!0;var Ce=C;try{for(R(ce),w=n(p);w!==null&&(!(w.expirationTime>ce)||ne&&!G());){var et=w.callback;if(typeof et=="function"){w.callback=null,C=w.priorityLevel;var Ue=et(w.expirationTime<=ce);ce=t.unstable_now(),typeof Ue=="function"?w.callback=Ue:w===n(p)&&r(p),R(ce)}else r(p);w=n(p)}if(w!==null)var Qe=!0;else{var ze=n(g);ze!==null&&de(V,ze.startTime-ce),Qe=!1}return Qe}finally{w=null,C=Ce,A=!1}}var X=!1,S=null,M=-1,N=5,W=-1;function G(){return!(t.unstable_now()-W<N)}function q(){if(S!==null){var ne=t.unstable_now();W=ne;var ce=!0;try{ce=S(!0,ne)}finally{ce?z():(X=!1,S=null)}}else X=!1}var z;if(typeof I=="function")z=function(){I(q)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,Z=ue.port2;ue.port1.onmessage=q,z=function(){Z.postMessage(null)}}else z=function(){U(q,0)};function me(ne){S=ne,X||(X=!0,z())}function de(ne,ce){M=U(function(){ne(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){k||A||(k=!0,me(H))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ne){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var Ce=C;C=ce;try{return ne()}finally{C=Ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,ce){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Ce=C;C=ne;try{return ce()}finally{C=Ce}},t.unstable_scheduleCallback=function(ne,ce,Ce){var et=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?et+Ce:et):Ce=et,ne){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=Ce+Ue,ne={id:x++,callback:ce,priorityLevel:ne,startTime:Ce,expirationTime:Ue,sortIndex:-1},Ce>et?(ne.sortIndex=Ce,e(g,ne),n(p)===null&&ne===n(g)&&(O?(D(M),M=-1):O=!0,de(V,Ce-et))):(ne.sortIndex=Ue,e(p,ne),k||A||(k=!0,me(H))),ne},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(ne){var ce=C;return function(){var Ce=C;C=ce;try{return ne.apply(this,arguments)}finally{C=Ce}}}})(OI);NI.exports=OI;var RP=NI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=B,Bi=RP;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kI=new Set,_h={};function tc(t,e){xu(t,e),xu(t+"Capture",e)}function xu(t,e){for(_h[t]=e,t=0;t<e.length;t++)kI.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jm=Object.prototype.hasOwnProperty,NP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mw={},Lw={};function OP(t){return Jm.call(Lw,t)?!0:Jm.call(Mw,t)?!1:NP.test(t)?Lw[t]=!0:(Mw[t]=!0,!1)}function kP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DP(t,e,n,r){if(e===null||typeof e>"u"||kP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ti(t,e,n,r,i,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ar[t]=new ti(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ar[e]=new ti(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ar[t]=new ti(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ar[t]=new ti(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ar[t]=new ti(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ar[t]=new ti(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ar[t]=new ti(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ar[t]=new ti(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ar[t]=new ti(t,5,!1,t.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function ix(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rx,ix);Ar[e]=new ti(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rx,ix);Ar[e]=new ti(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rx,ix);Ar[e]=new ti(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ar[t]=new ti(t,1,!1,t.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ar[t]=new ti(t,1,!1,t.toLowerCase(),null,!0,!0)});function sx(t,e,n,r){var i=Ar.hasOwnProperty(e)?Ar[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DP(e,n,i,r)&&(n=null),r||i===null?OP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fo=PP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),Dc=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),DI=Symbol.for("react.provider"),MI=Symbol.for("react.context"),ax=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ny=Symbol.for("react.suspense_list"),lx=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),LI=Symbol.for("react.offscreen"),Fw=Symbol.iterator;function Ad(t){return t===null||typeof t!="object"?null:(t=Fw&&t[Fw]||t["@@iterator"],typeof t=="function"?t:null)}var Tn=Object.assign,em;function Gd(t){if(em===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);em=e&&e[1]||""}return`
`+em+t}var tm=!1;function nm(t,e){if(!t||tm)return"";tm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var r=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){r=g}t.call(e.prototype)}else{try{throw Error()}catch(g){r=g}t()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),o=r.stack.split(`
`),c=i.length-1,h=o.length-1;1<=c&&0<=h&&i[c]!==o[h];)h--;for(;1<=c&&0<=h;c--,h--)if(i[c]!==o[h]){if(c!==1||h!==1)do if(c--,h--,0>h||i[c]!==o[h]){var p=`
`+i[c].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=c&&0<=h);break}}}finally{tm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gd(t):""}function MP(t){switch(t.tag){case 5:return Gd(t.type);case 16:return Gd("Lazy");case 13:return Gd("Suspense");case 19:return Gd("SuspenseList");case 0:case 2:case 15:return t=nm(t.type,!1),t;case 11:return t=nm(t.type.render,!1),t;case 1:return t=nm(t.type,!0),t;default:return""}}function ry(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mc:return"Fragment";case Dc:return"Portal";case ey:return"Profiler";case ox:return"StrictMode";case ty:return"Suspense";case ny:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MI:return(t.displayName||"Context")+".Consumer";case DI:return(t._context.displayName||"Context")+".Provider";case ax:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lx:return e=t.displayName||null,e!==null?e:ry(t.type)||"Memo";case ea:e=t._payload,t=t._init;try{return ry(t(e))}catch{}}return null}function LP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ry(e);case 8:return e===ox?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function La(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FP(t){var e=FI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function np(t){t._valueTracker||(t._valueTracker=FP(t))}function BI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function a0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iy(t,e){var n=e.checked;return Tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Bw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=La(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VI(t,e){e=e.checked,e!=null&&sx(t,"checked",e,!1)}function sy(t,e){VI(t,e);var n=La(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oy(t,e.type,n):e.hasOwnProperty("defaultValue")&&oy(t,e.type,La(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function oy(t,e,n){(e!=="number"||a0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qd=Array.isArray;function Kc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+La(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ay(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return Tn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(we(92));if(qd(n)){if(1<n.length)throw Error(we(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:La(n)}}function UI(t,e){var n=La(e.value),r=La(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ly(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rp,zI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ch(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BP=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(t){BP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sh[e]=sh[t]})});function $I(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sh.hasOwnProperty(t)&&sh[t]?(""+e).trim():e+"px"}function WI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$I(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VP=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cy(t,e){if(e){if(VP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function uy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=null;function cx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hy=null,Xc=null,Yc=null;function zw(t){if(t=mf(t)){if(typeof hy!="function")throw Error(we(280));var e=t.stateNode;e&&(e=x1(e),hy(t.stateNode,t.type,e))}}function HI(t){Xc?Yc?Yc.push(t):Yc=[t]:Xc=t}function GI(){if(Xc){var t=Xc,e=Yc;if(Yc=Xc=null,zw(t),e)for(t=0;t<e.length;t++)zw(e[t])}}function qI(t,e){return t(e)}function KI(){}var rm=!1;function XI(t,e,n){if(rm)return t(e,n);rm=!0;try{return qI(t,e,n)}finally{rm=!1,(Xc!==null||Yc!==null)&&(KI(),GI())}}function bh(t,e){var n=t.stateNode;if(n===null)return null;var r=x1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(we(231,e,typeof n));return n}var fy=!1;if(So)try{var Td={};Object.defineProperty(Td,"passive",{get:function(){fy=!0}}),window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{fy=!1}function UP(t,e,n,r,i,o,c,h,p){var g=Array.prototype.slice.call(arguments,3);try{e.apply(n,g)}catch(x){this.onError(x)}}var oh=!1,l0=null,c0=!1,py=null,jP={onError:function(t){oh=!0,l0=t}};function zP(t,e,n,r,i,o,c,h,p){oh=!1,l0=null,UP.apply(jP,arguments)}function $P(t,e,n,r,i,o,c,h,p){if(zP.apply(this,arguments),oh){if(oh){var g=l0;oh=!1,l0=null}else throw Error(we(198));c0||(c0=!0,py=g)}}function nc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $w(t){if(nc(t)!==t)throw Error(we(188))}function WP(t){var e=t.alternate;if(!e){if(e=nc(t),e===null)throw Error(we(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $w(i),t;if(o===r)return $w(i),e;o=o.sibling}throw Error(we(188))}if(n.return!==r.return)n=i,r=o;else{for(var c=!1,h=i.child;h;){if(h===n){c=!0,n=i,r=o;break}if(h===r){c=!0,r=i,n=o;break}h=h.sibling}if(!c){for(h=o.child;h;){if(h===n){c=!0,n=o,r=i;break}if(h===r){c=!0,r=o,n=i;break}h=h.sibling}if(!c)throw Error(we(189))}}if(n.alternate!==r)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?t:e}function QI(t){return t=WP(t),t!==null?ZI(t):null}function ZI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZI(t);if(e!==null)return e;t=t.sibling}return null}var JI=Bi.unstable_scheduleCallback,Ww=Bi.unstable_cancelCallback,HP=Bi.unstable_shouldYield,GP=Bi.unstable_requestPaint,$n=Bi.unstable_now,qP=Bi.unstable_getCurrentPriorityLevel,ux=Bi.unstable_ImmediatePriority,eA=Bi.unstable_UserBlockingPriority,u0=Bi.unstable_NormalPriority,KP=Bi.unstable_LowPriority,tA=Bi.unstable_IdlePriority,g1=null,Hs=null;function XP(t){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(g1,t,void 0,(t.current.flags&128)===128)}catch{}}var Es=Math.clz32?Math.clz32:ZP,YP=Math.log,QP=Math.LN2;function ZP(t){return t>>>=0,t===0?32:31-(YP(t)/QP|0)|0}var ip=64,sp=4194304;function Kd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function d0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,c=n&268435455;if(c!==0){var h=c&~i;h!==0?r=Kd(h):(o&=c,o!==0&&(r=Kd(o)))}else c=n&~i,c!==0?r=Kd(c):o!==0&&(r=Kd(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Es(e),i=1<<n,r|=t[n],e&=~i;return r}function JP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-Es(o),h=1<<c,p=i[c];p===-1?(!(h&n)||h&r)&&(i[c]=JP(h,e)):p<=e&&(t.expiredLanes|=h),o&=~h}}function gy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nA(){var t=ip;return ip<<=1,!(ip&4194240)&&(ip=64),t}function im(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Es(e),t[e]=n}function tN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Es(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function dx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Es(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Yt=0;function rA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iA,hx,sA,oA,aA,my=!1,op=[],Ea=null,_a=null,Ca=null,Ih=new Map,Ah=new Map,na=[],nN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hw(t,e){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Ih.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(e.pointerId)}}function Sd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=mf(e),e!==null&&hx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rN(t,e,n,r,i){switch(e){case"focusin":return Ea=Sd(Ea,t,e,n,r,i),!0;case"dragenter":return _a=Sd(_a,t,e,n,r,i),!0;case"mouseover":return Ca=Sd(Ca,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ih.set(o,Sd(Ih.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ah.set(o,Sd(Ah.get(o)||null,t,e,n,r,i)),!0}return!1}function lA(t){var e=ml(t.target);if(e!==null){var n=nc(e);if(n!==null){if(e=n.tag,e===13){if(e=YI(n),e!==null){t.blockedOn=e,aA(t.priority,function(){sA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dy=r,n.target.dispatchEvent(r),dy=null}else return e=mf(n),e!==null&&hx(e),t.blockedOn=n,!1;e.shift()}return!0}function Gw(t,e,n){kp(t)&&n.delete(e)}function iN(){my=!1,Ea!==null&&kp(Ea)&&(Ea=null),_a!==null&&kp(_a)&&(_a=null),Ca!==null&&kp(Ca)&&(Ca=null),Ih.forEach(Gw),Ah.forEach(Gw)}function Rd(t,e){t.blockedOn===e&&(t.blockedOn=null,my||(my=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,iN)))}function Th(t){function e(i){return Rd(i,t)}if(0<op.length){Rd(op[0],t);for(var n=1;n<op.length;n++){var r=op[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ea!==null&&Rd(Ea,t),_a!==null&&Rd(_a,t),Ca!==null&&Rd(Ca,t),Ih.forEach(e),Ah.forEach(e),n=0;n<na.length;n++)r=na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)lA(n),n.blockedOn===null&&na.shift()}var Qc=Fo.ReactCurrentBatchConfig,h0=!0;function sN(t,e,n,r){var i=Yt,o=Qc.transition;Qc.transition=null;try{Yt=1,fx(t,e,n,r)}finally{Yt=i,Qc.transition=o}}function oN(t,e,n,r){var i=Yt,o=Qc.transition;Qc.transition=null;try{Yt=4,fx(t,e,n,r)}finally{Yt=i,Qc.transition=o}}function fx(t,e,n,r){if(h0){var i=yy(t,e,n,r);if(i===null)pm(t,e,r,f0,n),Hw(t,r);else if(rN(i,t,e,n,r))r.stopPropagation();else if(Hw(t,r),e&4&&-1<nN.indexOf(t)){for(;i!==null;){var o=mf(i);if(o!==null&&iA(o),o=yy(t,e,n,r),o===null&&pm(t,e,r,f0,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else pm(t,e,r,null,n)}}var f0=null;function yy(t,e,n,r){if(f0=null,t=cx(r),t=ml(t),t!==null)if(e=nc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return f0=t,null}function cA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qP()){case ux:return 1;case eA:return 4;case u0:case KP:return 16;case tA:return 536870912;default:return 16}default:return 16}}var ya=null,px=null,Dp=null;function uA(){if(Dp)return Dp;var t,e=px,n=e.length,r,i="value"in ya?ya.value:ya.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var c=n-t;for(r=1;r<=c&&e[n-r]===i[o-r];r++);return Dp=i.slice(t,1<r?1-r:void 0)}function Mp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ap(){return!0}function qw(){return!1}function Ui(t){function e(n,r,i,o,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ap:qw,this.isPropagationStopped=qw,this}return Tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),e}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gx=Ui(Ku),gf=Tn({},Ku,{view:0,detail:0}),aN=Ui(gf),sm,om,Pd,m1=Tn({},gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pd&&(Pd&&t.type==="mousemove"?(sm=t.screenX-Pd.screenX,om=t.screenY-Pd.screenY):om=sm=0,Pd=t),sm)},movementY:function(t){return"movementY"in t?t.movementY:om}}),Kw=Ui(m1),lN=Tn({},m1,{dataTransfer:0}),cN=Ui(lN),uN=Tn({},gf,{relatedTarget:0}),am=Ui(uN),dN=Tn({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),hN=Ui(dN),fN=Tn({},Ku,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pN=Ui(fN),gN=Tn({},Ku,{data:0}),Xw=Ui(gN),mN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vN[t])?!!e[t]:!1}function mx(){return xN}var wN=Tn({},gf,{key:function(t){if(t.key){var e=mN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mx,charCode:function(t){return t.type==="keypress"?Mp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EN=Ui(wN),_N=Tn({},m1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yw=Ui(_N),CN=Tn({},gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mx}),bN=Ui(CN),IN=Tn({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),AN=Ui(IN),TN=Tn({},m1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SN=Ui(TN),RN=[9,13,27,32],yx=So&&"CompositionEvent"in window,ah=null;So&&"documentMode"in document&&(ah=document.documentMode);var PN=So&&"TextEvent"in window&&!ah,dA=So&&(!yx||ah&&8<ah&&11>=ah),Qw=" ",Zw=!1;function hA(t,e){switch(t){case"keyup":return RN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lc=!1;function NN(t,e){switch(t){case"compositionend":return fA(e);case"keypress":return e.which!==32?null:(Zw=!0,Qw);case"textInput":return t=e.data,t===Qw&&Zw?null:t;default:return null}}function ON(t,e){if(Lc)return t==="compositionend"||!yx&&hA(t,e)?(t=uA(),Dp=px=ya=null,Lc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dA&&e.locale!=="ko"?null:e.data;default:return null}}var kN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kN[t.type]:e==="textarea"}function pA(t,e,n,r){HI(r),e=p0(e,"onChange"),0<e.length&&(n=new gx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lh=null,Sh=null;function DN(t){IA(t,0)}function y1(t){var e=Vc(t);if(BI(e))return t}function MN(t,e){if(t==="change")return e}var gA=!1;if(So){var lm;if(So){var cm="oninput"in document;if(!cm){var eE=document.createElement("div");eE.setAttribute("oninput","return;"),cm=typeof eE.oninput=="function"}lm=cm}else lm=!1;gA=lm&&(!document.documentMode||9<document.documentMode)}function tE(){lh&&(lh.detachEvent("onpropertychange",mA),Sh=lh=null)}function mA(t){if(t.propertyName==="value"&&y1(Sh)){var e=[];pA(e,Sh,t,cx(t)),XI(DN,e)}}function LN(t,e,n){t==="focusin"?(tE(),lh=e,Sh=n,lh.attachEvent("onpropertychange",mA)):t==="focusout"&&tE()}function FN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return y1(Sh)}function BN(t,e){if(t==="click")return y1(e)}function VN(t,e){if(t==="input"||t==="change")return y1(e)}function UN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bs=typeof Object.is=="function"?Object.is:UN;function Rh(t,e){if(bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jm.call(e,i)||!bs(t[i],e[i]))return!1}return!0}function nE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rE(t,e){var n=nE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nE(n)}}function yA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vA(){for(var t=window,e=a0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=a0(t.document)}return e}function vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jN(t){var e=vA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yA(n.ownerDocument.documentElement,n)){if(r!==null&&vx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=rE(n,o);var c=rE(n,r);i&&c&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zN=So&&"documentMode"in document&&11>=document.documentMode,Fc=null,vy=null,ch=null,xy=!1;function iE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xy||Fc==null||Fc!==a0(r)||(r=Fc,"selectionStart"in r&&vx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ch&&Rh(ch,r)||(ch=r,r=p0(vy,"onSelect"),0<r.length&&(e=new gx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function lp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bc={animationend:lp("Animation","AnimationEnd"),animationiteration:lp("Animation","AnimationIteration"),animationstart:lp("Animation","AnimationStart"),transitionend:lp("Transition","TransitionEnd")},um={},xA={};So&&(xA=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function v1(t){if(um[t])return um[t];if(!Bc[t])return t;var e=Bc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xA)return um[t]=e[n];return t}var wA=v1("animationend"),EA=v1("animationiteration"),_A=v1("animationstart"),CA=v1("transitionend"),bA=new Map,sE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(t,e){bA.set(t,e),tc(e,[t])}for(var dm=0;dm<sE.length;dm++){var hm=sE[dm],$N=hm.toLowerCase(),WN=hm[0].toUpperCase()+hm.slice(1);$a($N,"on"+WN)}$a(wA,"onAnimationEnd");$a(EA,"onAnimationIteration");$a(_A,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(CA,"onTransitionEnd");xu("onMouseEnter",["mouseout","mouseover"]);xu("onMouseLeave",["mouseout","mouseover"]);xu("onPointerEnter",["pointerout","pointerover"]);xu("onPointerLeave",["pointerout","pointerover"]);tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xd));function oE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$P(r,e,void 0,t),t.currentTarget=null}function IA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var c=r.length-1;0<=c;c--){var h=r[c],p=h.instance,g=h.currentTarget;if(h=h.listener,p!==o&&i.isPropagationStopped())break e;oE(i,h,g),o=p}else for(c=0;c<r.length;c++){if(h=r[c],p=h.instance,g=h.currentTarget,h=h.listener,p!==o&&i.isPropagationStopped())break e;oE(i,h,g),o=p}}}if(c0)throw t=py,c0=!1,py=null,t}function gn(t,e){var n=e[by];n===void 0&&(n=e[by]=new Set);var r=t+"__bubble";n.has(r)||(AA(e,t,2,!1),n.add(r))}function fm(t,e,n){var r=0;e&&(r|=4),AA(n,t,r,e)}var cp="_reactListening"+Math.random().toString(36).slice(2);function Ph(t){if(!t[cp]){t[cp]=!0,kI.forEach(function(n){n!=="selectionchange"&&(HN.has(n)||fm(n,!1,t),fm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cp]||(e[cp]=!0,fm("selectionchange",!1,e))}}function AA(t,e,n,r){switch(cA(e)){case 1:var i=sN;break;case 4:i=oN;break;default:i=fx}n=i.bind(null,e,n,t),i=void 0,!fy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;c=c.return}for(;h!==null;){if(c=ml(h),c===null)return;if(p=c.tag,p===5||p===6){r=o=c;continue e}h=h.parentNode}}r=r.return}XI(function(){var g=o,x=cx(n),w=[];e:{var C=bA.get(t);if(C!==void 0){var A=gx,k=t;switch(t){case"keypress":if(Mp(n)===0)break e;case"keydown":case"keyup":A=EN;break;case"focusin":k="focus",A=am;break;case"focusout":k="blur",A=am;break;case"beforeblur":case"afterblur":A=am;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Kw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=cN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=bN;break;case wA:case EA:case _A:A=hN;break;case CA:A=AN;break;case"scroll":A=aN;break;case"wheel":A=SN;break;case"copy":case"cut":case"paste":A=pN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Yw}var O=(e&4)!==0,U=!O&&t==="scroll",D=O?C!==null?C+"Capture":null:C;O=[];for(var I=g,R;I!==null;){R=I;var V=R.stateNode;if(R.tag===5&&V!==null&&(R=V,D!==null&&(V=bh(I,D),V!=null&&O.push(Nh(I,V,R)))),U)break;I=I.return}0<O.length&&(C=new A(C,k,null,n,x),w.push({event:C,listeners:O}))}}if(!(e&7)){e:{if(C=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",C&&n!==dy&&(k=n.relatedTarget||n.fromElement)&&(ml(k)||k[Ro]))break e;if((A||C)&&(C=x.window===x?x:(C=x.ownerDocument)?C.defaultView||C.parentWindow:window,A?(k=n.relatedTarget||n.toElement,A=g,k=k?ml(k):null,k!==null&&(U=nc(k),k!==U||k.tag!==5&&k.tag!==6)&&(k=null)):(A=null,k=g),A!==k)){if(O=Kw,V="onMouseLeave",D="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(O=Yw,V="onPointerLeave",D="onPointerEnter",I="pointer"),U=A==null?C:Vc(A),R=k==null?C:Vc(k),C=new O(V,I+"leave",A,n,x),C.target=U,C.relatedTarget=R,V=null,ml(x)===g&&(O=new O(D,I+"enter",k,n,x),O.target=R,O.relatedTarget=U,V=O),U=V,A&&k)t:{for(O=A,D=k,I=0,R=O;R;R=xc(R))I++;for(R=0,V=D;V;V=xc(V))R++;for(;0<I-R;)O=xc(O),I--;for(;0<R-I;)D=xc(D),R--;for(;I--;){if(O===D||D!==null&&O===D.alternate)break t;O=xc(O),D=xc(D)}O=null}else O=null;A!==null&&aE(w,C,A,O,!1),k!==null&&U!==null&&aE(w,U,k,O,!0)}}e:{if(C=g?Vc(g):window,A=C.nodeName&&C.nodeName.toLowerCase(),A==="select"||A==="input"&&C.type==="file")var H=MN;else if(Jw(C))if(gA)H=VN;else{H=FN;var X=LN}else(A=C.nodeName)&&A.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(H=BN);if(H&&(H=H(t,g))){pA(w,H,n,x);break e}X&&X(t,C,g),t==="focusout"&&(X=C._wrapperState)&&X.controlled&&C.type==="number"&&oy(C,"number",C.value)}switch(X=g?Vc(g):window,t){case"focusin":(Jw(X)||X.contentEditable==="true")&&(Fc=X,vy=g,ch=null);break;case"focusout":ch=vy=Fc=null;break;case"mousedown":xy=!0;break;case"contextmenu":case"mouseup":case"dragend":xy=!1,iE(w,n,x);break;case"selectionchange":if(zN)break;case"keydown":case"keyup":iE(w,n,x)}var S;if(yx)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Lc?hA(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(dA&&n.locale!=="ko"&&(Lc||M!=="onCompositionStart"?M==="onCompositionEnd"&&Lc&&(S=uA()):(ya=x,px="value"in ya?ya.value:ya.textContent,Lc=!0)),X=p0(g,M),0<X.length&&(M=new Xw(M,t,null,n,x),w.push({event:M,listeners:X}),S?M.data=S:(S=fA(n),S!==null&&(M.data=S)))),(S=PN?NN(t,n):ON(t,n))&&(g=p0(g,"onBeforeInput"),0<g.length&&(x=new Xw("onBeforeInput","beforeinput",null,n,x),w.push({event:x,listeners:g}),x.data=S))}IA(w,e)})}function Nh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function p0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bh(t,n),o!=null&&r.unshift(Nh(t,o,i)),o=bh(t,e),o!=null&&r.push(Nh(t,o,i))),t=t.return}return r}function xc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aE(t,e,n,r,i){for(var o=e._reactName,c=[];n!==null&&n!==r;){var h=n,p=h.alternate,g=h.stateNode;if(p!==null&&p===r)break;h.tag===5&&g!==null&&(h=g,i?(p=bh(n,o),p!=null&&c.unshift(Nh(n,p,h))):i||(p=bh(n,o),p!=null&&c.push(Nh(n,p,h)))),n=n.return}c.length!==0&&t.push({event:e,listeners:c})}var GN=/\r\n?/g,qN=/\u0000|\uFFFD/g;function lE(t){return(typeof t=="string"?t:""+t).replace(GN,`
`).replace(qN,"")}function up(t,e,n){if(e=lE(e),lE(t)!==e&&n)throw Error(we(425))}function g0(){}var wy=null,Ey=null;function _y(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cy=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,XN=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(t){return cE.resolve(null).then(t).catch(YN)}:Cy;function YN(t){setTimeout(function(){throw t})}function gm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Th(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Th(e)}function ba(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xu=Math.random().toString(36).slice(2),Ws="__reactFiber$"+Xu,Oh="__reactProps$"+Xu,Ro="__reactContainer$"+Xu,by="__reactEvents$"+Xu,QN="__reactListeners$"+Xu,ZN="__reactHandles$"+Xu;function ml(t){var e=t[Ws];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ro]||n[Ws]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uE(t);t!==null;){if(n=t[Ws])return n;t=uE(t)}return e}t=n,n=t.parentNode}return null}function mf(t){return t=t[Ws]||t[Ro],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function x1(t){return t[Oh]||null}var Iy=[],Uc=-1;function Wa(t){return{current:t}}function vn(t){0>Uc||(t.current=Iy[Uc],Iy[Uc]=null,Uc--)}function cn(t,e){Uc++,Iy[Uc]=t.current,t.current=e}var Fa={},Ur=Wa(Fa),gi=Wa(!1),Bl=Fa;function wu(t,e){var n=t.type.contextTypes;if(!n)return Fa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mi(t){return t=t.childContextTypes,t!=null}function m0(){vn(gi),vn(Ur)}function dE(t,e,n){if(Ur.current!==Fa)throw Error(we(168));cn(Ur,e),cn(gi,n)}function TA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(we(108,LP(t)||"Unknown",i));return Tn({},n,r)}function y0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fa,Bl=Ur.current,cn(Ur,t),cn(gi,gi.current),!0}function hE(t,e,n){var r=t.stateNode;if(!r)throw Error(we(169));n?(t=TA(t,e,Bl),r.__reactInternalMemoizedMergedChildContext=t,vn(gi),vn(Ur),cn(Ur,t)):vn(gi),cn(gi,n)}var uo=null,w1=!1,mm=!1;function SA(t){uo===null?uo=[t]:uo.push(t)}function JN(t){w1=!0,SA(t)}function Ha(){if(!mm&&uo!==null){mm=!0;var t=0,e=Yt;try{var n=uo;for(Yt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}uo=null,w1=!1}catch(i){throw uo!==null&&(uo=uo.slice(t+1)),JI(ux,Ha),i}finally{Yt=e,mm=!1}}return null}var jc=[],zc=0,v0=null,x0=0,Qi=[],Zi=0,Vl=null,yo=1,vo="";function cl(t,e){jc[zc++]=x0,jc[zc++]=v0,v0=t,x0=e}function RA(t,e,n){Qi[Zi++]=yo,Qi[Zi++]=vo,Qi[Zi++]=Vl,Vl=t;var r=yo;t=vo;var i=32-Es(r)-1;r&=~(1<<i),n+=1;var o=32-Es(e)+i;if(30<o){var c=i-i%5;o=(r&(1<<c)-1).toString(32),r>>=c,i-=c,yo=1<<32-Es(e)+i|n<<i|r,vo=o+t}else yo=1<<o|n<<i|r,vo=t}function xx(t){t.return!==null&&(cl(t,1),RA(t,1,0))}function wx(t){for(;t===v0;)v0=jc[--zc],jc[zc]=null,x0=jc[--zc],jc[zc]=null;for(;t===Vl;)Vl=Qi[--Zi],Qi[Zi]=null,vo=Qi[--Zi],Qi[Zi]=null,yo=Qi[--Zi],Qi[Zi]=null}var Mi=null,Di=null,_n=!1,vs=null;function PA(t,e){var n=ts(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mi=t,Di=ba(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mi=t,Di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vl!==null?{id:yo,overflow:vo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ts(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mi=t,Di=null,!0):!1;default:return!1}}function Ay(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ty(t){if(_n){var e=Di;if(e){var n=e;if(!fE(t,e)){if(Ay(t))throw Error(we(418));e=ba(n.nextSibling);var r=Mi;e&&fE(t,e)?PA(r,n):(t.flags=t.flags&-4097|2,_n=!1,Mi=t)}}else{if(Ay(t))throw Error(we(418));t.flags=t.flags&-4097|2,_n=!1,Mi=t}}}function pE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mi=t}function dp(t){if(t!==Mi)return!1;if(!_n)return pE(t),_n=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_y(t.type,t.memoizedProps)),e&&(e=Di)){if(Ay(t))throw NA(),Error(we(418));for(;e;)PA(t,e),e=ba(e.nextSibling)}if(pE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Di=ba(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Di=null}}else Di=Mi?ba(t.stateNode.nextSibling):null;return!0}function NA(){for(var t=Di;t;)t=ba(t.nextSibling)}function Eu(){Di=Mi=null,_n=!1}function Ex(t){vs===null?vs=[t]:vs.push(t)}var eO=Fo.ReactCurrentBatchConfig;function Nd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var r=n.stateNode}if(!r)throw Error(we(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var h=i.refs;c===null?delete h[o]:h[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,t))}return t}function hp(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gE(t){var e=t._init;return e(t._payload)}function OA(t){function e(D,I){if(t){var R=D.deletions;R===null?(D.deletions=[I],D.flags|=16):R.push(I)}}function n(D,I){if(!t)return null;for(;I!==null;)e(D,I),I=I.sibling;return null}function r(D,I){for(D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function i(D,I){return D=Sa(D,I),D.index=0,D.sibling=null,D}function o(D,I,R){return D.index=R,t?(R=D.alternate,R!==null?(R=R.index,R<I?(D.flags|=2,I):R):(D.flags|=2,I)):(D.flags|=1048576,I)}function c(D){return t&&D.alternate===null&&(D.flags|=2),D}function h(D,I,R,V){return I===null||I.tag!==6?(I=Cm(R,D.mode,V),I.return=D,I):(I=i(I,R),I.return=D,I)}function p(D,I,R,V){var H=R.type;return H===Mc?x(D,I,R.props.children,V,R.key):I!==null&&(I.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ea&&gE(H)===I.type)?(V=i(I,R.props),V.ref=Nd(D,I,R),V.return=D,V):(V=zp(R.type,R.key,R.props,null,D.mode,V),V.ref=Nd(D,I,R),V.return=D,V)}function g(D,I,R,V){return I===null||I.tag!==4||I.stateNode.containerInfo!==R.containerInfo||I.stateNode.implementation!==R.implementation?(I=bm(R,D.mode,V),I.return=D,I):(I=i(I,R.children||[]),I.return=D,I)}function x(D,I,R,V,H){return I===null||I.tag!==7?(I=Dl(R,D.mode,V,H),I.return=D,I):(I=i(I,R),I.return=D,I)}function w(D,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Cm(""+I,D.mode,R),I.return=D,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case tp:return R=zp(I.type,I.key,I.props,null,D.mode,R),R.ref=Nd(D,null,I),R.return=D,R;case Dc:return I=bm(I,D.mode,R),I.return=D,I;case ea:var V=I._init;return w(D,V(I._payload),R)}if(qd(I)||Ad(I))return I=Dl(I,D.mode,R,null),I.return=D,I;hp(D,I)}return null}function C(D,I,R,V){var H=I!==null?I.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return H!==null?null:h(D,I,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case tp:return R.key===H?p(D,I,R,V):null;case Dc:return R.key===H?g(D,I,R,V):null;case ea:return H=R._init,C(D,I,H(R._payload),V)}if(qd(R)||Ad(R))return H!==null?null:x(D,I,R,V,null);hp(D,R)}return null}function A(D,I,R,V,H){if(typeof V=="string"&&V!==""||typeof V=="number")return D=D.get(R)||null,h(I,D,""+V,H);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case tp:return D=D.get(V.key===null?R:V.key)||null,p(I,D,V,H);case Dc:return D=D.get(V.key===null?R:V.key)||null,g(I,D,V,H);case ea:var X=V._init;return A(D,I,R,X(V._payload),H)}if(qd(V)||Ad(V))return D=D.get(R)||null,x(I,D,V,H,null);hp(I,V)}return null}function k(D,I,R,V){for(var H=null,X=null,S=I,M=I=0,N=null;S!==null&&M<R.length;M++){S.index>M?(N=S,S=null):N=S.sibling;var W=C(D,S,R[M],V);if(W===null){S===null&&(S=N);break}t&&S&&W.alternate===null&&e(D,S),I=o(W,I,M),X===null?H=W:X.sibling=W,X=W,S=N}if(M===R.length)return n(D,S),_n&&cl(D,M),H;if(S===null){for(;M<R.length;M++)S=w(D,R[M],V),S!==null&&(I=o(S,I,M),X===null?H=S:X.sibling=S,X=S);return _n&&cl(D,M),H}for(S=r(D,S);M<R.length;M++)N=A(S,D,M,R[M],V),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?M:N.key),I=o(N,I,M),X===null?H=N:X.sibling=N,X=N);return t&&S.forEach(function(G){return e(D,G)}),_n&&cl(D,M),H}function O(D,I,R,V){var H=Ad(R);if(typeof H!="function")throw Error(we(150));if(R=H.call(R),R==null)throw Error(we(151));for(var X=H=null,S=I,M=I=0,N=null,W=R.next();S!==null&&!W.done;M++,W=R.next()){S.index>M?(N=S,S=null):N=S.sibling;var G=C(D,S,W.value,V);if(G===null){S===null&&(S=N);break}t&&S&&G.alternate===null&&e(D,S),I=o(G,I,M),X===null?H=G:X.sibling=G,X=G,S=N}if(W.done)return n(D,S),_n&&cl(D,M),H;if(S===null){for(;!W.done;M++,W=R.next())W=w(D,W.value,V),W!==null&&(I=o(W,I,M),X===null?H=W:X.sibling=W,X=W);return _n&&cl(D,M),H}for(S=r(D,S);!W.done;M++,W=R.next())W=A(S,D,M,W.value,V),W!==null&&(t&&W.alternate!==null&&S.delete(W.key===null?M:W.key),I=o(W,I,M),X===null?H=W:X.sibling=W,X=W);return t&&S.forEach(function(q){return e(D,q)}),_n&&cl(D,M),H}function U(D,I,R,V){if(typeof R=="object"&&R!==null&&R.type===Mc&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case tp:e:{for(var H=R.key,X=I;X!==null;){if(X.key===H){if(H=R.type,H===Mc){if(X.tag===7){n(D,X.sibling),I=i(X,R.props.children),I.return=D,D=I;break e}}else if(X.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===ea&&gE(H)===X.type){n(D,X.sibling),I=i(X,R.props),I.ref=Nd(D,X,R),I.return=D,D=I;break e}n(D,X);break}else e(D,X);X=X.sibling}R.type===Mc?(I=Dl(R.props.children,D.mode,V,R.key),I.return=D,D=I):(V=zp(R.type,R.key,R.props,null,D.mode,V),V.ref=Nd(D,I,R),V.return=D,D=V)}return c(D);case Dc:e:{for(X=R.key;I!==null;){if(I.key===X)if(I.tag===4&&I.stateNode.containerInfo===R.containerInfo&&I.stateNode.implementation===R.implementation){n(D,I.sibling),I=i(I,R.children||[]),I.return=D,D=I;break e}else{n(D,I);break}else e(D,I);I=I.sibling}I=bm(R,D.mode,V),I.return=D,D=I}return c(D);case ea:return X=R._init,U(D,I,X(R._payload),V)}if(qd(R))return k(D,I,R,V);if(Ad(R))return O(D,I,R,V);hp(D,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,I!==null&&I.tag===6?(n(D,I.sibling),I=i(I,R),I.return=D,D=I):(n(D,I),I=Cm(R,D.mode,V),I.return=D,D=I),c(D)):n(D,I)}return U}var _u=OA(!0),kA=OA(!1),w0=Wa(null),E0=null,$c=null,_x=null;function Cx(){_x=$c=E0=null}function bx(t){var e=w0.current;vn(w0),t._currentValue=e}function Sy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zc(t,e){E0=t,_x=$c=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pi=!0),t.firstContext=null)}function rs(t){var e=t._currentValue;if(_x!==t)if(t={context:t,memoizedValue:e,next:null},$c===null){if(E0===null)throw Error(we(308));$c=t,E0.dependencies={lanes:0,firstContext:t}}else $c=$c.next=t;return e}var yl=null;function Ix(t){yl===null?yl=[t]:yl.push(t)}function DA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ix(e)):(n.next=i.next,i.next=n),e.interleaved=n,Po(t,r)}function Po(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ta=!1;function Ax(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Co(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Po(t,n)}return i=r.interleaved,i===null?(e.next=e,Ix(r)):(e.next=i.next,i.next=e),r.interleaved=e,Po(t,n)}function Lp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dx(t,n)}}function mE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _0(t,e,n,r){var i=t.updateQueue;ta=!1;var o=i.firstBaseUpdate,c=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var p=h,g=p.next;p.next=null,c===null?o=g:c.next=g,c=p;var x=t.alternate;x!==null&&(x=x.updateQueue,h=x.lastBaseUpdate,h!==c&&(h===null?x.firstBaseUpdate=g:h.next=g,x.lastBaseUpdate=p))}if(o!==null){var w=i.baseState;c=0,x=g=p=null,h=o;do{var C=h.lane,A=h.eventTime;if((r&C)===C){x!==null&&(x=x.next={eventTime:A,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var k=t,O=h;switch(C=e,A=n,O.tag){case 1:if(k=O.payload,typeof k=="function"){w=k.call(A,w,C);break e}w=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=O.payload,C=typeof k=="function"?k.call(A,w,C):k,C==null)break e;w=Tn({},w,C);break e;case 2:ta=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,C=i.effects,C===null?i.effects=[h]:C.push(h))}else A={eventTime:A,lane:C,tag:h.tag,payload:h.payload,callback:h.callback,next:null},x===null?(g=x=A,p=w):x=x.next=A,c|=C;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;C=h,h=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(!0);if(x===null&&(p=w),i.baseState=p,i.firstBaseUpdate=g,i.lastBaseUpdate=x,e=i.shared.interleaved,e!==null){i=e;do c|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);jl|=c,t.lanes=c,t.memoizedState=w}}function yE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(we(191,i));i.call(r)}}}var yf={},Gs=Wa(yf),kh=Wa(yf),Dh=Wa(yf);function vl(t){if(t===yf)throw Error(we(174));return t}function Tx(t,e){switch(cn(Dh,e),cn(kh,t),cn(Gs,yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ly(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ly(e,t)}vn(Gs),cn(Gs,e)}function Cu(){vn(Gs),vn(kh),vn(Dh)}function LA(t){vl(Dh.current);var e=vl(Gs.current),n=ly(e,t.type);e!==n&&(cn(kh,t),cn(Gs,n))}function Sx(t){kh.current===t&&(vn(Gs),vn(kh))}var In=Wa(0);function C0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ym=[];function Rx(){for(var t=0;t<ym.length;t++)ym[t]._workInProgressVersionPrimary=null;ym.length=0}var Fp=Fo.ReactCurrentDispatcher,vm=Fo.ReactCurrentBatchConfig,Ul=0,An=null,ir=null,dr=null,b0=!1,uh=!1,Mh=0,tO=0;function Pr(){throw Error(we(321))}function Px(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bs(t[n],e[n]))return!1;return!0}function Nx(t,e,n,r,i,o){if(Ul=o,An=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fp.current=t===null||t.memoizedState===null?sO:oO,t=n(r,i),uh){o=0;do{if(uh=!1,Mh=0,25<=o)throw Error(we(301));o+=1,dr=ir=null,e.updateQueue=null,Fp.current=aO,t=n(r,i)}while(uh)}if(Fp.current=I0,e=ir!==null&&ir.next!==null,Ul=0,dr=ir=An=null,b0=!1,e)throw Error(we(300));return t}function Ox(){var t=Mh!==0;return Mh=0,t}function Bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?An.memoizedState=dr=t:dr=dr.next=t,dr}function is(){if(ir===null){var t=An.alternate;t=t!==null?t.memoizedState:null}else t=ir.next;var e=dr===null?An.memoizedState:dr.next;if(e!==null)dr=e,ir=t;else{if(t===null)throw Error(we(310));ir=t,t={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},dr===null?An.memoizedState=dr=t:dr=dr.next=t}return dr}function Lh(t,e){return typeof e=="function"?e(t):e}function xm(t){var e=is(),n=e.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=t;var r=ir,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var c=i.next;i.next=o.next,o.next=c}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var h=c=null,p=null,g=o;do{var x=g.lane;if((Ul&x)===x)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:t(r,g.action);else{var w={lane:x,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(h=p=w,c=r):p=p.next=w,An.lanes|=x,jl|=x}g=g.next}while(g!==null&&g!==o);p===null?c=r:p.next=h,bs(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=p,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,An.lanes|=o,jl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wm(t){var e=is(),n=e.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do o=t(o,c.action),c=c.next;while(c!==i);bs(o,e.memoizedState)||(pi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function FA(){}function BA(t,e){var n=An,r=is(),i=e(),o=!bs(r.memoizedState,i);if(o&&(r.memoizedState=i,pi=!0),r=r.queue,kx(jA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,Fh(9,UA.bind(null,n,r,i,e),void 0,null),hr===null)throw Error(we(349));Ul&30||VA(n,e,i)}return i}function VA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UA(t,e,n,r){e.value=n,e.getSnapshot=r,zA(e)&&$A(t)}function jA(t,e,n){return n(function(){zA(e)&&$A(t)})}function zA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bs(t,n)}catch{return!0}}function $A(t){var e=Po(t,1);e!==null&&_s(e,t,1,-1)}function vE(t){var e=Bs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lh,lastRenderedState:t},e.queue=t,t=t.dispatch=iO.bind(null,An,t),[e.memoizedState,t]}function Fh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WA(){return is().memoizedState}function Bp(t,e,n,r){var i=Bs();An.flags|=t,i.memoizedState=Fh(1|e,n,void 0,r===void 0?null:r)}function E1(t,e,n,r){var i=is();r=r===void 0?null:r;var o=void 0;if(ir!==null){var c=ir.memoizedState;if(o=c.destroy,r!==null&&Px(r,c.deps)){i.memoizedState=Fh(e,n,o,r);return}}An.flags|=t,i.memoizedState=Fh(1|e,n,o,r)}function xE(t,e){return Bp(8390656,8,t,e)}function kx(t,e){return E1(2048,8,t,e)}function HA(t,e){return E1(4,2,t,e)}function GA(t,e){return E1(4,4,t,e)}function qA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KA(t,e,n){return n=n!=null?n.concat([t]):null,E1(4,4,qA.bind(null,e,t),n)}function Dx(){}function XA(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Px(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YA(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Px(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QA(t,e,n){return Ul&21?(bs(n,e)||(n=nA(),An.lanes|=n,jl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pi=!0),t.memoizedState=n)}function nO(t,e){var n=Yt;Yt=n!==0&&4>n?n:4,t(!0);var r=vm.transition;vm.transition={};try{t(!1),e()}finally{Yt=n,vm.transition=r}}function ZA(){return is().memoizedState}function rO(t,e,n){var r=Ta(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JA(t))eT(e,n);else if(n=DA(t,e,n,r),n!==null){var i=Zr();_s(n,t,r,i),tT(n,e,r)}}function iO(t,e,n){var r=Ta(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JA(t))eT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,h=o(c,n);if(i.hasEagerState=!0,i.eagerState=h,bs(h,c)){var p=e.interleaved;p===null?(i.next=i,Ix(e)):(i.next=p.next,p.next=i),e.interleaved=i;return}}catch{}finally{}n=DA(t,e,i,r),n!==null&&(i=Zr(),_s(n,t,r,i),tT(n,e,r))}}function JA(t){var e=t.alternate;return t===An||e!==null&&e===An}function eT(t,e){uh=b0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dx(t,n)}}var I0={readContext:rs,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},sO={readContext:rs,useCallback:function(t,e){return Bs().memoizedState=[t,e===void 0?null:e],t},useContext:rs,useEffect:xE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bp(4194308,4,qA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bp(4,2,t,e)},useMemo:function(t,e){var n=Bs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rO.bind(null,An,t),[r.memoizedState,t]},useRef:function(t){var e=Bs();return t={current:t},e.memoizedState=t},useState:vE,useDebugValue:Dx,useDeferredValue:function(t){return Bs().memoizedState=t},useTransition:function(){var t=vE(!1),e=t[0];return t=nO.bind(null,t[1]),Bs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=An,i=Bs();if(_n){if(n===void 0)throw Error(we(407));n=n()}else{if(n=e(),hr===null)throw Error(we(349));Ul&30||VA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,xE(jA.bind(null,r,o,t),[t]),r.flags|=2048,Fh(9,UA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Bs(),e=hr.identifierPrefix;if(_n){var n=vo,r=yo;n=(r&~(1<<32-Es(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oO={readContext:rs,useCallback:XA,useContext:rs,useEffect:kx,useImperativeHandle:KA,useInsertionEffect:HA,useLayoutEffect:GA,useMemo:YA,useReducer:xm,useRef:WA,useState:function(){return xm(Lh)},useDebugValue:Dx,useDeferredValue:function(t){var e=is();return QA(e,ir.memoizedState,t)},useTransition:function(){var t=xm(Lh)[0],e=is().memoizedState;return[t,e]},useMutableSource:FA,useSyncExternalStore:BA,useId:ZA,unstable_isNewReconciler:!1},aO={readContext:rs,useCallback:XA,useContext:rs,useEffect:kx,useImperativeHandle:KA,useInsertionEffect:HA,useLayoutEffect:GA,useMemo:YA,useReducer:wm,useRef:WA,useState:function(){return wm(Lh)},useDebugValue:Dx,useDeferredValue:function(t){var e=is();return ir===null?e.memoizedState=t:QA(e,ir.memoizedState,t)},useTransition:function(){var t=wm(Lh)[0],e=is().memoizedState;return[t,e]},useMutableSource:FA,useSyncExternalStore:BA,useId:ZA,unstable_isNewReconciler:!1};function ps(t,e){if(t&&t.defaultProps){e=Tn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ry(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _1={isMounted:function(t){return(t=t._reactInternals)?nc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=Ta(t),o=Co(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ia(t,o,i),e!==null&&(_s(e,t,i,r),Lp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=Ta(t),o=Co(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ia(t,o,i),e!==null&&(_s(e,t,i,r),Lp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zr(),r=Ta(t),i=Co(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ia(t,i,r),e!==null&&(_s(e,t,r,n),Lp(e,t,r))}};function wE(t,e,n,r,i,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,c):e.prototype&&e.prototype.isPureReactComponent?!Rh(n,r)||!Rh(i,o):!0}function nT(t,e,n){var r=!1,i=Fa,o=e.contextType;return typeof o=="object"&&o!==null?o=rs(o):(i=mi(e)?Bl:Ur.current,r=e.contextTypes,o=(r=r!=null)?wu(t,i):Fa),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function EE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_1.enqueueReplaceState(e,e.state,null)}function Py(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ax(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rs(o):(o=mi(e)?Bl:Ur.current,i.context=wu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ry(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_1.enqueueReplaceState(i,i.state,null),_0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bu(t,e){try{var n="",r=e;do n+=MP(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Em(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ny(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lO=typeof WeakMap=="function"?WeakMap:Map;function rT(t,e,n){n=Co(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){T0||(T0=!0,jy=r),Ny(t,e)},n}function iT(t,e,n){n=Co(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ny(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ny(t,e),typeof r!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),n}function _E(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_O.bind(null,t,e,n),e.then(t,t))}function CE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Co(-1,1),e.tag=2,Ia(n,e,1))),n.lanes|=1),t)}var cO=Fo.ReactCurrentOwner,pi=!1;function Xr(t,e,n,r){e.child=t===null?kA(e,null,n,r):_u(e,t.child,n,r)}function IE(t,e,n,r,i){n=n.render;var o=e.ref;return Zc(e,i),r=Nx(t,e,n,r,o,i),n=Ox(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(_n&&n&&xx(e),e.flags|=1,Xr(t,e,r,i),e.child)}function AE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!zx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sT(t,e,o,r,i)):(t=zp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rh,n(c,r)&&t.ref===e.ref)return No(t,e,i)}return e.flags|=1,t=Sa(o,r),t.ref=e.ref,t.return=e,e.child=t}function sT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Rh(o,r)&&t.ref===e.ref)if(pi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(pi=!0);else return e.lanes=t.lanes,No(t,e,i)}return Oy(t,e,n,r,i)}function oT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(Hc,Ni),Ni|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,cn(Hc,Ni),Ni|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,cn(Hc,Ni),Ni|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,cn(Hc,Ni),Ni|=r;return Xr(t,e,i,n),e.child}function aT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Oy(t,e,n,r,i){var o=mi(n)?Bl:Ur.current;return o=wu(e,o),Zc(e,i),n=Nx(t,e,n,r,o,i),r=Ox(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,No(t,e,i)):(_n&&r&&xx(e),e.flags|=1,Xr(t,e,n,i),e.child)}function TE(t,e,n,r,i){if(mi(n)){var o=!0;y0(e)}else o=!1;if(Zc(e,i),e.stateNode===null)Vp(t,e),nT(e,n,r),Py(e,n,r,i),r=!0;else if(t===null){var c=e.stateNode,h=e.memoizedProps;c.props=h;var p=c.context,g=n.contextType;typeof g=="object"&&g!==null?g=rs(g):(g=mi(n)?Bl:Ur.current,g=wu(e,g));var x=n.getDerivedStateFromProps,w=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function";w||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||p!==g)&&EE(e,c,r,g),ta=!1;var C=e.memoizedState;c.state=C,_0(e,r,c,i),p=e.memoizedState,h!==r||C!==p||gi.current||ta?(typeof x=="function"&&(Ry(e,n,x,r),p=e.memoizedState),(h=ta||wE(e,n,h,r,C,p,g))?(w||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=p),c.props=r,c.state=p,c.context=g,r=h):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,MA(t,e),h=e.memoizedProps,g=e.type===e.elementType?h:ps(e.type,h),c.props=g,w=e.pendingProps,C=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=rs(p):(p=mi(n)?Bl:Ur.current,p=wu(e,p));var A=n.getDerivedStateFromProps;(x=typeof A=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==w||C!==p)&&EE(e,c,r,p),ta=!1,C=e.memoizedState,c.state=C,_0(e,r,c,i);var k=e.memoizedState;h!==w||C!==k||gi.current||ta?(typeof A=="function"&&(Ry(e,n,A,r),k=e.memoizedState),(g=ta||wE(e,n,g,r,C,k,p)||!1)?(x||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,k,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,k,p)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),c.props=r,c.state=k,c.context=p,r=g):(typeof c.componentDidUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),r=!1)}return ky(t,e,n,r,o,i)}function ky(t,e,n,r,i,o){aT(t,e);var c=(e.flags&128)!==0;if(!r&&!c)return i&&hE(e,n,!1),No(t,e,o);r=e.stateNode,cO.current=e;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&c?(e.child=_u(e,t.child,null,o),e.child=_u(e,null,h,o)):Xr(t,e,h,o),e.memoizedState=r.state,i&&hE(e,n,!0),e.child}function lT(t){var e=t.stateNode;e.pendingContext?dE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dE(t,e.context,!1),Tx(t,e.containerInfo)}function SE(t,e,n,r,i){return Eu(),Ex(i),e.flags|=256,Xr(t,e,n,r),e.child}var Dy={dehydrated:null,treeContext:null,retryLane:0};function My(t){return{baseLanes:t,cachePool:null,transitions:null}}function cT(t,e,n){var r=e.pendingProps,i=In.current,o=!1,c=(e.flags&128)!==0,h;if((h=c)||(h=t!==null&&t.memoizedState===null?!1:(i&2)!==0),h?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),cn(In,i&1),t===null)return Ty(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,t=r.fallback,o?(r=e.mode,o=e.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=I1(c,r,0,null),t=Dl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=My(n),e.memoizedState=Dy,t):Mx(e,c));if(i=t.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return uO(t,e,c,r,h,i,n);if(o){o=r.fallback,c=e.mode,i=t.child,h=i.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=p,e.deletions=null):(r=Sa(i,p),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?o=Sa(h,o):(o=Dl(o,c,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,c=t.child.memoizedState,c=c===null?My(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=t.childLanes&~n,e.memoizedState=Dy,r}return o=t.child,t=o.sibling,r=Sa(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mx(t,e){return e=I1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fp(t,e,n,r){return r!==null&&Ex(r),_u(e,t.child,null,n),t=Mx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uO(t,e,n,r,i,o,c){if(n)return e.flags&256?(e.flags&=-257,r=Em(Error(we(422))),fp(t,e,c,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=I1({mode:"visible",children:r.children},i,0,null),o=Dl(o,i,c,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&_u(e,t.child,null,c),e.child.memoizedState=My(c),e.memoizedState=Dy,o);if(!(e.mode&1))return fp(t,e,c,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(we(419)),r=Em(o,r,void 0),fp(t,e,c,r)}if(h=(c&t.childLanes)!==0,pi||h){if(r=hr,r!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|c)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Po(t,i),_s(r,t,i,-1))}return jx(),r=Em(Error(we(421))),fp(t,e,c,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CO.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Di=ba(i.nextSibling),Mi=e,_n=!0,vs=null,t!==null&&(Qi[Zi++]=yo,Qi[Zi++]=vo,Qi[Zi++]=Vl,yo=t.id,vo=t.overflow,Vl=e),e=Mx(e,r.children),e.flags|=4096,e)}function RE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sy(t.return,e,n)}function _m(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function uT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xr(t,e,r.children,n),r=In.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RE(t,n,e);else if(t.tag===19)RE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(cn(In,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&C0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_m(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&C0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_m(e,!0,n,null,o);break;case"together":_m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function No(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,n=Sa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dO(t,e,n){switch(e.tag){case 3:lT(e),Eu();break;case 5:LA(e);break;case 1:mi(e.type)&&y0(e);break;case 4:Tx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;cn(w0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(cn(In,In.current&1),e.flags|=128,null):n&e.child.childLanes?cT(t,e,n):(cn(In,In.current&1),t=No(t,e,n),t!==null?t.sibling:null);cn(In,In.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),cn(In,In.current),r)break;return null;case 22:case 23:return e.lanes=0,oT(t,e,n)}return No(t,e,n)}var dT,Ly,hT,fT;dT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ly=function(){};hT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vl(Gs.current);var o=null;switch(n){case"input":i=iy(t,i),r=iy(t,r),o=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),o=[];break;case"textarea":i=ay(t,i),r=ay(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=g0)}cy(n,r);var c;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var h=i[g];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(_h.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var p=r[g];if(h=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&p!==h&&(p!=null||h!=null))if(g==="style")if(h){for(c in h)!h.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&h[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(o||(o=[]),o.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(o=o||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(_h.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&gn("scroll",t),o||h===p||(o=[])):(o=o||[]).push(g,p))}n&&(o=o||[]).push("style",n);var g=o;(e.updateQueue=g)&&(e.flags|=4)}};fT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Od(t,e){if(!_n)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hO(t,e,n){var r=e.pendingProps;switch(wx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return mi(e.type)&&m0(),Nr(e),null;case 3:return r=e.stateNode,Cu(),vn(gi),vn(Ur),Rx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vs!==null&&(Wy(vs),vs=null))),Ly(t,e),Nr(e),null;case 5:Sx(e);var i=vl(Dh.current);if(n=e.type,t!==null&&e.stateNode!=null)hT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(we(166));return Nr(e),null}if(t=vl(Gs.current),dp(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ws]=e,r[Oh]=o,t=(e.mode&1)!==0,n){case"dialog":gn("cancel",r),gn("close",r);break;case"iframe":case"object":case"embed":gn("load",r);break;case"video":case"audio":for(i=0;i<Xd.length;i++)gn(Xd[i],r);break;case"source":gn("error",r);break;case"img":case"image":case"link":gn("error",r),gn("load",r);break;case"details":gn("toggle",r);break;case"input":Bw(r,o),gn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},gn("invalid",r);break;case"textarea":Uw(r,o),gn("invalid",r)}cy(n,o),i=null;for(var c in o)if(o.hasOwnProperty(c)){var h=o[c];c==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&up(r.textContent,h,t),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&up(r.textContent,h,t),i=["children",""+h]):_h.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&gn("scroll",r)}switch(n){case"input":np(r),Vw(r,o,!0);break;case"textarea":np(r),jw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=g0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),n==="select"&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Ws]=e,t[Oh]=r,dT(t,e,!1,!1),e.stateNode=t;e:{switch(c=uy(n,r),n){case"dialog":gn("cancel",t),gn("close",t),i=r;break;case"iframe":case"object":case"embed":gn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xd.length;i++)gn(Xd[i],t);i=r;break;case"source":gn("error",t),i=r;break;case"img":case"image":case"link":gn("error",t),gn("load",t),i=r;break;case"details":gn("toggle",t),i=r;break;case"input":Bw(t,r),i=iy(t,r),gn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),gn("invalid",t);break;case"textarea":Uw(t,r),i=ay(t,r),gn("invalid",t);break;default:i=r}cy(n,i),h=i;for(o in h)if(h.hasOwnProperty(o)){var p=h[o];o==="style"?WI(t,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&zI(t,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Ch(t,p):typeof p=="number"&&Ch(t,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_h.hasOwnProperty(o)?p!=null&&o==="onScroll"&&gn("scroll",t):p!=null&&sx(t,o,p,c))}switch(n){case"input":np(t),Vw(t,r,!1);break;case"textarea":np(t),jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+La(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Kc(t,!!r.multiple,o,!1):r.defaultValue!=null&&Kc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=g0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)fT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(we(166));if(n=vl(Dh.current),vl(Gs.current),dp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ws]=e,(o=r.nodeValue!==n)&&(t=Mi,t!==null))switch(t.tag){case 3:up(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&up(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ws]=e,e.stateNode=r}return Nr(e),null;case 13:if(vn(In),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_n&&Di!==null&&e.mode&1&&!(e.flags&128))NA(),Eu(),e.flags|=98560,o=!1;else if(o=dp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(we(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(we(317));o[Ws]=e}else Eu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),o=!1}else vs!==null&&(Wy(vs),vs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||In.current&1?or===0&&(or=3):jx())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return Cu(),Ly(t,e),t===null&&Ph(e.stateNode.containerInfo),Nr(e),null;case 10:return bx(e.type._context),Nr(e),null;case 17:return mi(e.type)&&m0(),Nr(e),null;case 19:if(vn(In),o=e.memoizedState,o===null)return Nr(e),null;if(r=(e.flags&128)!==0,c=o.rendering,c===null)if(r)Od(o,!1);else{if(or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(c=C0(t),c!==null){for(e.flags|=128,Od(o,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return cn(In,In.current&1|2),e.child}t=t.sibling}o.tail!==null&&$n()>Iu&&(e.flags|=128,r=!0,Od(o,!1),e.lanes=4194304)}else{if(!r)if(t=C0(c),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Od(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!_n)return Nr(e),null}else 2*$n()-o.renderingStartTime>Iu&&n!==1073741824&&(e.flags|=128,r=!0,Od(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(n=o.last,n!==null?n.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$n(),e.sibling=null,n=In.current,cn(In,r?n&1|2:n&1),e):(Nr(e),null);case 22:case 23:return Ux(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ni&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function fO(t,e){switch(wx(e),e.tag){case 1:return mi(e.type)&&m0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cu(),vn(gi),vn(Ur),Rx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sx(e),null;case 13:if(vn(In),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));Eu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vn(In),null;case 4:return Cu(),null;case 10:return bx(e.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var pp=!1,Fr=!1,pO=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Wc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mn(t,e,r)}else n.current=null}function Fy(t,e,n){try{n()}catch(r){Mn(t,e,r)}}var PE=!1;function gO(t,e){if(wy=h0,t=vA(),vx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,h=-1,p=-1,g=0,x=0,w=t,C=null;t:for(;;){for(var A;w!==n||i!==0&&w.nodeType!==3||(h=c+i),w!==o||r!==0&&w.nodeType!==3||(p=c+r),w.nodeType===3&&(c+=w.nodeValue.length),(A=w.firstChild)!==null;)C=w,w=A;for(;;){if(w===t)break t;if(C===n&&++g===i&&(h=c),C===o&&++x===r&&(p=c),(A=w.nextSibling)!==null)break;w=C,C=w.parentNode}w=A}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ey={focusedElem:t,selectionRange:n},h0=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){e=Ve;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var O=k.memoizedProps,U=k.memoizedState,D=e.stateNode,I=D.getSnapshotBeforeUpdate(e.elementType===e.type?O:ps(e.type,O),U);D.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(V){Mn(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}return k=PE,PE=!1,k}function dh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Fy(e,n,o)}i=i.next}while(i!==r)}}function C1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function By(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pT(t){var e=t.alternate;e!==null&&(t.alternate=null,pT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ws],delete e[Oh],delete e[by],delete e[QN],delete e[ZN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gT(t){return t.tag===5||t.tag===3||t.tag===4}function NE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=g0));else if(r!==4&&(t=t.child,t!==null))for(Vy(t,e,n),t=t.sibling;t!==null;)Vy(t,e,n),t=t.sibling}function Uy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uy(t,e,n),t=t.sibling;t!==null;)Uy(t,e,n),t=t.sibling}var wr=null,ys=!1;function Ko(t,e,n){for(n=n.child;n!==null;)mT(t,e,n),n=n.sibling}function mT(t,e,n){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(g1,n)}catch{}switch(n.tag){case 5:Fr||Wc(n,e);case 6:var r=wr,i=ys;wr=null,Ko(t,e,n),wr=r,ys=i,wr!==null&&(ys?(t=wr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wr.removeChild(n.stateNode));break;case 18:wr!==null&&(ys?(t=wr,n=n.stateNode,t.nodeType===8?gm(t.parentNode,n):t.nodeType===1&&gm(t,n),Th(t)):gm(wr,n.stateNode));break;case 4:r=wr,i=ys,wr=n.stateNode.containerInfo,ys=!0,Ko(t,e,n),wr=r,ys=i;break;case 0:case 11:case 14:case 15:if(!Fr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&Fy(n,e,c),i=i.next}while(i!==r)}Ko(t,e,n);break;case 1:if(!Fr&&(Wc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Mn(n,e,h)}Ko(t,e,n);break;case 21:Ko(t,e,n);break;case 22:n.mode&1?(Fr=(r=Fr)||n.memoizedState!==null,Ko(t,e,n),Fr=r):Ko(t,e,n);break;default:Ko(t,e,n)}}function OE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pO),e.forEach(function(r){var i=bO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,c=e,h=c;e:for(;h!==null;){switch(h.tag){case 5:wr=h.stateNode,ys=!1;break e;case 3:wr=h.stateNode.containerInfo,ys=!0;break e;case 4:wr=h.stateNode.containerInfo,ys=!0;break e}h=h.return}if(wr===null)throw Error(we(160));mT(o,c,i),wr=null,ys=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(g){Mn(i,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yT(e,t),e=e.sibling}function yT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fs(e,t),Fs(t),r&4){try{dh(3,t,t.return),C1(3,t)}catch(O){Mn(t,t.return,O)}try{dh(5,t,t.return)}catch(O){Mn(t,t.return,O)}}break;case 1:fs(e,t),Fs(t),r&512&&n!==null&&Wc(n,n.return);break;case 5:if(fs(e,t),Fs(t),r&512&&n!==null&&Wc(n,n.return),t.flags&32){var i=t.stateNode;try{Ch(i,"")}catch(O){Mn(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,c=n!==null?n.memoizedProps:o,h=t.type,p=t.updateQueue;if(t.updateQueue=null,p!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&VI(i,o),uy(h,c);var g=uy(h,o);for(c=0;c<p.length;c+=2){var x=p[c],w=p[c+1];x==="style"?WI(i,w):x==="dangerouslySetInnerHTML"?zI(i,w):x==="children"?Ch(i,w):sx(i,x,w,g)}switch(h){case"input":sy(i,o);break;case"textarea":UI(i,o);break;case"select":var C=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var A=o.value;A!=null?Kc(i,!!o.multiple,A,!1):C!==!!o.multiple&&(o.defaultValue!=null?Kc(i,!!o.multiple,o.defaultValue,!0):Kc(i,!!o.multiple,o.multiple?[]:"",!1))}i[Oh]=o}catch(O){Mn(t,t.return,O)}}break;case 6:if(fs(e,t),Fs(t),r&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(O){Mn(t,t.return,O)}}break;case 3:if(fs(e,t),Fs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Th(e.containerInfo)}catch(O){Mn(t,t.return,O)}break;case 4:fs(e,t),Fs(t);break;case 13:fs(e,t),Fs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Bx=$n())),r&4&&OE(t);break;case 22:if(x=n!==null&&n.memoizedState!==null,t.mode&1?(Fr=(g=Fr)||x,fs(e,t),Fr=g):fs(e,t),Fs(t),r&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!x&&t.mode&1)for(Ve=t,x=t.child;x!==null;){for(w=Ve=x;Ve!==null;){switch(C=Ve,A=C.child,C.tag){case 0:case 11:case 14:case 15:dh(4,C,C.return);break;case 1:Wc(C,C.return);var k=C.stateNode;if(typeof k.componentWillUnmount=="function"){r=C,n=C.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(O){Mn(r,n,O)}}break;case 5:Wc(C,C.return);break;case 22:if(C.memoizedState!==null){DE(w);continue}}A!==null?(A.return=C,Ve=A):DE(w)}x=x.sibling}e:for(x=null,w=t;;){if(w.tag===5){if(x===null){x=w;try{i=w.stateNode,g?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=w.stateNode,p=w.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=$I("display",c))}catch(O){Mn(t,t.return,O)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=g?"":w.memoizedProps}catch(O){Mn(t,t.return,O)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:fs(e,t),Fs(t),r&4&&OE(t);break;case 21:break;default:fs(e,t),Fs(t)}}function Fs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gT(n)){var r=n;break e}n=n.return}throw Error(we(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ch(i,""),r.flags&=-33);var o=NE(t);Uy(t,o,i);break;case 3:case 4:var c=r.stateNode.containerInfo,h=NE(t);Vy(t,h,c);break;default:throw Error(we(161))}}catch(p){Mn(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mO(t,e,n){Ve=t,vT(t)}function vT(t,e,n){for(var r=(t.mode&1)!==0;Ve!==null;){var i=Ve,o=i.child;if(i.tag===22&&r){var c=i.memoizedState!==null||pp;if(!c){var h=i.alternate,p=h!==null&&h.memoizedState!==null||Fr;h=pp;var g=Fr;if(pp=c,(Fr=p)&&!g)for(Ve=i;Ve!==null;)c=Ve,p=c.child,c.tag===22&&c.memoizedState!==null?ME(i):p!==null?(p.return=c,Ve=p):ME(i);for(;o!==null;)Ve=o,vT(o),o=o.sibling;Ve=i,pp=h,Fr=g}kE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ve=o):kE(t)}}function kE(t){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fr||C1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ps(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&yE(e,o,r);break;case 3:var c=e.updateQueue;if(c!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yE(e,c,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var p=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var x=g.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&Th(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Fr||e.flags&512&&By(e)}catch(C){Mn(e,e.return,C)}}if(e===t){Ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function DE(t){for(;Ve!==null;){var e=Ve;if(e===t){Ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ve=n;break}Ve=e.return}}function ME(t){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{C1(4,e)}catch(p){Mn(e,n,p)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(p){Mn(e,i,p)}}var o=e.return;try{By(e)}catch(p){Mn(e,o,p)}break;case 5:var c=e.return;try{By(e)}catch(p){Mn(e,c,p)}}}catch(p){Mn(e,e.return,p)}if(e===t){Ve=null;break}var h=e.sibling;if(h!==null){h.return=e.return,Ve=h;break}Ve=e.return}}var yO=Math.ceil,A0=Fo.ReactCurrentDispatcher,Lx=Fo.ReactCurrentOwner,ns=Fo.ReactCurrentBatchConfig,Lt=0,hr=null,Xn=null,br=0,Ni=0,Hc=Wa(0),or=0,Bh=null,jl=0,b1=0,Fx=0,hh=null,hi=null,Bx=0,Iu=1/0,co=null,T0=!1,jy=null,Aa=null,gp=!1,va=null,S0=0,fh=0,zy=null,Up=-1,jp=0;function Zr(){return Lt&6?$n():Up!==-1?Up:Up=$n()}function Ta(t){return t.mode&1?Lt&2&&br!==0?br&-br:eO.transition!==null?(jp===0&&(jp=nA()),jp):(t=Yt,t!==0||(t=window.event,t=t===void 0?16:cA(t.type)),t):1}function _s(t,e,n,r){if(50<fh)throw fh=0,zy=null,Error(we(185));pf(t,n,r),(!(Lt&2)||t!==hr)&&(t===hr&&(!(Lt&2)&&(b1|=n),or===4&&ra(t,br)),yi(t,r),n===1&&Lt===0&&!(e.mode&1)&&(Iu=$n()+500,w1&&Ha()))}function yi(t,e){var n=t.callbackNode;eN(t,e);var r=d0(t,t===hr?br:0);if(r===0)n!==null&&Ww(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ww(n),e===1)t.tag===0?JN(LE.bind(null,t)):SA(LE.bind(null,t)),XN(function(){!(Lt&6)&&Ha()}),n=null;else{switch(rA(r)){case 1:n=ux;break;case 4:n=eA;break;case 16:n=u0;break;case 536870912:n=tA;break;default:n=u0}n=AT(n,xT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xT(t,e){if(Up=-1,jp=0,Lt&6)throw Error(we(327));var n=t.callbackNode;if(Jc()&&t.callbackNode!==n)return null;var r=d0(t,t===hr?br:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=R0(t,r);else{e=r;var i=Lt;Lt|=2;var o=ET();(hr!==t||br!==e)&&(co=null,Iu=$n()+500,kl(t,e));do try{wO();break}catch(h){wT(t,h)}while(!0);Cx(),A0.current=o,Lt=i,Xn!==null?e=0:(hr=null,br=0,e=or)}if(e!==0){if(e===2&&(i=gy(t),i!==0&&(r=i,e=$y(t,i))),e===1)throw n=Bh,kl(t,0),ra(t,r),yi(t,$n()),n;if(e===6)ra(t,r);else{if(i=t.current.alternate,!(r&30)&&!vO(i)&&(e=R0(t,r),e===2&&(o=gy(t),o!==0&&(r=o,e=$y(t,o))),e===1))throw n=Bh,kl(t,0),ra(t,r),yi(t,$n()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(we(345));case 2:ul(t,hi,co);break;case 3:if(ra(t,r),(r&130023424)===r&&(e=Bx+500-$n(),10<e)){if(d0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cy(ul.bind(null,t,hi,co),e);break}ul(t,hi,co);break;case 4:if(ra(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var c=31-Es(r);o=1<<c,c=e[c],c>i&&(i=c),r&=~o}if(r=i,r=$n()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yO(r/1960))-r,10<r){t.timeoutHandle=Cy(ul.bind(null,t,hi,co),r);break}ul(t,hi,co);break;case 5:ul(t,hi,co);break;default:throw Error(we(329))}}}return yi(t,$n()),t.callbackNode===n?xT.bind(null,t):null}function $y(t,e){var n=hh;return t.current.memoizedState.isDehydrated&&(kl(t,e).flags|=256),t=R0(t,e),t!==2&&(e=hi,hi=n,e!==null&&Wy(e)),t}function Wy(t){hi===null?hi=t:hi.push.apply(hi,t)}function vO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!bs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~Fx,e&=~b1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Es(e),r=1<<n;t[n]=-1,e&=~r}}function LE(t){if(Lt&6)throw Error(we(327));Jc();var e=d0(t,0);if(!(e&1))return yi(t,$n()),null;var n=R0(t,e);if(t.tag!==0&&n===2){var r=gy(t);r!==0&&(e=r,n=$y(t,r))}if(n===1)throw n=Bh,kl(t,0),ra(t,e),yi(t,$n()),n;if(n===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ul(t,hi,co),yi(t,$n()),null}function Vx(t,e){var n=Lt;Lt|=1;try{return t(e)}finally{Lt=n,Lt===0&&(Iu=$n()+500,w1&&Ha())}}function zl(t){va!==null&&va.tag===0&&!(Lt&6)&&Jc();var e=Lt;Lt|=1;var n=ns.transition,r=Yt;try{if(ns.transition=null,Yt=1,t)return t()}finally{Yt=r,ns.transition=n,Lt=e,!(Lt&6)&&Ha()}}function Ux(){Ni=Hc.current,vn(Hc)}function kl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KN(n)),Xn!==null)for(n=Xn.return;n!==null;){var r=n;switch(wx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&m0();break;case 3:Cu(),vn(gi),vn(Ur),Rx();break;case 5:Sx(r);break;case 4:Cu();break;case 13:vn(In);break;case 19:vn(In);break;case 10:bx(r.type._context);break;case 22:case 23:Ux()}n=n.return}if(hr=t,Xn=t=Sa(t.current,null),br=Ni=e,or=0,Bh=null,Fx=b1=jl=0,hi=hh=null,yl!==null){for(e=0;e<yl.length;e++)if(n=yl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=i,r.next=c}n.pending=r}yl=null}return t}function wT(t,e){do{var n=Xn;try{if(Cx(),Fp.current=I0,b0){for(var r=An.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}b0=!1}if(Ul=0,dr=ir=An=null,uh=!1,Mh=0,Lx.current=null,n===null||n.return===null){or=1,Bh=e,Xn=null;break}e:{var o=t,c=n.return,h=n,p=e;if(e=br,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,x=h,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var C=x.alternate;C?(x.updateQueue=C.updateQueue,x.memoizedState=C.memoizedState,x.lanes=C.lanes):(x.updateQueue=null,x.memoizedState=null)}var A=CE(c);if(A!==null){A.flags&=-257,bE(A,c,h,o,e),A.mode&1&&_E(o,g,e),e=A,p=g;var k=e.updateQueue;if(k===null){var O=new Set;O.add(p),e.updateQueue=O}else k.add(p);break e}else{if(!(e&1)){_E(o,g,e),jx();break e}p=Error(we(426))}}else if(_n&&h.mode&1){var U=CE(c);if(U!==null){!(U.flags&65536)&&(U.flags|=256),bE(U,c,h,o,e),Ex(bu(p,h));break e}}o=p=bu(p,h),or!==4&&(or=2),hh===null?hh=[o]:hh.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var D=rT(o,p,e);mE(o,D);break e;case 1:h=p;var I=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof I.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Aa===null||!Aa.has(R)))){o.flags|=65536,e&=-e,o.lanes|=e;var V=iT(o,h,e);mE(o,V);break e}}o=o.return}while(o!==null)}CT(n)}catch(H){e=H,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(!0)}function ET(){var t=A0.current;return A0.current=I0,t===null?I0:t}function jx(){(or===0||or===3||or===2)&&(or=4),hr===null||!(jl&268435455)&&!(b1&268435455)||ra(hr,br)}function R0(t,e){var n=Lt;Lt|=2;var r=ET();(hr!==t||br!==e)&&(co=null,kl(t,e));do try{xO();break}catch(i){wT(t,i)}while(!0);if(Cx(),Lt=n,A0.current=r,Xn!==null)throw Error(we(261));return hr=null,br=0,or}function xO(){for(;Xn!==null;)_T(Xn)}function wO(){for(;Xn!==null&&!HP();)_T(Xn)}function _T(t){var e=IT(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,e===null?CT(t):Xn=e,Lx.current=null}function CT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fO(n,e),n!==null){n.flags&=32767,Xn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{or=6,Xn=null;return}}else if(n=hO(n,e,Ni),n!==null){Xn=n;return}if(e=e.sibling,e!==null){Xn=e;return}Xn=e=t}while(e!==null);or===0&&(or=5)}function ul(t,e,n){var r=Yt,i=ns.transition;try{ns.transition=null,Yt=1,EO(t,e,n,r)}finally{ns.transition=i,Yt=r}return null}function EO(t,e,n,r){do Jc();while(va!==null);if(Lt&6)throw Error(we(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(tN(t,o),t===hr&&(Xn=hr=null,br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gp||(gp=!0,AT(u0,function(){return Jc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ns.transition,ns.transition=null;var c=Yt;Yt=1;var h=Lt;Lt|=4,Lx.current=null,gO(t,n),yT(n,t),jN(Ey),h0=!!wy,Ey=wy=null,t.current=n,mO(n),GP(),Lt=h,Yt=c,ns.transition=o}else t.current=n;if(gp&&(gp=!1,va=t,S0=i),o=t.pendingLanes,o===0&&(Aa=null),XP(n.stateNode),yi(t,$n()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(T0)throw T0=!1,t=jy,jy=null,t;return S0&1&&t.tag!==0&&Jc(),o=t.pendingLanes,o&1?t===zy?fh++:(fh=0,zy=t):fh=0,Ha(),null}function Jc(){if(va!==null){var t=rA(S0),e=ns.transition,n=Yt;try{if(ns.transition=null,Yt=16>t?16:t,va===null)var r=!1;else{if(t=va,va=null,S0=0,Lt&6)throw Error(we(331));var i=Lt;for(Lt|=4,Ve=t.current;Ve!==null;){var o=Ve,c=o.child;if(Ve.flags&16){var h=o.deletions;if(h!==null){for(var p=0;p<h.length;p++){var g=h[p];for(Ve=g;Ve!==null;){var x=Ve;switch(x.tag){case 0:case 11:case 15:dh(8,x,o)}var w=x.child;if(w!==null)w.return=x,Ve=w;else for(;Ve!==null;){x=Ve;var C=x.sibling,A=x.return;if(pT(x),x===g){Ve=null;break}if(C!==null){C.return=A,Ve=C;break}Ve=A}}}var k=o.alternate;if(k!==null){var O=k.child;if(O!==null){k.child=null;do{var U=O.sibling;O.sibling=null,O=U}while(O!==null)}}Ve=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,Ve=c;else e:for(;Ve!==null;){if(o=Ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dh(9,o,o.return)}var D=o.sibling;if(D!==null){D.return=o.return,Ve=D;break e}Ve=o.return}}var I=t.current;for(Ve=I;Ve!==null;){c=Ve;var R=c.child;if(c.subtreeFlags&2064&&R!==null)R.return=c,Ve=R;else e:for(c=I;Ve!==null;){if(h=Ve,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:C1(9,h)}}catch(H){Mn(h,h.return,H)}if(h===c){Ve=null;break e}var V=h.sibling;if(V!==null){V.return=h.return,Ve=V;break e}Ve=h.return}}if(Lt=i,Ha(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(g1,t)}catch{}r=!0}return r}finally{Yt=n,ns.transition=e}}return!1}function FE(t,e,n){e=bu(n,e),e=rT(t,e,1),t=Ia(t,e,1),e=Zr(),t!==null&&(pf(t,1,e),yi(t,e))}function Mn(t,e,n){if(t.tag===3)FE(t,t,n);else for(;e!==null;){if(e.tag===3){FE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Aa===null||!Aa.has(r))){t=bu(n,t),t=iT(e,t,1),e=Ia(e,t,1),t=Zr(),e!==null&&(pf(e,1,t),yi(e,t));break}}e=e.return}}function _O(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zr(),t.pingedLanes|=t.suspendedLanes&n,hr===t&&(br&n)===n&&(or===4||or===3&&(br&130023424)===br&&500>$n()-Bx?kl(t,0):Fx|=n),yi(t,e)}function bT(t,e){e===0&&(t.mode&1?(e=sp,sp<<=1,!(sp&130023424)&&(sp=4194304)):e=1);var n=Zr();t=Po(t,e),t!==null&&(pf(t,e,n),yi(t,n))}function CO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bT(t,n)}function bO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(e),bT(t,n)}var IT;IT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gi.current)pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pi=!1,dO(t,e,n);pi=!!(t.flags&131072)}else pi=!1,_n&&e.flags&1048576&&RA(e,x0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vp(t,e),t=e.pendingProps;var i=wu(e,Ur.current);Zc(e,n),i=Nx(null,e,r,t,i,n);var o=Ox();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)?(o=!0,y0(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ax(e),i.updater=_1,e.stateNode=i,i._reactInternals=e,Py(e,r,t,n),e=ky(null,e,r,!0,o,n)):(e.tag=0,_n&&o&&xx(e),Xr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AO(r),t=ps(r,t),i){case 0:e=Oy(null,e,r,t,n);break e;case 1:e=TE(null,e,r,t,n);break e;case 11:e=IE(null,e,r,t,n);break e;case 14:e=AE(null,e,r,ps(r.type,t),n);break e}throw Error(we(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),Oy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),TE(t,e,r,i,n);case 3:e:{if(lT(e),t===null)throw Error(we(387));r=e.pendingProps,o=e.memoizedState,i=o.element,MA(t,e),_0(e,r,null,n);var c=e.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bu(Error(we(423)),e),e=SE(t,e,r,n,i);break e}else if(r!==i){i=bu(Error(we(424)),e),e=SE(t,e,r,n,i);break e}else for(Di=ba(e.stateNode.containerInfo.firstChild),Mi=e,_n=!0,vs=null,n=kA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eu(),r===i){e=No(t,e,n);break e}Xr(t,e,r,n)}e=e.child}return e;case 5:return LA(e),t===null&&Ty(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,c=i.children,_y(r,i)?c=null:o!==null&&_y(r,o)&&(e.flags|=32),aT(t,e),Xr(t,e,c,n),e.child;case 6:return t===null&&Ty(e),null;case 13:return cT(t,e,n);case 4:return Tx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_u(e,null,r,n):Xr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),IE(t,e,r,i,n);case 7:return Xr(t,e,e.pendingProps,n),e.child;case 8:return Xr(t,e,e.pendingProps.children,n),e.child;case 12:return Xr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,c=i.value,cn(w0,r._currentValue),r._currentValue=c,o!==null)if(bs(o.value,c)){if(o.children===i.children&&!gi.current){e=No(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){c=o.child;for(var p=h.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=Co(-1,n&-n),p.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var x=g.pending;x===null?p.next=p:(p.next=x.next,x.next=p),g.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),Sy(o.return,n,e),h.lanes|=n;break}p=p.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(we(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Sy(c,n,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Xr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zc(e,n),i=rs(i),r=r(i),e.flags|=1,Xr(t,e,r,n),e.child;case 14:return r=e.type,i=ps(r,e.pendingProps),i=ps(r.type,i),AE(t,e,r,i,n);case 15:return sT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ps(r,i),Vp(t,e),e.tag=1,mi(r)?(t=!0,y0(e)):t=!1,Zc(e,n),nT(e,r,i),Py(e,r,i,n),ky(null,e,r,!0,t,n);case 19:return uT(t,e,n);case 22:return oT(t,e,n)}throw Error(we(156,e.tag))};function AT(t,e){return JI(t,e)}function IO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(t,e,n,r){return new IO(t,e,n,r)}function zx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AO(t){if(typeof t=="function")return zx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ax)return 11;if(t===lx)return 14}return 2}function Sa(t,e){var n=t.alternate;return n===null?(n=ts(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zp(t,e,n,r,i,o){var c=2;if(r=t,typeof t=="function")zx(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case Mc:return Dl(n.children,i,o,e);case ox:c=8,i|=8;break;case ey:return t=ts(12,n,e,i|2),t.elementType=ey,t.lanes=o,t;case ty:return t=ts(13,n,e,i),t.elementType=ty,t.lanes=o,t;case ny:return t=ts(19,n,e,i),t.elementType=ny,t.lanes=o,t;case LI:return I1(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DI:c=10;break e;case MI:c=9;break e;case ax:c=11;break e;case lx:c=14;break e;case ea:c=16,r=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=ts(c,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Dl(t,e,n,r){return t=ts(7,t,r,e),t.lanes=n,t}function I1(t,e,n,r){return t=ts(22,t,r,e),t.elementType=LI,t.lanes=n,t.stateNode={isHidden:!1},t}function Cm(t,e,n){return t=ts(6,t,null,e),t.lanes=n,t}function bm(t,e,n){return e=ts(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $x(t,e,n,r,i,o,c,h,p){return t=new TO(t,e,n,h,p),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ts(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ax(o),t}function SO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TT(t){if(!t)return Fa;t=t._reactInternals;e:{if(nc(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var n=t.type;if(mi(n))return TA(t,n,e)}return e}function ST(t,e,n,r,i,o,c,h,p){return t=$x(n,r,!0,t,i,o,c,h,p),t.context=TT(null),n=t.current,r=Zr(),i=Ta(n),o=Co(r,i),o.callback=e??null,Ia(n,o,i),t.current.lanes=i,pf(t,i,r),yi(t,r),t}function A1(t,e,n,r){var i=e.current,o=Zr(),c=Ta(i);return n=TT(n),e.context===null?e.context=n:e.pendingContext=n,e=Co(o,c),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ia(i,e,c),t!==null&&(_s(t,i,c,o),Lp(t,i,c)),c}function P0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wx(t,e){BE(t,e),(t=t.alternate)&&BE(t,e)}function RO(){return null}var RT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hx(t){this._internalRoot=t}T1.prototype.render=Hx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));A1(t,e,null,null)};T1.prototype.unmount=Hx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zl(function(){A1(null,t,null,null)}),e[Ro]=null}};function T1(t){this._internalRoot=t}T1.prototype.unstable_scheduleHydration=function(t){if(t){var e=oA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<na.length&&e!==0&&e<na[n].priority;n++);na.splice(n,0,t),n===0&&lA(t)}};function Gx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function S1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VE(){}function PO(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var g=P0(c);o.call(g)}}var c=ST(e,r,t,0,null,!1,!1,"",VE);return t._reactRootContainer=c,t[Ro]=c.current,Ph(t.nodeType===8?t.parentNode:t),zl(),c}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var g=P0(p);h.call(g)}}var p=$x(t,0,!1,null,null,!1,!1,"",VE);return t._reactRootContainer=p,t[Ro]=p.current,Ph(t.nodeType===8?t.parentNode:t),zl(function(){A1(e,p,n,r)}),p}function R1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var c=o;if(typeof i=="function"){var h=i;i=function(){var p=P0(c);h.call(p)}}A1(e,c,t,i)}else c=PO(n,e,t,i,r);return P0(c)}iA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kd(e.pendingLanes);n!==0&&(dx(e,n|1),yi(e,$n()),!(Lt&6)&&(Iu=$n()+500,Ha()))}break;case 13:zl(function(){var r=Po(t,1);if(r!==null){var i=Zr();_s(r,t,1,i)}}),Wx(t,1)}};hx=function(t){if(t.tag===13){var e=Po(t,134217728);if(e!==null){var n=Zr();_s(e,t,134217728,n)}Wx(t,134217728)}};sA=function(t){if(t.tag===13){var e=Ta(t),n=Po(t,e);if(n!==null){var r=Zr();_s(n,t,e,r)}Wx(t,e)}};oA=function(){return Yt};aA=function(t,e){var n=Yt;try{return Yt=t,e()}finally{Yt=n}};hy=function(t,e,n){switch(e){case"input":if(sy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=x1(r);if(!i)throw Error(we(90));BI(r),sy(r,i)}}}break;case"textarea":UI(t,n);break;case"select":e=n.value,e!=null&&Kc(t,!!n.multiple,e,!1)}};qI=Vx;KI=zl;var NO={usingClientEntryPoint:!1,Events:[mf,Vc,x1,HI,GI,Vx]},kd={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OO={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QI(t),t===null?null:t.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance||RO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{g1=mp.inject(OO),Hs=mp}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NO;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gx(e))throw Error(we(200));return SO(t,e,null,n)};Vi.createRoot=function(t,e){if(!Gx(t))throw Error(we(299));var n=!1,r="",i=RT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$x(t,1,!1,null,null,n,!1,r,i),t[Ro]=e.current,Ph(t.nodeType===8?t.parentNode:t),new Hx(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=QI(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return zl(t)};Vi.hydrate=function(t,e,n){if(!S1(e))throw Error(we(200));return R1(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!Gx(t))throw Error(we(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",c=RT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),e=ST(e,null,t,1,n??null,i,!1,o,c),t[Ro]=e.current,Ph(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new T1(e)};Vi.render=function(t,e,n){if(!S1(e))throw Error(we(200));return R1(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!S1(t))throw Error(we(40));return t._reactRootContainer?(zl(function(){R1(null,null,t,!1,function(){t._reactRootContainer=null,t[Ro]=null})}),!0):!1};Vi.unstable_batchedUpdates=Vx;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!S1(n))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return R1(t,e,n,!1,r)};Vi.version="18.3.1-next-f1338f8080-20240426";function PT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PT)}catch(t){console.error(t)}}PT(),PI.exports=Vi;var qx=PI.exports;const yp=Zv(qx);var UE=qx;Zm.createRoot=UE.createRoot,Zm.hydrateRoot=UE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}var xa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xa||(xa={}));const jE="popstate";function kO(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:c,hash:h}=r.location;return Hy("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:OT(i)}return MO(e,n,null,t)}function Qn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DO(){return Math.random().toString(36).substr(2,8)}function zE(t,e){return{usr:t.state,key:t.key,idx:e}}function Hy(t,e,n,r){return n===void 0&&(n=null),Vh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yu(e):e,{state:n,key:e&&e.key||r||DO()})}function OT(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,h=xa.Pop,p=null,g=x();g==null&&(g=0,c.replaceState(Vh({},c.state,{idx:g}),""));function x(){return(c.state||{idx:null}).idx}function w(){h=xa.Pop;let U=x(),D=U==null?null:U-g;g=U,p&&p({action:h,location:O.location,delta:D})}function C(U,D){h=xa.Push;let I=Hy(O.location,U,D);g=x()+1;let R=zE(I,g),V=O.createHref(I);try{c.pushState(R,"",V)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(V)}o&&p&&p({action:h,location:O.location,delta:1})}function A(U,D){h=xa.Replace;let I=Hy(O.location,U,D);g=x();let R=zE(I,g),V=O.createHref(I);c.replaceState(R,"",V),o&&p&&p({action:h,location:O.location,delta:0})}function k(U){let D=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof U=="string"?U:OT(U);return I=I.replace(/ $/,"%20"),Qn(D,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,D)}let O={get action(){return h},get location(){return t(i,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(jE,w),p=U,()=>{i.removeEventListener(jE,w),p=null}},createHref(U){return e(i,U)},createURL:k,encodeLocation(U){let D=k(U);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:C,replace:A,go(U){return c.go(U)}};return O}var $E;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($E||($E={}));function LO(t,e,n){return n===void 0&&(n="/"),FO(t,e,n)}function FO(t,e,n,r){let i=typeof e=="string"?Yu(e):e,o=MT(i.pathname||"/",n);if(o==null)return null;let c=kT(t);BO(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let g=YO(o);h=qO(c[p],g)}return h}function kT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,c,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};p.relativePath.startsWith("/")&&(Qn(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let g=Ml([r,p.relativePath]),x=n.concat(p);o.children&&o.children.length>0&&(Qn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),kT(o.children,e,x,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:HO(g,o.index),routesMeta:x})};return t.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,c);else for(let p of DT(o.path))i(o,c,p)}),e}function DT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=DT(r.join("/")),h=[];return h.push(...c.map(p=>p===""?o:[o,p].join("/"))),i&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function BO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VO=/^:[\w-]+$/,UO=3,jO=2,zO=1,$O=10,WO=-2,WE=t=>t==="*";function HO(t,e){let n=t.split("/"),r=n.length;return n.some(WE)&&(r+=WO),e&&(r+=jO),n.filter(i=>!WE(i)).reduce((i,o)=>i+(VO.test(o)?UO:o===""?zO:$O),r)}function GO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qO(t,e,n){let{routesMeta:r}=t,i={},o="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],g=h===r.length-1,x=o==="/"?e:e.slice(o.length)||"/",w=KO({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),C=p.route;if(!w)return null;Object.assign(i,w.params),c.push({params:i,pathname:Ml([o,w.pathname]),pathnameBase:ek(Ml([o,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(o=Ml([o,w.pathnameBase]))}return c}function KO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,x,w)=>{let{paramName:C,isOptional:A}=x;if(C==="*"){let O=h[w]||"";c=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const k=h[w];return A&&!k?g[C]=void 0:g[C]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function XO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),NT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function MT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yu(t):t;return{pathname:n?n.startsWith("/")?n:ZO(n,e):e,search:tk(r),hash:nk(i)}}function ZO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Im(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LT(t,e){let n=JO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Yu(t):(i=Vh({},t),Qn(!i.pathname||!i.pathname.includes("?"),Im("?","pathname","search",i)),Qn(!i.pathname||!i.pathname.includes("#"),Im("#","pathname","hash",i)),Qn(!i.search||!i.search.includes("#"),Im("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=n;else{let w=e.length-1;if(!r&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),w-=1;i.pathname=C.join("/")}h=w>=0?e[w]:"/"}let p=QO(i,h),g=c&&c!=="/"&&c.endsWith("/"),x=(o||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}const Ml=t=>t.join("/").replace(/\/\/+/g,"/"),ek=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BT=["post","put","patch","delete"];new Set(BT);const ik=["get",...BT];new Set(ik);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}const Kx=B.createContext(null),sk=B.createContext(null),vf=B.createContext(null),P1=B.createContext(null),rc=B.createContext({outlet:null,matches:[],isDataRoute:!1}),VT=B.createContext(null);function xf(){return B.useContext(P1)!=null}function wf(){return xf()||Qn(!1),B.useContext(P1).location}function UT(t){B.useContext(vf).static||B.useLayoutEffect(t)}function Qu(){let{isDataRoute:t}=B.useContext(rc);return t?vk():ok()}function ok(){xf()||Qn(!1);let t=B.useContext(Kx),{basename:e,future:n,navigator:r}=B.useContext(vf),{matches:i}=B.useContext(rc),{pathname:o}=wf(),c=JSON.stringify(LT(i,n.v7_relativeSplatPath)),h=B.useRef(!1);return UT(()=>{h.current=!0}),B.useCallback(function(g,x){if(x===void 0&&(x={}),!h.current)return;if(typeof g=="number"){r.go(g);return}let w=FT(g,JSON.parse(c),o,x.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ml([e,w.pathname])),(x.replace?r.replace:r.push)(w,x.state,x)},[e,r,c,o,t])}function ak(t,e){return lk(t,e)}function lk(t,e,n,r){xf()||Qn(!1);let{navigator:i}=B.useContext(vf),{matches:o}=B.useContext(rc),c=o[o.length-1],h=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=wf(),x;if(e){var w;let U=typeof e=="string"?Yu(e):e;p==="/"||(w=U.pathname)!=null&&w.startsWith(p)||Qn(!1),x=U}else x=g;let C=x.pathname||"/",A=C;if(p!=="/"){let U=p.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let k=LO(t,{pathname:A}),O=fk(k&&k.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:Ml([p,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:Ml([p,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),o,n,r);return e&&O?B.createElement(P1.Provider,{value:{location:Uh({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:xa.Pop}},O):O}function ck(){let t=yk(),e=rk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const uk=B.createElement(ck,null);class dk extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(rc.Provider,{value:this.props.routeContext},B.createElement(VT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hk(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(Kx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(rc.Provider,{value:e},r)}function fk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,h=(i=n)==null?void 0:i.errors;if(h!=null){let x=c.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);x>=0||Qn(!1),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<c.length;x++){let w=c[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=x),w.route.id){let{loaderData:C,errors:A}=n,k=w.route.loader&&C[w.route.id]===void 0&&(!A||A[w.route.id]===void 0);if(w.route.lazy||k){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((x,w,C)=>{let A,k=!1,O=null,U=null;n&&(A=h&&w.route.id?h[w.route.id]:void 0,O=w.route.errorElement||uk,p&&(g<0&&C===0?(xk("route-fallback"),k=!0,U=null):g===C&&(k=!0,U=w.route.hydrateFallbackElement||null)));let D=e.concat(c.slice(0,C+1)),I=()=>{let R;return A?R=O:k?R=U:w.route.Component?R=B.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=x,B.createElement(hk,{match:w,routeContext:{outlet:x,matches:D,isDataRoute:n!=null},children:R})};return n&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?B.createElement(dk,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:I(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):I()},null)}var jT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jT||{}),zT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zT||{});function pk(t){let e=B.useContext(Kx);return e||Qn(!1),e}function gk(t){let e=B.useContext(sk);return e||Qn(!1),e}function mk(t){let e=B.useContext(rc);return e||Qn(!1),e}function $T(t){let e=mk(),n=e.matches[e.matches.length-1];return n.route.id||Qn(!1),n.route.id}function yk(){var t;let e=B.useContext(VT),n=gk(),r=$T();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vk(){let{router:t}=pk(jT.UseNavigateStable),e=$T(zT.UseNavigateStable),n=B.useRef(!1);return UT(()=>{n.current=!0}),B.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Uh({fromRouteId:e},o)))},[t,e])}const HE={};function xk(t,e,n){HE[t]||(HE[t]=!0)}function wk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ek(t){let{to:e,replace:n,state:r,relative:i}=t;xf()||Qn(!1);let{future:o,static:c}=B.useContext(vf),{matches:h}=B.useContext(rc),{pathname:p}=wf(),g=Qu(),x=FT(e,LT(h,o.v7_relativeSplatPath),p,i==="path"),w=JSON.stringify(x);return B.useEffect(()=>g(JSON.parse(w),{replace:n,state:r,relative:i}),[g,w,i,n,r]),null}function dl(t){Qn(!1)}function _k(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xa.Pop,navigator:o,static:c=!1,future:h}=t;xf()&&Qn(!1);let p=e.replace(/^\/*/,"/"),g=B.useMemo(()=>({basename:p,navigator:o,static:c,future:Uh({v7_relativeSplatPath:!1},h)}),[p,h,o,c]);typeof r=="string"&&(r=Yu(r));let{pathname:x="/",search:w="",hash:C="",state:A=null,key:k="default"}=r,O=B.useMemo(()=>{let U=MT(x,p);return U==null?null:{location:{pathname:U,search:w,hash:C,state:A,key:k},navigationType:i}},[p,x,w,C,A,k,i]);return O==null?null:B.createElement(vf.Provider,{value:g},B.createElement(P1.Provider,{children:n,value:O}))}function Ck(t){let{children:e,location:n}=t;return ak(Gy(e),n)}new Promise(()=>{});function Gy(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let o=[...e,i];if(r.type===B.Fragment){n.push.apply(n,Gy(r.props.children,o));return}r.type!==dl&&Qn(!1),!r.props.index||!r.props.children||Qn(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Gy(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function bk(t,e){let n=qy(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const Ik="6";try{window.__reactRouterVersion=Ik}catch{}const Ak="startTransition",GE=o0[Ak];function Tk(t){let{basename:e,children:n,future:r,window:i}=t,o=B.useRef();o.current==null&&(o.current=kO({window:i,v5Compat:!0}));let c=o.current,[h,p]=B.useState({action:c.action,location:c.location}),{v7_startTransition:g}=r||{},x=B.useCallback(w=>{g&&GE?GE(()=>p(w)):p(w)},[p,g]);return B.useLayoutEffect(()=>c.listen(x),[c,x]),B.useEffect(()=>wk(r),[r]),B.createElement(_k,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}var qE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qE||(qE={}));var KE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KE||(KE={}));function Sk(t){let e=B.useRef(qy(t)),n=B.useRef(!1),r=wf(),i=B.useMemo(()=>bk(r.search,n.current?null:e.current),[r.search]),o=Qu(),c=B.useCallback((h,p)=>{const g=qy(typeof h=="function"?h(i):h);n.current=!0,o("?"+g,p)},[o,i]);return[i,c]}var Zu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},la,Qv,aI,Pk=(aI=class{constructor(){$e(this,la,Rk);$e(this,Qv,!1)}setTimeoutProvider(t){Oe(this,la,t)}setTimeout(t,e){return J(this,la).setTimeout(t,e)}clearTimeout(t){J(this,la).clearTimeout(t)}setInterval(t,e){return J(this,la).setInterval(t,e)}clearInterval(t){J(this,la).clearInterval(t)}},la=new WeakMap,Qv=new WeakMap,aI),xl=new Pk;function Nk(t){setTimeout(t,0)}var $l=typeof window>"u"||"Deno"in globalThis;function Yr(){}function Ok(t,e){return typeof t=="function"?t(e):t}function Ky(t){return typeof t=="number"&&t>=0&&t!==1/0}function WT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ra(t,e){return typeof t=="function"?t(e):t}function Xi(t,e){return typeof t=="function"?t(e):t}function XE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:c,stale:h}=t;if(c){if(r){if(e.queryHash!==Xx(c,e.options))return!1}else if(!jh(e.queryKey,c))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||i&&i!==e.state.fetchStatus||o&&!o(e))}function YE(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Wl(e.options.mutationKey)!==Wl(o))return!1}else if(!jh(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Xx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wl)(t)}function Wl(t){return JSON.stringify(t,(e,n)=>Xy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function jh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>jh(t[n],e[n])):!1}var kk=Object.prototype.hasOwnProperty;function HT(t,e){if(t===e)return t;const n=QE(t)&&QE(e);if(!n&&!(Xy(t)&&Xy(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),c=o.length,h=n?new Array(c):{};let p=0;for(let g=0;g<c;g++){const x=n?g:o[g],w=t[x],C=e[x];if(w===C){h[x]=w,(n?g<i:kk.call(t,x))&&p++;continue}if(w===null||C===null||typeof w!="object"||typeof C!="object"){h[x]=C;continue}const A=HT(w,C);h[x]=A,A===w&&p++}return i===c&&p===i?t:h}function N0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function QE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xy(t){if(!ZE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ZE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ZE(t){return Object.prototype.toString.call(t)==="[object Object]"}function Dk(t){return new Promise(e=>{xl.setTimeout(e,t)})}function Yy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?HT(t,e):e}function Mk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Lk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Yx=Symbol();function GT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Yx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function qT(t,e){return typeof t=="function"?t(...e):!!t}var bl,ca,au,lI,Fk=(lI=class extends Zu{constructor(){super();$e(this,bl);$e(this,ca);$e(this,au);Oe(this,au,e=>{if(!$l&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,ca)||this.setEventListener(J(this,au))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,ca))==null||e.call(this),Oe(this,ca,void 0))}setEventListener(e){var n;Oe(this,au,e),(n=J(this,ca))==null||n.call(this),Oe(this,ca,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,bl)!==e&&(Oe(this,bl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,bl)=="boolean"?J(this,bl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},bl=new WeakMap,ca=new WeakMap,au=new WeakMap,lI),Qx=new Fk;function Qy(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Bk=Nk;function Vk(){let t=[],e=0,n=h=>{h()},r=h=>{h()},i=Bk;const o=h=>{e?t.push(h):i(()=>{n(h)})},c=()=>{const h=t;t=[],h.length&&i(()=>{r(()=>{h.forEach(p=>{n(p)})})})};return{batch:h=>{let p;e++;try{p=h()}finally{e--,e||c()}return p},batchCalls:h=>(...p)=>{o(()=>{h(...p)})},schedule:o,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{i=h}}}var sr=Vk(),lu,ua,cu,cI,Uk=(cI=class extends Zu{constructor(){super();$e(this,lu,!0);$e(this,ua);$e(this,cu);Oe(this,cu,e=>{if(!$l&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,ua)||this.setEventListener(J(this,cu))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,ua))==null||e.call(this),Oe(this,ua,void 0))}setEventListener(e){var n;Oe(this,cu,e),(n=J(this,ua))==null||n.call(this),Oe(this,ua,e(this.setOnline.bind(this)))}setOnline(e){J(this,lu)!==e&&(Oe(this,lu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,lu)}},lu=new WeakMap,ua=new WeakMap,cu=new WeakMap,cI),O0=new Uk;function jk(t){return Math.min(1e3*2**t,3e4)}function KT(t){return(t??"online")==="online"?O0.isOnline():!0}var Zy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function XT(t){let e=!1,n=0,r;const i=Qy(),o=()=>i.status!=="pending",c=O=>{var U;if(!o()){const D=new Zy(O);C(D),(U=t.onCancel)==null||U.call(t,D)}},h=()=>{e=!0},p=()=>{e=!1},g=()=>Qx.isFocused()&&(t.networkMode==="always"||O0.isOnline())&&t.canRun(),x=()=>KT(t.networkMode)&&t.canRun(),w=O=>{o()||(r==null||r(),i.resolve(O))},C=O=>{o()||(r==null||r(),i.reject(O))},A=()=>new Promise(O=>{var U;r=D=>{(o()||g())&&O(D)},(U=t.onPause)==null||U.call(t)}).then(()=>{var O;r=void 0,o()||(O=t.onContinue)==null||O.call(t)}),k=()=>{if(o())return;let O;const U=n===0?t.initialPromise:void 0;try{O=U??t.fn()}catch(D){O=Promise.reject(D)}Promise.resolve(O).then(w).catch(D=>{var X;if(o())return;const I=t.retry??($l?0:3),R=t.retryDelay??jk,V=typeof R=="function"?R(n,D):R,H=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,D);if(e||!H){C(D);return}n++,(X=t.onFail)==null||X.call(t,n,D),Dk(V).then(()=>g()?void 0:A()).then(()=>{e?C(D):k()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(r==null||r(),i),cancelRetry:h,continueRetry:p,canStart:x,start:()=>(x()?k():A().then(k),i)}}var Il,uI,YT=(uI=class{constructor(){$e(this,Il)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ky(this.gcTime)&&Oe(this,Il,xl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($l?1/0:5*60*1e3))}clearGcTimeout(){J(this,Il)&&(xl.clearTimeout(J(this,Il)),Oe(this,Il,void 0))}},Il=new WeakMap,uI),Al,uu,qi,Tl,cr,lf,Sl,gs,ao,dI,zk=(dI=class extends YT{constructor(n){super();$e(this,gs);$e(this,Al);$e(this,uu);$e(this,qi);$e(this,Tl);$e(this,cr);$e(this,lf);$e(this,Sl);Oe(this,Sl,!1),Oe(this,lf,n.defaultOptions),this.setOptions(n.options),this.observers=[],Oe(this,Tl,n.client),Oe(this,qi,J(this,Tl).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Oe(this,Al,e_(this.options)),this.state=n.state??J(this,Al),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=J(this,cr))==null?void 0:n.promise}setOptions(n){if(this.options={...J(this,lf),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=e_(this.options);r.data!==void 0&&(this.setState(JE(r.data,r.dataUpdatedAt)),Oe(this,Al,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,qi).remove(this)}setData(n,r){const i=Yy(this.state.data,n,this.options);return ht(this,gs,ao).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){ht(this,gs,ao).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,o;const r=(i=J(this,cr))==null?void 0:i.promise;return(o=J(this,cr))==null||o.cancel(n),r?r.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Al))}isActive(){return this.observers.some(n=>Xi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ra(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!WT(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=J(this,cr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=J(this,cr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),J(this,qi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(J(this,cr)&&(J(this,Sl)?J(this,cr).cancel({revert:!0}):J(this,cr).cancelRetry()),this.scheduleGc()),J(this,qi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,gs,ao).call(this,{type:"invalidate"})}async fetch(n,r){var g,x,w,C,A,k,O,U,D,I,R,V;if(this.state.fetchStatus!=="idle"&&((g=J(this,cr))==null?void 0:g.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(J(this,cr))return J(this,cr).continueRetry(),J(this,cr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const H=this.observers.find(X=>X.options.queryFn);H&&this.setOptions(H.options)}const i=new AbortController,o=H=>{Object.defineProperty(H,"signal",{enumerable:!0,get:()=>(Oe(this,Sl,!0),i.signal)})},c=()=>{const H=GT(this.options,r),S=(()=>{const M={client:J(this,Tl),queryKey:this.queryKey,meta:this.meta};return o(M),M})();return Oe(this,Sl,!1),this.options.persister?this.options.persister(H,S,this):H(S)},p=(()=>{const H={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:J(this,Tl),state:this.state,fetchFn:c};return o(H),H})();(x=this.options.behavior)==null||x.onFetch(p,this),Oe(this,uu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=p.fetchOptions)==null?void 0:w.meta))&&ht(this,gs,ao).call(this,{type:"fetch",meta:(C=p.fetchOptions)==null?void 0:C.meta}),Oe(this,cr,XT({initialPromise:r==null?void 0:r.initialPromise,fn:p.fetchFn,onCancel:H=>{H instanceof Zy&&H.revert&&this.setState({...J(this,uu),fetchStatus:"idle"}),i.abort()},onFail:(H,X)=>{ht(this,gs,ao).call(this,{type:"failed",failureCount:H,error:X})},onPause:()=>{ht(this,gs,ao).call(this,{type:"pause"})},onContinue:()=>{ht(this,gs,ao).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const H=await J(this,cr).start();if(H===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(H),(k=(A=J(this,qi).config).onSuccess)==null||k.call(A,H,this),(U=(O=J(this,qi).config).onSettled)==null||U.call(O,H,this.state.error,this),H}catch(H){if(H instanceof Zy){if(H.silent)return J(this,cr).promise;if(H.revert){if(this.state.data===void 0)throw H;return this.state.data}}throw ht(this,gs,ao).call(this,{type:"error",error:H}),(I=(D=J(this,qi).config).onError)==null||I.call(D,H,this),(V=(R=J(this,qi).config).onSettled)==null||V.call(R,this.state.data,H,this),H}finally{this.scheduleGc()}}},Al=new WeakMap,uu=new WeakMap,qi=new WeakMap,Tl=new WeakMap,cr=new WeakMap,lf=new WeakMap,Sl=new WeakMap,gs=new WeakSet,ao=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...QT(i.data,this.options),fetchMeta:n.meta??null};case"success":const o={...i,...JE(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Oe(this,uu,n.manual?o:void 0),o;case"error":const c=n.error;return{...i,error:c,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),sr.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),J(this,qi).notify({query:this,type:"updated",action:n})})},dI);function QT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function JE(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function e_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ui,St,cf,qr,Rl,du,ho,da,uf,hu,fu,Pl,Nl,ha,pu,Gt,Yd,Jy,ev,tv,nv,rv,iv,sv,ZT,hI,$k=(hI=class extends Zu{constructor(e,n){super();$e(this,Gt);$e(this,ui);$e(this,St);$e(this,cf);$e(this,qr);$e(this,Rl);$e(this,du);$e(this,ho);$e(this,da);$e(this,uf);$e(this,hu);$e(this,fu);$e(this,Pl);$e(this,Nl);$e(this,ha);$e(this,pu,new Set);this.options=n,Oe(this,ui,e),Oe(this,da,null),Oe(this,ho,Qy()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,St).addObserver(this),t_(J(this,St),this.options)?ht(this,Gt,Yd).call(this):this.updateResult(),ht(this,Gt,nv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ov(J(this,St),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ov(J(this,St),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Gt,rv).call(this),ht(this,Gt,iv).call(this),J(this,St).removeObserver(this)}setOptions(e){const n=this.options,r=J(this,St);if(this.options=J(this,ui).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xi(this.options.enabled,J(this,St))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Gt,sv).call(this),J(this,St).setOptions(this.options),n._defaulted&&!N0(this.options,n)&&J(this,ui).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,St),observer:this});const i=this.hasListeners();i&&n_(J(this,St),r,this.options,n)&&ht(this,Gt,Yd).call(this),this.updateResult(),i&&(J(this,St)!==r||Xi(this.options.enabled,J(this,St))!==Xi(n.enabled,J(this,St))||Ra(this.options.staleTime,J(this,St))!==Ra(n.staleTime,J(this,St)))&&ht(this,Gt,Jy).call(this);const o=ht(this,Gt,ev).call(this);i&&(J(this,St)!==r||Xi(this.options.enabled,J(this,St))!==Xi(n.enabled,J(this,St))||o!==J(this,ha))&&ht(this,Gt,tv).call(this,o)}getOptimisticResult(e){const n=J(this,ui).getQueryCache().build(J(this,ui),e),r=this.createResult(n,e);return Hk(this,r)&&(Oe(this,qr,r),Oe(this,du,this.options),Oe(this,Rl,J(this,St).state)),r}getCurrentResult(){return J(this,qr)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&J(this,ho).status==="pending"&&J(this,ho).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){J(this,pu).add(e)}getCurrentQuery(){return J(this,St)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=J(this,ui).defaultQueryOptions(e),r=J(this,ui).getQueryCache().build(J(this,ui),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ht(this,Gt,Yd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),J(this,qr)))}createResult(e,n){var N;const r=J(this,St),i=this.options,o=J(this,qr),c=J(this,Rl),h=J(this,du),g=e!==r?e.state:J(this,cf),{state:x}=e;let w={...x},C=!1,A;if(n._optimisticResults){const W=this.hasListeners(),G=!W&&t_(e,n),q=W&&n_(e,r,n,i);(G||q)&&(w={...w,...QT(x.data,e.options)}),n._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:k,errorUpdatedAt:O,status:U}=w;A=w.data;let D=!1;if(n.placeholderData!==void 0&&A===void 0&&U==="pending"){let W;o!=null&&o.isPlaceholderData&&n.placeholderData===(h==null?void 0:h.placeholderData)?(W=o.data,D=!0):W=typeof n.placeholderData=="function"?n.placeholderData((N=J(this,fu))==null?void 0:N.state.data,J(this,fu)):n.placeholderData,W!==void 0&&(U="success",A=Yy(o==null?void 0:o.data,W,n),C=!0)}if(n.select&&A!==void 0&&!D)if(o&&A===(c==null?void 0:c.data)&&n.select===J(this,uf))A=J(this,hu);else try{Oe(this,uf,n.select),A=n.select(A),A=Yy(o==null?void 0:o.data,A,n),Oe(this,hu,A),Oe(this,da,null)}catch(W){Oe(this,da,W)}J(this,da)&&(k=J(this,da),A=J(this,hu),O=Date.now(),U="error");const I=w.fetchStatus==="fetching",R=U==="pending",V=U==="error",H=R&&I,X=A!==void 0,M={status:U,fetchStatus:w.fetchStatus,isPending:R,isSuccess:U==="success",isError:V,isInitialLoading:H,isLoading:H,data:A,dataUpdatedAt:w.dataUpdatedAt,error:k,errorUpdatedAt:O,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>g.dataUpdateCount||w.errorUpdateCount>g.errorUpdateCount,isFetching:I,isRefetching:I&&!R,isLoadingError:V&&!X,isPaused:w.fetchStatus==="paused",isPlaceholderData:C,isRefetchError:V&&X,isStale:Zx(e,n),refetch:this.refetch,promise:J(this,ho),isEnabled:Xi(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const W=z=>{M.status==="error"?z.reject(M.error):M.data!==void 0&&z.resolve(M.data)},G=()=>{const z=Oe(this,ho,M.promise=Qy());W(z)},q=J(this,ho);switch(q.status){case"pending":e.queryHash===r.queryHash&&W(q);break;case"fulfilled":(M.status==="error"||M.data!==q.value)&&G();break;case"rejected":(M.status!=="error"||M.error!==q.reason)&&G();break}}return M}updateResult(){const e=J(this,qr),n=this.createResult(J(this,St),this.options);if(Oe(this,Rl,J(this,St).state),Oe(this,du,this.options),J(this,Rl).data!==void 0&&Oe(this,fu,J(this,St)),N0(n,e))return;Oe(this,qr,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!J(this,pu).size)return!0;const c=new Set(o??J(this,pu));return this.options.throwOnError&&c.add("error"),Object.keys(J(this,qr)).some(h=>{const p=h;return J(this,qr)[p]!==e[p]&&c.has(p)})};ht(this,Gt,ZT).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Gt,nv).call(this)}},ui=new WeakMap,St=new WeakMap,cf=new WeakMap,qr=new WeakMap,Rl=new WeakMap,du=new WeakMap,ho=new WeakMap,da=new WeakMap,uf=new WeakMap,hu=new WeakMap,fu=new WeakMap,Pl=new WeakMap,Nl=new WeakMap,ha=new WeakMap,pu=new WeakMap,Gt=new WeakSet,Yd=function(e){ht(this,Gt,sv).call(this);let n=J(this,St).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Yr)),n},Jy=function(){ht(this,Gt,rv).call(this);const e=Ra(this.options.staleTime,J(this,St));if($l||J(this,qr).isStale||!Ky(e))return;const r=WT(J(this,qr).dataUpdatedAt,e)+1;Oe(this,Pl,xl.setTimeout(()=>{J(this,qr).isStale||this.updateResult()},r))},ev=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,St)):this.options.refetchInterval)??!1},tv=function(e){ht(this,Gt,iv).call(this),Oe(this,ha,e),!($l||Xi(this.options.enabled,J(this,St))===!1||!Ky(J(this,ha))||J(this,ha)===0)&&Oe(this,Nl,xl.setInterval(()=>{(this.options.refetchIntervalInBackground||Qx.isFocused())&&ht(this,Gt,Yd).call(this)},J(this,ha)))},nv=function(){ht(this,Gt,Jy).call(this),ht(this,Gt,tv).call(this,ht(this,Gt,ev).call(this))},rv=function(){J(this,Pl)&&(xl.clearTimeout(J(this,Pl)),Oe(this,Pl,void 0))},iv=function(){J(this,Nl)&&(xl.clearInterval(J(this,Nl)),Oe(this,Nl,void 0))},sv=function(){const e=J(this,ui).getQueryCache().build(J(this,ui),this.options);if(e===J(this,St))return;const n=J(this,St);Oe(this,St,e),Oe(this,cf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},ZT=function(e){sr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(J(this,qr))}),J(this,ui).getQueryCache().notify({query:J(this,St),type:"observerResultsUpdated"})})},hI);function Wk(t,e){return Xi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function t_(t,e){return Wk(t,e)||t.state.data!==void 0&&ov(t,e,e.refetchOnMount)}function ov(t,e,n){if(Xi(e.enabled,t)!==!1&&Ra(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Zx(t,e)}return!1}function n_(t,e,n,r){return(t!==e||Xi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Zx(t,n)}function Zx(t,e){return Xi(e.enabled,t)!==!1&&t.isStaleByTime(Ra(e.staleTime,t))}function Hk(t,e){return!N0(t.getCurrentResult(),e)}function r_(t){return{onFetch:(e,n)=>{var x,w,C,A,k;const r=e.options,i=(C=(w=(x=e.fetchOptions)==null?void 0:x.meta)==null?void 0:w.fetchMore)==null?void 0:C.direction,o=((A=e.state.data)==null?void 0:A.pages)||[],c=((k=e.state.data)==null?void 0:k.pageParams)||[];let h={pages:[],pageParams:[]},p=0;const g=async()=>{let O=!1;const U=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?O=!0:e.signal.addEventListener("abort",()=>{O=!0}),e.signal)})},D=GT(e.options,e.fetchOptions),I=async(R,V,H)=>{if(O)return Promise.reject();if(V==null&&R.pages.length)return Promise.resolve(R);const S=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:V,direction:H?"backward":"forward",meta:e.options.meta};return U(G),G})(),M=await D(S),{maxPages:N}=e.options,W=H?Lk:Mk;return{pages:W(R.pages,M,N),pageParams:W(R.pageParams,V,N)}};if(i&&o.length){const R=i==="backward",V=R?Gk:i_,H={pages:o,pageParams:c},X=V(r,H);h=await I(H,X,R)}else{const R=t??o.length;do{const V=p===0?c[0]??r.initialPageParam:i_(r,h);if(p>0&&V==null)break;h=await I(h,V),p++}while(p<R)}return h};e.options.persister?e.fetchFn=()=>{var O,U;return(U=(O=e.options).persister)==null?void 0:U.call(O,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=g}}}function i_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Gk(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var df,Vs,Kr,Ol,Us,Jo,fI,qk=(fI=class extends YT{constructor(n){super();$e(this,Us);$e(this,df);$e(this,Vs);$e(this,Kr);$e(this,Ol);Oe(this,df,n.client),this.mutationId=n.mutationId,Oe(this,Kr,n.mutationCache),Oe(this,Vs,[]),this.state=n.state||JT(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){J(this,Vs).includes(n)||(J(this,Vs).push(n),this.clearGcTimeout(),J(this,Kr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Oe(this,Vs,J(this,Vs).filter(r=>r!==n)),this.scheduleGc(),J(this,Kr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){J(this,Vs).length||(this.state.status==="pending"?this.scheduleGc():J(this,Kr).remove(this))}continue(){var n;return((n=J(this,Ol))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var h,p,g,x,w,C,A,k,O,U,D,I,R,V,H,X,S,M,N,W;const r=()=>{ht(this,Us,Jo).call(this,{type:"continue"})},i={client:J(this,df),meta:this.options.meta,mutationKey:this.options.mutationKey};Oe(this,Ol,XT({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(G,q)=>{ht(this,Us,Jo).call(this,{type:"failed",failureCount:G,error:q})},onPause:()=>{ht(this,Us,Jo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Kr).canRun(this)}));const o=this.state.status==="pending",c=!J(this,Ol).canStart();try{if(o)r();else{ht(this,Us,Jo).call(this,{type:"pending",variables:n,isPaused:c}),await((p=(h=J(this,Kr).config).onMutate)==null?void 0:p.call(h,n,this,i));const q=await((x=(g=this.options).onMutate)==null?void 0:x.call(g,n,i));q!==this.state.context&&ht(this,Us,Jo).call(this,{type:"pending",context:q,variables:n,isPaused:c})}const G=await J(this,Ol).start();return await((C=(w=J(this,Kr).config).onSuccess)==null?void 0:C.call(w,G,n,this.state.context,this,i)),await((k=(A=this.options).onSuccess)==null?void 0:k.call(A,G,n,this.state.context,i)),await((U=(O=J(this,Kr).config).onSettled)==null?void 0:U.call(O,G,null,this.state.variables,this.state.context,this,i)),await((I=(D=this.options).onSettled)==null?void 0:I.call(D,G,null,n,this.state.context,i)),ht(this,Us,Jo).call(this,{type:"success",data:G}),G}catch(G){try{throw await((V=(R=J(this,Kr).config).onError)==null?void 0:V.call(R,G,n,this.state.context,this,i)),await((X=(H=this.options).onError)==null?void 0:X.call(H,G,n,this.state.context,i)),await((M=(S=J(this,Kr).config).onSettled)==null?void 0:M.call(S,void 0,G,this.state.variables,this.state.context,this,i)),await((W=(N=this.options).onSettled)==null?void 0:W.call(N,void 0,G,n,this.state.context,i)),G}finally{ht(this,Us,Jo).call(this,{type:"error",error:G})}}finally{J(this,Kr).runNext(this)}}},df=new WeakMap,Vs=new WeakMap,Kr=new WeakMap,Ol=new WeakMap,Us=new WeakSet,Jo=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),sr.batch(()=>{J(this,Vs).forEach(i=>{i.onMutationUpdate(n)}),J(this,Kr).notify({mutation:this,type:"updated",action:n})})},fI);function JT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fo,ms,hf,pI,Kk=(pI=class extends Zu{constructor(e={}){super();$e(this,fo);$e(this,ms);$e(this,hf);this.config=e,Oe(this,fo,new Set),Oe(this,ms,new Map),Oe(this,hf,0)}build(e,n,r){const i=new qk({client:e,mutationCache:this,mutationId:++Jf(this,hf)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){J(this,fo).add(e);const n=vp(e);if(typeof n=="string"){const r=J(this,ms).get(n);r?r.push(e):J(this,ms).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(J(this,fo).delete(e)){const n=vp(e);if(typeof n=="string"){const r=J(this,ms).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&J(this,ms).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=vp(e);if(typeof n=="string"){const r=J(this,ms).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=vp(e);if(typeof n=="string"){const i=(r=J(this,ms).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sr.batch(()=>{J(this,fo).forEach(e=>{this.notify({type:"removed",mutation:e})}),J(this,fo).clear(),J(this,ms).clear()})}getAll(){return Array.from(J(this,fo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>YE(n,r))}findAll(e={}){return this.getAll().filter(n=>YE(e,n))}notify(e){sr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return sr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Yr))))}},fo=new WeakMap,ms=new WeakMap,hf=new WeakMap,pI);function vp(t){var e;return(e=t.options.scope)==null?void 0:e.id}var po,fa,di,go,To,$p,av,gI,Xk=(gI=class extends Zu{constructor(n,r){super();$e(this,To);$e(this,po);$e(this,fa);$e(this,di);$e(this,go);Oe(this,po,n),this.setOptions(r),this.bindMethods(),ht(this,To,$p).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=J(this,po).defaultMutationOptions(n),N0(this.options,r)||J(this,po).getMutationCache().notify({type:"observerOptionsUpdated",mutation:J(this,di),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Wl(r.mutationKey)!==Wl(this.options.mutationKey)?this.reset():((i=J(this,di))==null?void 0:i.state.status)==="pending"&&J(this,di).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=J(this,di))==null||n.removeObserver(this)}onMutationUpdate(n){ht(this,To,$p).call(this),ht(this,To,av).call(this,n)}getCurrentResult(){return J(this,fa)}reset(){var n;(n=J(this,di))==null||n.removeObserver(this),Oe(this,di,void 0),ht(this,To,$p).call(this),ht(this,To,av).call(this)}mutate(n,r){var i;return Oe(this,go,r),(i=J(this,di))==null||i.removeObserver(this),Oe(this,di,J(this,po).getMutationCache().build(J(this,po),this.options)),J(this,di).addObserver(this),J(this,di).execute(n)}},po=new WeakMap,fa=new WeakMap,di=new WeakMap,go=new WeakMap,To=new WeakSet,$p=function(){var r;const n=((r=J(this,di))==null?void 0:r.state)??JT();Oe(this,fa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},av=function(n){sr.batch(()=>{var r,i,o,c,h,p,g,x;if(J(this,go)&&this.hasListeners()){const w=J(this,fa).variables,C=J(this,fa).context,A={client:J(this,po),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=J(this,go)).onSuccess)==null||i.call(r,n.data,w,C,A),(c=(o=J(this,go)).onSettled)==null||c.call(o,n.data,null,w,C,A)):(n==null?void 0:n.type)==="error"&&((p=(h=J(this,go)).onError)==null||p.call(h,n.error,w,C,A),(x=(g=J(this,go)).onSettled)==null||x.call(g,void 0,n.error,w,C,A))}this.listeners.forEach(w=>{w(J(this,fa))})})},gI),js,mI,Yk=(mI=class extends Zu{constructor(e={}){super();$e(this,js);this.config=e,Oe(this,js,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??Xx(i,n);let c=this.get(o);return c||(c=new zk({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){J(this,js).has(e.queryHash)||(J(this,js).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,js).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,js).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,js).get(e)}getAll(){return[...J(this,js).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>XE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>XE(e,r)):n}notify(e){sr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){sr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},js=new WeakMap,mI),kn,pa,ga,gu,mu,ma,yu,vu,yI,Qk=(yI=class{constructor(t={}){$e(this,kn);$e(this,pa);$e(this,ga);$e(this,gu);$e(this,mu);$e(this,ma);$e(this,yu);$e(this,vu);Oe(this,kn,t.queryCache||new Yk),Oe(this,pa,t.mutationCache||new Kk),Oe(this,ga,t.defaultOptions||{}),Oe(this,gu,new Map),Oe(this,mu,new Map),Oe(this,ma,0)}mount(){Jf(this,ma)._++,J(this,ma)===1&&(Oe(this,yu,Qx.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,kn).onFocus())})),Oe(this,vu,O0.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,kn).onOnline())})))}unmount(){var t,e;Jf(this,ma)._--,J(this,ma)===0&&((t=J(this,yu))==null||t.call(this),Oe(this,yu,void 0),(e=J(this,vu))==null||e.call(this),Oe(this,vu,void 0))}isFetching(t){return J(this,kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,pa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,kn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=J(this,kn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ra(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return J(this,kn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=J(this,kn).get(r.queryHash),o=i==null?void 0:i.state.data,c=Ok(e,o);if(c!==void 0)return J(this,kn).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return sr.batch(()=>J(this,kn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,kn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,kn);sr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,kn);return sr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=sr.batch(()=>J(this,kn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Yr).catch(Yr)}invalidateQueries(t,e={}){return sr.batch(()=>(J(this,kn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=sr.batch(()=>J(this,kn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Yr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Yr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,kn).build(this,e);return n.isStaleByTime(Ra(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yr).catch(Yr)}fetchInfiniteQuery(t){return t.behavior=r_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yr).catch(Yr)}ensureInfiniteQueryData(t){return t.behavior=r_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return O0.isOnline()?J(this,pa).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,kn)}getMutationCache(){return J(this,pa)}getDefaultOptions(){return J(this,ga)}setDefaultOptions(t){Oe(this,ga,t)}setQueryDefaults(t,e){J(this,gu).set(Wl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,gu).values()],n={};return e.forEach(r=>{jh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){J(this,mu).set(Wl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,mu).values()],n={};return e.forEach(r=>{jh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,ga).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Xx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Yx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,ga).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,kn).clear(),J(this,pa).clear()}},kn=new WeakMap,pa=new WeakMap,ga=new WeakMap,gu=new WeakMap,mu=new WeakMap,ma=new WeakMap,yu=new WeakMap,vu=new WeakMap,yI),eS=B.createContext(void 0),Ga=t=>{const e=B.useContext(eS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Zk=({client:t,children:e})=>(B.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(eS.Provider,{value:t,children:e})),tS=B.createContext(!1),Jk=()=>B.useContext(tS);tS.Provider;function e8(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var t8=B.createContext(e8()),n8=()=>B.useContext(t8),r8=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},i8=t=>{B.useEffect(()=>{t.clearReset()},[t])},s8=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||qT(n,[t.error,r])),o8=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},a8=(t,e)=>t.isLoading&&t.isFetching&&!e,l8=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,s_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function c8(t,e,n){var w,C,A,k,O;const r=Jk(),i=n8(),o=Ga(),c=o.defaultQueryOptions(t);(C=(w=o.getDefaultOptions().queries)==null?void 0:w._experimental_beforeQuery)==null||C.call(w,c),c._optimisticResults=r?"isRestoring":"optimistic",o8(c),r8(c,i),i8(i);const h=!o.getQueryCache().get(c.queryHash),[p]=B.useState(()=>new e(o,c)),g=p.getOptimisticResult(c),x=!r&&t.subscribed!==!1;if(B.useSyncExternalStore(B.useCallback(U=>{const D=x?p.subscribe(sr.batchCalls(U)):Yr;return p.updateResult(),D},[p,x]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),B.useEffect(()=>{p.setOptions(c)},[c,p]),l8(c,g))throw s_(c,p,i);if(s8({result:g,errorResetBoundary:i,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;if((k=(A=o.getDefaultOptions().queries)==null?void 0:A._experimental_afterQuery)==null||k.call(A,c,g),c.experimental_prefetchInRender&&!$l&&a8(g,r)){const U=h?s_(c,p,i):(O=o.getQueryCache().get(c.queryHash))==null?void 0:O.promise;U==null||U.catch(Yr).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?g:p.trackResult(g)}function Ef(t,e){return c8(t,$k)}function ic(t,e){const n=Ga(),[r]=B.useState(()=>new Xk(n,t));B.useEffect(()=>{r.setOptions(t)},[r,t]);const i=B.useSyncExternalStore(B.useCallback(c=>r.subscribe(sr.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=B.useCallback((c,h)=>{r.mutate(c,h).catch(Yr)},[r]);if(i.error&&qT(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function Hl(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const u8=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Au="$$material";function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$.apply(null,arguments)}function Ie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function d8(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function h8(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var f8=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(h8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=d8(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),kr="-ms-",k0="-moz-",jt="-webkit-",nS="comm",Jx="rule",e2="decl",p8="@import",rS="@keyframes",g8="@layer",m8=Math.abs,N1=String.fromCharCode,y8=Object.assign;function v8(t,e){return _r(t,0)^45?(((e<<2^_r(t,0))<<2^_r(t,1))<<2^_r(t,2))<<2^_r(t,3):0}function iS(t){return t.trim()}function x8(t,e){return(t=e.exec(t))?t[0]:t}function zt(t,e,n){return t.replace(e,n)}function lv(t,e){return t.indexOf(e)}function _r(t,e){return t.charCodeAt(e)|0}function zh(t,e,n){return t.slice(e,n)}function zs(t){return t.length}function t2(t){return t.length}function xp(t,e){return e.push(t),t}function w8(t,e){return t.map(e).join("")}var O1=1,Tu=1,sS=0,xi=0,Kn=0,Ju="";function k1(t,e,n,r,i,o,c){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:O1,column:Tu,length:c,return:""}}function Dd(t,e){return y8(k1("",null,null,"",null,null,0),t,{length:-t.length},e)}function E8(){return Kn}function _8(){return Kn=xi>0?_r(Ju,--xi):0,Tu--,Kn===10&&(Tu=1,O1--),Kn}function Li(){return Kn=xi<sS?_r(Ju,xi++):0,Tu++,Kn===10&&(Tu=1,O1++),Kn}function qs(){return _r(Ju,xi)}function Wp(){return xi}function _f(t,e){return zh(Ju,t,e)}function $h(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oS(t){return O1=Tu=1,sS=zs(Ju=t),xi=0,[]}function aS(t){return Ju="",t}function Hp(t){return iS(_f(xi-1,cv(t===91?t+2:t===40?t+1:t)))}function C8(t){for(;(Kn=qs())&&Kn<33;)Li();return $h(t)>2||$h(Kn)>3?"":" "}function b8(t,e){for(;--e&&Li()&&!(Kn<48||Kn>102||Kn>57&&Kn<65||Kn>70&&Kn<97););return _f(t,Wp()+(e<6&&qs()==32&&Li()==32))}function cv(t){for(;Li();)switch(Kn){case t:return xi;case 34:case 39:t!==34&&t!==39&&cv(Kn);break;case 40:t===41&&cv(t);break;case 92:Li();break}return xi}function I8(t,e){for(;Li()&&t+Kn!==57;)if(t+Kn===84&&qs()===47)break;return"/*"+_f(e,xi-1)+"*"+N1(t===47?t:Li())}function A8(t){for(;!$h(qs());)Li();return _f(t,xi)}function T8(t){return aS(Gp("",null,null,null,[""],t=oS(t),0,[0],t))}function Gp(t,e,n,r,i,o,c,h,p){for(var g=0,x=0,w=c,C=0,A=0,k=0,O=1,U=1,D=1,I=0,R="",V=i,H=o,X=r,S=R;U;)switch(k=I,I=Li()){case 40:if(k!=108&&_r(S,w-1)==58){lv(S+=zt(Hp(I),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:S+=Hp(I);break;case 9:case 10:case 13:case 32:S+=C8(k);break;case 92:S+=b8(Wp()-1,7);continue;case 47:switch(qs()){case 42:case 47:xp(S8(I8(Li(),Wp()),e,n),p);break;default:S+="/"}break;case 123*O:h[g++]=zs(S)*D;case 125*O:case 59:case 0:switch(I){case 0:case 125:U=0;case 59+x:D==-1&&(S=zt(S,/\f/g,"")),A>0&&zs(S)-w&&xp(A>32?a_(S+";",r,n,w-1):a_(zt(S," ","")+";",r,n,w-2),p);break;case 59:S+=";";default:if(xp(X=o_(S,e,n,g,x,i,h,R,V=[],H=[],w),o),I===123)if(x===0)Gp(S,e,X,X,V,o,w,h,H);else switch(C===99&&_r(S,3)===110?100:C){case 100:case 108:case 109:case 115:Gp(t,X,X,r&&xp(o_(t,X,X,0,0,i,h,R,i,V=[],w),H),i,H,w,h,r?V:H);break;default:Gp(S,X,X,X,[""],H,0,h,H)}}g=x=A=0,O=D=1,R=S="",w=c;break;case 58:w=1+zs(S),A=k;default:if(O<1){if(I==123)--O;else if(I==125&&O++==0&&_8()==125)continue}switch(S+=N1(I),I*O){case 38:D=x>0?1:(S+="\f",-1);break;case 44:h[g++]=(zs(S)-1)*D,D=1;break;case 64:qs()===45&&(S+=Hp(Li())),C=qs(),x=w=zs(R=S+=A8(Wp())),I++;break;case 45:k===45&&zs(S)==2&&(O=0)}}return o}function o_(t,e,n,r,i,o,c,h,p,g,x){for(var w=i-1,C=i===0?o:[""],A=t2(C),k=0,O=0,U=0;k<r;++k)for(var D=0,I=zh(t,w+1,w=m8(O=c[k])),R=t;D<A;++D)(R=iS(O>0?C[D]+" "+I:zt(I,/&\f/g,C[D])))&&(p[U++]=R);return k1(t,e,n,i===0?Jx:h,p,g,x)}function S8(t,e,n){return k1(t,e,n,nS,N1(E8()),zh(t,2,-2),0)}function a_(t,e,n,r){return k1(t,e,n,e2,zh(t,0,r),zh(t,r+1,-1),r)}function eu(t,e){for(var n="",r=t2(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function R8(t,e,n,r){switch(t.type){case g8:if(t.children.length)break;case p8:case e2:return t.return=t.return||t.value;case nS:return"";case rS:return t.return=t.value+"{"+eu(t.children,r)+"}";case Jx:t.value=t.props.join(",")}return zs(n=eu(t.children,r))?t.return=t.value+"{"+n+"}":""}function P8(t){var e=t2(t);return function(n,r,i,o){for(var c="",h=0;h<e;h++)c+=t[h](n,r,i,o)||"";return c}}function N8(t){return function(e){e.root||(e=e.return)&&t(e)}}function lS(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var O8=function(e,n,r){for(var i=0,o=0;i=o,o=qs(),i===38&&o===12&&(n[r]=1),!$h(o);)Li();return _f(e,xi)},k8=function(e,n){var r=-1,i=44;do switch($h(i)){case 0:i===38&&qs()===12&&(n[r]=1),e[r]+=O8(xi-1,n,r);break;case 2:e[r]+=Hp(i);break;case 4:if(i===44){e[++r]=qs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=N1(i)}while(i=Li());return e},D8=function(e,n){return aS(k8(oS(e),n))},l_=new WeakMap,M8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!l_.get(r))&&!i){l_.set(e,!0);for(var o=[],c=D8(n,o),h=r.props,p=0,g=0;p<c.length;p++)for(var x=0;x<h.length;x++,g++)e.props[g]=o[p]?c[p].replace(/&\f/g,h[x]):h[x]+" "+c[p]}}},L8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function cS(t,e){switch(v8(t,e)){case 5103:return jt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return jt+t+k0+t+kr+t+t;case 6828:case 4268:return jt+t+kr+t+t;case 6165:return jt+t+kr+"flex-"+t+t;case 5187:return jt+t+zt(t,/(\w+).+(:[^]+)/,jt+"box-$1$2"+kr+"flex-$1$2")+t;case 5443:return jt+t+kr+"flex-item-"+zt(t,/flex-|-self/,"")+t;case 4675:return jt+t+kr+"flex-line-pack"+zt(t,/align-content|flex-|-self/,"")+t;case 5548:return jt+t+kr+zt(t,"shrink","negative")+t;case 5292:return jt+t+kr+zt(t,"basis","preferred-size")+t;case 6060:return jt+"box-"+zt(t,"-grow","")+jt+t+kr+zt(t,"grow","positive")+t;case 4554:return jt+zt(t,/([^-])(transform)/g,"$1"+jt+"$2")+t;case 6187:return zt(zt(zt(t,/(zoom-|grab)/,jt+"$1"),/(image-set)/,jt+"$1"),t,"")+t;case 5495:case 3959:return zt(t,/(image-set\([^]*)/,jt+"$1$`$1");case 4968:return zt(zt(t,/(.+:)(flex-)?(.*)/,jt+"box-pack:$3"+kr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jt+t+t;case 4095:case 3583:case 4068:case 2532:return zt(t,/(.+)-inline(.+)/,jt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zs(t)-1-e>6)switch(_r(t,e+1)){case 109:if(_r(t,e+4)!==45)break;case 102:return zt(t,/(.+:)(.+)-([^]+)/,"$1"+jt+"$2-$3$1"+k0+(_r(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lv(t,"stretch")?cS(zt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(_r(t,e+1)!==115)break;case 6444:switch(_r(t,zs(t)-3-(~lv(t,"!important")&&10))){case 107:return zt(t,":",":"+jt)+t;case 101:return zt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+jt+(_r(t,14)===45?"inline-":"")+"box$3$1"+jt+"$2$3$1"+kr+"$2box$3")+t}break;case 5936:switch(_r(t,e+11)){case 114:return jt+t+kr+zt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return jt+t+kr+zt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return jt+t+kr+zt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return jt+t+kr+t+t}return t}var F8=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case e2:e.return=cS(e.value,e.length);break;case rS:return eu([Dd(e,{value:zt(e.value,"@","@"+jt)})],i);case Jx:if(e.length)return w8(e.props,function(o){switch(x8(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return eu([Dd(e,{props:[zt(o,/:(read-\w+)/,":"+k0+"$1")]})],i);case"::placeholder":return eu([Dd(e,{props:[zt(o,/:(plac\w+)/,":"+jt+"input-$1")]}),Dd(e,{props:[zt(o,/:(plac\w+)/,":"+k0+"$1")]}),Dd(e,{props:[zt(o,/:(plac\w+)/,kr+"input-$1")]})],i)}return""})}},B8=[F8],uS=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(O){var U=O.getAttribute("data-emotion");U.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var i=e.stylisPlugins||B8,o={},c,h=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(O){for(var U=O.getAttribute("data-emotion").split(" "),D=1;D<U.length;D++)o[U[D]]=!0;h.push(O)});var p,g=[M8,L8];{var x,w=[R8,N8(function(O){x.insert(O)})],C=P8(g.concat(i,w)),A=function(U){return eu(T8(U),C)};p=function(U,D,I,R){x=I,A(U?U+"{"+D.styles+"}":D.styles),R&&(k.inserted[D.name]=!0)}}var k={key:n,sheet:new f8({key:n,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:p};return k.sheet.hydrate(h),k},dS={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=typeof Symbol=="function"&&Symbol.for,n2=pr?Symbol.for("react.element"):60103,r2=pr?Symbol.for("react.portal"):60106,D1=pr?Symbol.for("react.fragment"):60107,M1=pr?Symbol.for("react.strict_mode"):60108,L1=pr?Symbol.for("react.profiler"):60114,F1=pr?Symbol.for("react.provider"):60109,B1=pr?Symbol.for("react.context"):60110,i2=pr?Symbol.for("react.async_mode"):60111,V1=pr?Symbol.for("react.concurrent_mode"):60111,U1=pr?Symbol.for("react.forward_ref"):60112,j1=pr?Symbol.for("react.suspense"):60113,V8=pr?Symbol.for("react.suspense_list"):60120,z1=pr?Symbol.for("react.memo"):60115,$1=pr?Symbol.for("react.lazy"):60116,U8=pr?Symbol.for("react.block"):60121,j8=pr?Symbol.for("react.fundamental"):60117,z8=pr?Symbol.for("react.responder"):60118,$8=pr?Symbol.for("react.scope"):60119;function ji(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case n2:switch(t=t.type,t){case i2:case V1:case D1:case L1:case M1:case j1:return t;default:switch(t=t&&t.$$typeof,t){case B1:case U1:case $1:case z1:case F1:return t;default:return e}}case r2:return e}}}function hS(t){return ji(t)===V1}Zt.AsyncMode=i2;Zt.ConcurrentMode=V1;Zt.ContextConsumer=B1;Zt.ContextProvider=F1;Zt.Element=n2;Zt.ForwardRef=U1;Zt.Fragment=D1;Zt.Lazy=$1;Zt.Memo=z1;Zt.Portal=r2;Zt.Profiler=L1;Zt.StrictMode=M1;Zt.Suspense=j1;Zt.isAsyncMode=function(t){return hS(t)||ji(t)===i2};Zt.isConcurrentMode=hS;Zt.isContextConsumer=function(t){return ji(t)===B1};Zt.isContextProvider=function(t){return ji(t)===F1};Zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===n2};Zt.isForwardRef=function(t){return ji(t)===U1};Zt.isFragment=function(t){return ji(t)===D1};Zt.isLazy=function(t){return ji(t)===$1};Zt.isMemo=function(t){return ji(t)===z1};Zt.isPortal=function(t){return ji(t)===r2};Zt.isProfiler=function(t){return ji(t)===L1};Zt.isStrictMode=function(t){return ji(t)===M1};Zt.isSuspense=function(t){return ji(t)===j1};Zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===D1||t===V1||t===L1||t===M1||t===j1||t===V8||typeof t=="object"&&t!==null&&(t.$$typeof===$1||t.$$typeof===z1||t.$$typeof===F1||t.$$typeof===B1||t.$$typeof===U1||t.$$typeof===j8||t.$$typeof===z8||t.$$typeof===$8||t.$$typeof===U8)};Zt.typeOf=ji;dS.exports=Zt;var W8=dS.exports,fS=W8,H8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},G8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pS={};pS[fS.ForwardRef]=H8;pS[fS.Memo]=G8;var q8=!0;function gS(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var s2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||q8===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},o2=function(e,n,r){s2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function K8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var X8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Y8=/[A-Z]|^ms/g,Q8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mS=function(e){return e.charCodeAt(1)===45},c_=function(e){return e!=null&&typeof e!="boolean"},Am=lS(function(t){return mS(t)?t:t.replace(Y8,"-$&").toLowerCase()}),u_=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Q8,function(r,i,o){return $s={name:i,styles:o,next:$s},i})}return X8[e]!==1&&!mS(e)&&typeof n=="number"&&n!==0?n+"px":n};function Wh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return $s={name:i.name,styles:i.styles,next:$s},i.name;var o=n;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)$s={name:c.name,styles:c.styles,next:$s},c=c.next;var h=o.styles+";";return h}return Z8(t,e,n)}case"function":{if(t!==void 0){var p=$s,g=n(t);return $s=p,Wh(t,e,g)}break}}var x=n;if(e==null)return x;var w=e[x];return w!==void 0?w:x}function Z8(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Wh(t,e,n[i])+";";else for(var o in n){var c=n[o];if(typeof c!="object"){var h=c;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":c_(h)&&(r+=Am(o)+":"+u_(o,h)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var p=0;p<c.length;p++)c_(c[p])&&(r+=Am(o)+":"+u_(o,c[p])+";");else{var g=Wh(t,e,c);switch(o){case"animation":case"animationName":{r+=Am(o)+":"+g+";";break}default:r+=o+"{"+g+"}"}}}return r}var d_=/label:\s*([^\s;{]+)\s*(;|$)/g,$s;function Cf(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";$s=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Wh(n,e,o);else{var c=o;i+=c[0]}for(var h=1;h<t.length;h++)if(i+=Wh(n,e,t[h]),r){var p=o;i+=p[h]}d_.lastIndex=0;for(var g="",x;(x=d_.exec(i))!==null;)g+="-"+x[1];var w=K8(i)+g;return{name:w,styles:i,next:$s}}var J8=function(e){return e()},yS=o0.useInsertionEffect?o0.useInsertionEffect:!1,vS=yS||J8,h_=yS||B.useLayoutEffect,xS=B.createContext(typeof HTMLElement<"u"?uS({key:"css"}):null),e6=xS.Provider,a2=function(e){return B.forwardRef(function(n,r){var i=B.useContext(xS);return e(n,i,r)})},ed=B.createContext({}),l2={}.hasOwnProperty,uv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",t6=function(e,n){var r={};for(var i in n)l2.call(n,i)&&(r[i]=n[i]);return r[uv]=e,r},n6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return s2(n,r,i),vS(function(){return o2(n,r,i)}),null},r6=a2(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[uv],o=[r],c="";typeof t.className=="string"?c=gS(e.registered,o,t.className):t.className!=null&&(c=t.className+" ");var h=Cf(o,void 0,B.useContext(ed));c+=e.key+"-"+h.name;var p={};for(var g in t)l2.call(t,g)&&g!=="css"&&g!==uv&&(p[g]=t[g]);return p.className=c,n&&(p.ref=n),B.createElement(B.Fragment,null,B.createElement(n6,{cache:e,serialized:h,isStringTag:typeof i=="string"}),B.createElement(i,p))}),i6=r6,Tm={exports:{}},f_;function wS(){return f_||(f_=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Tm)),Tm.exports}wS();var p_=function(e,n){var r=arguments;if(n==null||!l2.call(n,"css"))return B.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=i6,o[1]=t6(e,n);for(var c=2;c<i;c++)o[c]=r[c];return B.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(p_||(p_={}));var s6=a2(function(t,e){var n=t.styles,r=Cf([n],void 0,B.useContext(ed)),i=B.useRef();return h_(function(){var o=e.key+"-global",c=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),h=!1,p=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(c.before=e.sheet.tags[0]),p!==null&&(h=!0,p.setAttribute("data-emotion",o),c.hydrate([p])),i.current=[c,h],function(){c.flush()}},[e]),h_(function(){var o=i.current,c=o[0],h=o[1];if(h){o[1]=!1;return}if(r.next!==void 0&&o2(e,r.next,!0),c.tags.length){var p=c.tags[c.tags.length-1].nextElementSibling;c.before=p,c.flush()}e.insert("",r,c,!1)},[e,r.name]),null});function W1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Cf(e)}function td(){var t=W1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var o6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a6=lS(function(t){return o6.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),l6=a6,c6=function(e){return e!=="theme"},g_=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?l6:c6},m_=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(c){return e.__emotion_forwardProp(c)&&o(c)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},u6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return s2(n,r,i),vS(function(){return o2(n,r,i)}),null},d6=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,c;n!==void 0&&(o=n.label,c=n.target);var h=m_(e,n,r),p=h||g_(i),g=!p("as");return function(){var x=arguments,w=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&w.push("label:"+o+";"),x[0]==null||x[0].raw===void 0)w.push.apply(w,x);else{var C=x[0];w.push(C[0]);for(var A=x.length,k=1;k<A;k++)w.push(x[k],C[k])}var O=a2(function(U,D,I){var R=g&&U.as||i,V="",H=[],X=U;if(U.theme==null){X={};for(var S in U)X[S]=U[S];X.theme=B.useContext(ed)}typeof U.className=="string"?V=gS(D.registered,H,U.className):U.className!=null&&(V=U.className+" ");var M=Cf(w.concat(H),D.registered,X);V+=D.key+"-"+M.name,c!==void 0&&(V+=" "+c);var N=g&&h===void 0?g_(R):p,W={};for(var G in U)g&&G==="as"||N(G)&&(W[G]=U[G]);return W.className=V,I&&(W.ref=I),B.createElement(B.Fragment,null,B.createElement(u6,{cache:D,serialized:M,isStringTag:typeof R=="string"}),B.createElement(R,W))});return O.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",O.defaultProps=e.defaultProps,O.__emotion_real=O,O.__emotion_base=i,O.__emotion_styles=w,O.__emotion_forwardProp=h,Object.defineProperty(O,"toString",{value:function(){return"."+c}}),O.withComponent=function(U,D){var I=t(U,$({},n,D,{shouldForwardProp:m_(O,D,!0)}));return I.apply(void 0,w)},O}},h6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],dv=d6.bind(null);h6.forEach(function(t){dv[t]=dv(t)});function f6(t,e){const n=uS({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const Sm=new Map;function p6(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,i=B.useMemo(()=>{const o=`${e}-${n}`;if(typeof document=="object"&&Sm.has(o))return Sm.get(o);const c=f6(e,n);return Sm.set(o,c),c},[e,n]);return e||n?_.jsx(e6,{value:i,children:r}):r}function g6(t){return t==null||Object.keys(t).length===0}function ES(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(g6(i)?n:i):e;return _.jsx(s6,{styles:r})}function c2(t,e){return dv(t,e)}const _S=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},y_=[];function D0(t){return y_[0]=t,Cf(y_)}const m6=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:ES,StyledEngineProvider:p6,ThemeContext:ed,css:W1,default:c2,internal_processStyles:_S,internal_serializeStyles:D0,keyframes:td},Symbol.toStringTag,{value:"Module"}));function mo(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function CS(t){if(B.isValidElement(t)||!mo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=CS(t[n])}),e}function Jr(t,e,n={clone:!0}){const r=n.clone?$({},t):t;return mo(t)&&mo(e)&&Object.keys(e).forEach(i=>{B.isValidElement(e[i])?r[i]=e[i]:mo(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&mo(t[i])?r[i]=Jr(t[i],e[i],n):n.clone?r[i]=mo(e[i])?CS(e[i]):e[i]:r[i]=e[i]}),r}const y6=Object.freeze(Object.defineProperty({__proto__:null,default:Jr,isPlainObject:mo},Symbol.toStringTag,{value:"Module"})),v6=["values","unit","step"],x6=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>$({},n,{[r.key]:r.val}),{})};function bS(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Ie(t,v6),o=x6(e),c=Object.keys(o);function h(C){return`@media (min-width:${typeof e[C]=="number"?e[C]:C}${n})`}function p(C){return`@media (max-width:${(typeof e[C]=="number"?e[C]:C)-r/100}${n})`}function g(C,A){const k=c.indexOf(A);return`@media (min-width:${typeof e[C]=="number"?e[C]:C}${n}) and (max-width:${(k!==-1&&typeof e[c[k]]=="number"?e[c[k]]:A)-r/100}${n})`}function x(C){return c.indexOf(C)+1<c.length?g(C,c[c.indexOf(C)+1]):h(C)}function w(C){const A=c.indexOf(C);return A===0?h(c[1]):A===c.length-1?p(c[A]):g(C,c[c.indexOf(C)+1]).replace("@media","@media not all and")}return $({keys:c,values:o,up:h,down:p,between:g,only:x,not:w,unit:n},i)}const w6={borderRadius:4};function ph(t,e){return e?Jr(t,e,{clone:!1}):t}const u2={xs:0,sm:600,md:900,lg:1200,xl:1536},v_={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${u2[t]}px)`};function wi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||v_;return e.reduce((c,h,p)=>(c[o.up(o.keys[p])]=n(e[p]),c),{})}if(typeof e=="object"){const o=r.breakpoints||v_;return Object.keys(e).reduce((c,h)=>{if(Object.keys(o.values||u2).indexOf(h)!==-1){const p=o.up(h);c[p]=n(e[h],h)}else{const p=h;c[p]=e[p]}return c},{})}return n(e)}function IS(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function hv(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function E6(t,...e){const n=IS(t),r=[n,...e].reduce((i,o)=>Jr(i,o),{});return hv(Object.keys(n),r)}function _6(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Ll({values:t,breakpoints:e,base:n}){const r=n||_6(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((c,h,p)=>(Array.isArray(t)?(c[h]=t[p]!=null?t[p]:t[o],o=p):typeof t=="object"?(c[h]=t[h]!=null?t[h]:t[o],o=h):c[h]=t,c),{})}function ge(t){if(typeof t!="string")throw new Error(Hl(7));return t.charAt(0).toUpperCase()+t.slice(1)}const C6=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"}));function H1(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function M0(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=H1(t,n)||r,e&&(i=e(i,r,t)),i}function Wn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=c=>{if(c[e]==null)return null;const h=c[e],p=c.theme,g=H1(p,r)||{};return wi(c,h,w=>{let C=M0(g,i,w);return w===C&&typeof w=="string"&&(C=M0(g,i,`${e}${w==="default"?"":ge(w)}`,w)),n===!1?C:{[n]:C}})};return o.propTypes={},o.filterProps=[e],o}function b6(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const I6={m:"margin",p:"padding"},A6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},x_={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},T6=b6(t=>{if(t.length>2)if(x_[t])t=x_[t];else return[t];const[e,n]=t.split(""),r=I6[e],i=A6[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),d2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...d2,...h2];function bf(t,e,n,r){var i;const o=(i=H1(t,e,!1))!=null?i:n;return typeof o=="number"?c=>typeof c=="string"?c:o*c:Array.isArray(o)?c=>typeof c=="string"?c:o[c]:typeof o=="function"?o:()=>{}}function f2(t){return bf(t,"spacing",8)}function Gl(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function S6(t,e){return n=>t.reduce((r,i)=>(r[i]=Gl(e,n),r),{})}function R6(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=T6(n),o=S6(i,r),c=t[n];return wi(t,c,o)}function AS(t,e){const n=f2(t.theme);return Object.keys(t).map(r=>R6(t,e,r,n)).reduce(ph,{})}function Nn(t){return AS(t,d2)}Nn.propTypes={};Nn.filterProps=d2;function On(t){return AS(t,h2)}On.propTypes={};On.filterProps=h2;function P6(t=8){if(t.mui)return t;const e=f2({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const c=e(o);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function G1(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?ph(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ji(t){return typeof t!="number"?t:`${t}px solid`}function os(t,e){return Wn({prop:t,themeKey:"borders",transform:e})}const N6=os("border",Ji),O6=os("borderTop",Ji),k6=os("borderRight",Ji),D6=os("borderBottom",Ji),M6=os("borderLeft",Ji),L6=os("borderColor"),F6=os("borderTopColor"),B6=os("borderRightColor"),V6=os("borderBottomColor"),U6=os("borderLeftColor"),j6=os("outline",Ji),z6=os("outlineColor"),q1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=bf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Gl(e,r)});return wi(t,t.borderRadius,n)}return null};q1.propTypes={};q1.filterProps=["borderRadius"];G1(N6,O6,k6,D6,M6,L6,F6,B6,V6,U6,q1,j6,z6);const K1=t=>{if(t.gap!==void 0&&t.gap!==null){const e=bf(t.theme,"spacing",8),n=r=>({gap:Gl(e,r)});return wi(t,t.gap,n)}return null};K1.propTypes={};K1.filterProps=["gap"];const X1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=bf(t.theme,"spacing",8),n=r=>({columnGap:Gl(e,r)});return wi(t,t.columnGap,n)}return null};X1.propTypes={};X1.filterProps=["columnGap"];const Y1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=bf(t.theme,"spacing",8),n=r=>({rowGap:Gl(e,r)});return wi(t,t.rowGap,n)}return null};Y1.propTypes={};Y1.filterProps=["rowGap"];const $6=Wn({prop:"gridColumn"}),W6=Wn({prop:"gridRow"}),H6=Wn({prop:"gridAutoFlow"}),G6=Wn({prop:"gridAutoColumns"}),q6=Wn({prop:"gridAutoRows"}),K6=Wn({prop:"gridTemplateColumns"}),X6=Wn({prop:"gridTemplateRows"}),Y6=Wn({prop:"gridTemplateAreas"}),Q6=Wn({prop:"gridArea"});G1(K1,X1,Y1,$6,W6,H6,G6,q6,K6,X6,Y6,Q6);function tu(t,e){return e==="grey"?e:t}const Z6=Wn({prop:"color",themeKey:"palette",transform:tu}),J6=Wn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tu}),eD=Wn({prop:"backgroundColor",themeKey:"palette",transform:tu});G1(Z6,J6,eD);function Oi(t){return t<=1&&t!==0?`${t*100}%`:t}const tD=Wn({prop:"width",transform:Oi}),p2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||u2[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Oi(n)}};return wi(t,t.maxWidth,e)}return null};p2.filterProps=["maxWidth"];const nD=Wn({prop:"minWidth",transform:Oi}),rD=Wn({prop:"height",transform:Oi}),iD=Wn({prop:"maxHeight",transform:Oi}),sD=Wn({prop:"minHeight",transform:Oi});Wn({prop:"size",cssProperty:"width",transform:Oi});Wn({prop:"size",cssProperty:"height",transform:Oi});const oD=Wn({prop:"boxSizing"});G1(tD,p2,nD,rD,iD,sD,oD);const If={border:{themeKey:"borders",transform:Ji},borderTop:{themeKey:"borders",transform:Ji},borderRight:{themeKey:"borders",transform:Ji},borderBottom:{themeKey:"borders",transform:Ji},borderLeft:{themeKey:"borders",transform:Ji},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ji},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:q1},color:{themeKey:"palette",transform:tu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tu},backgroundColor:{themeKey:"palette",transform:tu},p:{style:On},pt:{style:On},pr:{style:On},pb:{style:On},pl:{style:On},px:{style:On},py:{style:On},padding:{style:On},paddingTop:{style:On},paddingRight:{style:On},paddingBottom:{style:On},paddingLeft:{style:On},paddingX:{style:On},paddingY:{style:On},paddingInline:{style:On},paddingInlineStart:{style:On},paddingInlineEnd:{style:On},paddingBlock:{style:On},paddingBlockStart:{style:On},paddingBlockEnd:{style:On},m:{style:Nn},mt:{style:Nn},mr:{style:Nn},mb:{style:Nn},ml:{style:Nn},mx:{style:Nn},my:{style:Nn},margin:{style:Nn},marginTop:{style:Nn},marginRight:{style:Nn},marginBottom:{style:Nn},marginLeft:{style:Nn},marginX:{style:Nn},marginY:{style:Nn},marginInline:{style:Nn},marginInlineStart:{style:Nn},marginInlineEnd:{style:Nn},marginBlock:{style:Nn},marginBlockStart:{style:Nn},marginBlockEnd:{style:Nn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:K1},rowGap:{style:Y1},columnGap:{style:X1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Oi},maxWidth:{style:p2},minWidth:{transform:Oi},height:{transform:Oi},maxHeight:{transform:Oi},minHeight:{transform:Oi},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function aD(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function lD(t,e){return typeof t=="function"?t(e):t}function TS(){function t(n,r,i,o){const c={[n]:r,theme:i},h=o[n];if(!h)return{[n]:r};const{cssProperty:p=n,themeKey:g,transform:x,style:w}=h;if(r==null)return null;if(g==="typography"&&r==="inherit")return{[n]:r};const C=H1(i,g)||{};return w?w(c):wi(c,r,k=>{let O=M0(C,x,k);return k===O&&typeof k=="string"&&(O=M0(C,x,`${n}${k==="default"?"":ge(k)}`,k)),p===!1?O:{[p]:O}})}function e(n){var r;const{sx:i,theme:o={},nested:c}=n||{};if(!i)return null;const h=(r=o.unstable_sxConfig)!=null?r:If;function p(g){let x=g;if(typeof g=="function")x=g(o);else if(typeof g!="object")return g;if(!x)return null;const w=IS(o.breakpoints),C=Object.keys(w);let A=w;return Object.keys(x).forEach(k=>{const O=lD(x[k],o);if(O!=null)if(typeof O=="object")if(h[k])A=ph(A,t(k,O,o,h));else{const U=wi({theme:o},O,D=>({[k]:D}));aD(U,O)?A[k]=e({sx:O,theme:o,nested:!0}):A=ph(A,U)}else A=ph(A,t(k,O,o,h))}),!c&&o.modularCssLayers?{"@layer sx":hv(C,A)}:hv(C,A)}return Array.isArray(i)?i.map(p):p(i)}return e}const nd=TS();nd.filterProps=["sx"];function SS(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const cD=["breakpoints","palette","spacing","shape"];function rd(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,c=Ie(t,cD),h=bS(n),p=P6(i);let g=Jr({breakpoints:h,direction:"ltr",components:{},palette:$({mode:"light"},r),spacing:p,shape:$({},w6,o)},c);return g.applyStyles=SS,g=e.reduce((x,w)=>Jr(x,w),g),g.unstable_sxConfig=$({},If,c==null?void 0:c.unstable_sxConfig),g.unstable_sx=function(w){return nd({sx:w,theme:this})},g}const uD=Object.freeze(Object.defineProperty({__proto__:null,default:rd,private_createBreakpoints:bS,unstable_applyStyles:SS},Symbol.toStringTag,{value:"Module"}));function dD(t){return Object.keys(t).length===0}function g2(t=null){const e=B.useContext(ed);return!e||dD(e)?t:e}const hD=rd();function Q1(t=hD){return g2(t)}function Rm(t){const e=D0(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function RS({styles:t,themeId:e,defaultTheme:n={}}){const r=Q1(n),i=e&&r[e]||r;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(c=>Rm(typeof c=="function"?c(i):c)):o=Rm(o)),_.jsx(ES,{styles:o})}const fD=["sx"],pD=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:If;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function Af(t){const{sx:e}=t,n=Ie(t,fD),{systemProps:r,otherProps:i}=pD(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...c)=>{const h=e(...c);return mo(h)?$({},r,h):r}:o=$({},r,e),$({},i,{sx:o})}const gD=Object.freeze(Object.defineProperty({__proto__:null,default:nd,extendSxProp:Af,unstable_createStyleFunctionSx:TS,unstable_defaultSxConfig:If},Symbol.toStringTag,{value:"Module"})),w_=t=>t,mD=()=>{let t=w_;return{configure(e){t=e},generate(e){return t(e)},reset(){t=w_}}},PS=mD();function NS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NS(t))&&(r&&(r+=" "),r+=e);return r}const yD=["className","component"];function vD(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=c2("div",{shouldForwardProp:h=>h!=="theme"&&h!=="sx"&&h!=="as"})(nd);return B.forwardRef(function(p,g){const x=Q1(n),w=Af(p),{className:C,component:A="div"}=w,k=Ie(w,yD);return _.jsx(o,$({as:A,ref:g,className:Se(C,i?i(r):r),theme:e&&x[e]||x},k))})}const xD={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function He(t,e,n="Mui"){const r=xD[e];return r?`${n}-${r}`:`${PS.generate(t)}-${e}`}function Ke(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=He(t,i,n)}),r}var OS={exports:{}},an={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2=Symbol.for("react.transitional.element"),y2=Symbol.for("react.portal"),Z1=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),tg=Symbol.for("react.consumer"),ng=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),ag=Symbol.for("react.lazy"),wD=Symbol.for("react.view_transition"),ED=Symbol.for("react.client.reference");function as(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case m2:switch(t=t.type,t){case Z1:case eg:case J1:case ig:case sg:case wD:return t;default:switch(t=t&&t.$$typeof,t){case ng:case rg:case ag:case og:return t;case tg:return t;default:return e}}case y2:return e}}}an.ContextConsumer=tg;an.ContextProvider=ng;an.Element=m2;an.ForwardRef=rg;an.Fragment=Z1;an.Lazy=ag;an.Memo=og;an.Portal=y2;an.Profiler=eg;an.StrictMode=J1;an.Suspense=ig;an.SuspenseList=sg;an.isContextConsumer=function(t){return as(t)===tg};an.isContextProvider=function(t){return as(t)===ng};an.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===m2};an.isForwardRef=function(t){return as(t)===rg};an.isFragment=function(t){return as(t)===Z1};an.isLazy=function(t){return as(t)===ag};an.isMemo=function(t){return as(t)===og};an.isPortal=function(t){return as(t)===y2};an.isProfiler=function(t){return as(t)===eg};an.isStrictMode=function(t){return as(t)===J1};an.isSuspense=function(t){return as(t)===ig};an.isSuspenseList=function(t){return as(t)===sg};an.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Z1||t===eg||t===J1||t===ig||t===sg||typeof t=="object"&&t!==null&&(t.$$typeof===ag||t.$$typeof===og||t.$$typeof===ng||t.$$typeof===tg||t.$$typeof===rg||t.$$typeof===ED||t.getModuleId!==void 0)};an.typeOf=as;OS.exports=an;var E_=OS.exports;const _D=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function kS(t){const e=`${t}`.match(_D);return e&&e[1]||""}function DS(t,e=""){return t.displayName||t.name||kS(t)||e}function __(t,e,n){const r=DS(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function CD(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return DS(t,"Component");if(typeof t=="object")switch(t.$$typeof){case E_.ForwardRef:return __(t,t.render,"ForwardRef");case E_.Memo:return __(t,t.type,"memo");default:return}}}const bD=Object.freeze(Object.defineProperty({__proto__:null,default:CD,getFunctionName:kS},Symbol.toStringTag,{value:"Module"})),ID=["ownerState"],AD=["variants"],TD=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function SD(t){return Object.keys(t).length===0}function RD(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Pm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function C_(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const PD=rd(),ND=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function wp({defaultTheme:t,theme:e,themeId:n}){return SD(e)?t:e[n]||e}function OD(t){return t?(e,n)=>n[t]:null}function qp(t,e,n){let{ownerState:r}=e,i=Ie(e,ID);const o=typeof t=="function"?t($({ownerState:r},i)):t;if(Array.isArray(o))return o.flatMap(c=>qp(c,$({ownerState:r},i),n));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:c=[]}=o;let p=Ie(o,AD);return c.forEach(g=>{let x=!0;if(typeof g.props=="function"?x=g.props($({ownerState:r},i,r)):Object.keys(g.props).forEach(w=>{(r==null?void 0:r[w])!==g.props[w]&&i[w]!==g.props[w]&&(x=!1)}),x){Array.isArray(p)||(p=[p]);const w=typeof g.style=="function"?g.style($({ownerState:r},i,r)):g.style;p.push(n?C_(D0(w),n):w)}}),p}return n?C_(D0(o),n):o}function kD(t={}){const{themeId:e,defaultTheme:n=PD,rootShouldForwardProp:r=Pm,slotShouldForwardProp:i=Pm}=t,o=c=>nd($({},c,{theme:wp($({},c,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(c,h={})=>{_S(c,X=>X.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:p,slot:g,skipVariantsResolver:x,skipSx:w,overridesResolver:C=OD(ND(g))}=h,A=Ie(h,TD),k=p&&p.startsWith("Mui")||g?"components":"custom",O=x!==void 0?x:g&&g!=="Root"&&g!=="root"||!1,U=w||!1;let D,I=Pm;g==="Root"||g==="root"?I=r:g?I=i:RD(c)&&(I=void 0);const R=c2(c,$({shouldForwardProp:I,label:D},A)),V=X=>typeof X=="function"&&X.__emotion_real!==X||mo(X)?S=>{const M=wp({theme:S.theme,defaultTheme:n,themeId:e});return qp(X,$({},S,{theme:M}),M.modularCssLayers?k:void 0)}:X,H=(X,...S)=>{let M=V(X);const N=S?S.map(V):[];p&&C&&N.push(q=>{const z=wp($({},q,{defaultTheme:n,themeId:e}));if(!z.components||!z.components[p]||!z.components[p].styleOverrides)return null;const ue=z.components[p].styleOverrides,Z={};return Object.entries(ue).forEach(([me,de])=>{Z[me]=qp(de,$({},q,{theme:z}),z.modularCssLayers?"theme":void 0)}),C(q,Z)}),p&&!O&&N.push(q=>{var z;const ue=wp($({},q,{defaultTheme:n,themeId:e})),Z=ue==null||(z=ue.components)==null||(z=z[p])==null?void 0:z.variants;return qp({variants:Z},$({},q,{theme:ue}),ue.modularCssLayers?"theme":void 0)}),U||N.push(o);const W=N.length-S.length;if(Array.isArray(X)&&W>0){const q=new Array(W).fill("");M=[...X,...q],M.raw=[...X.raw,...q]}const G=R(M,...N);return c.muiName&&(G.muiName=c.muiName),G};return R.withConfig&&(H.withConfig=R.withConfig),H}}const MS=kD();function Hh(t,e){const n=$({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=$({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=$({},o),Object.keys(i).forEach(c=>{n[r][c]=Hh(i[c],o[c])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function DD(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Hh(e.components[n].defaultProps,r)}function LS({props:t,name:e,defaultTheme:n,themeId:r}){let i=Q1(n);return r&&(i=i[r]||i),DD({theme:i,name:e,props:t})}const Is=typeof window<"u"?B.useLayoutEffect:B.useEffect;function MD(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const LD=Object.freeze(Object.defineProperty({__proto__:null,default:MD},Symbol.toStringTag,{value:"Module"}));function b_(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function v2(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Kp(t,e){var n,r;return B.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Fi(t){return t&&t.ownerDocument||document}function Oo(t){return Fi(t).defaultView||window}function fv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let I_=0;function FD(t){const[e,n]=B.useState(t),r=t||e;return B.useEffect(()=>{e==null&&(I_+=1,n(`mui-${I_}`))},[e]),r}const A_=o0.useId;function lg(t){if(A_!==void 0){const e=A_();return t??e}return FD(t)}function pv({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=B.useRef(t!==void 0),[o,c]=B.useState(e),h=i?t:o,p=B.useCallback(g=>{i||c(g)},[]);return[h,p]}function wl(t){const e=B.useRef(t);return Is(()=>{e.current=t}),B.useRef((...n)=>(0,e.current)(...n)).current}function Zn(...t){return B.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{fv(n,e)})},t)}const T_={};function BD(t,e){const n=B.useRef(T_);return n.current===T_&&(n.current=t(e)),n}const VD=[];function UD(t){B.useEffect(t,VD)}class cg{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new cg}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function FS(){const t=BD(cg.create).current;return UD(t.disposeEffect),t}let ug=!0,gv=!1;const jD=new cg,zD={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function $D(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&zD[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function WD(t){t.metaKey||t.altKey||t.ctrlKey||(ug=!0)}function Nm(){ug=!1}function HD(){this.visibilityState==="hidden"&&gv&&(ug=!0)}function GD(t){t.addEventListener("keydown",WD,!0),t.addEventListener("mousedown",Nm,!0),t.addEventListener("pointerdown",Nm,!0),t.addEventListener("touchstart",Nm,!0),t.addEventListener("visibilitychange",HD,!0)}function qD(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return ug||$D(e)}function KD(){const t=B.useCallback(i=>{i!=null&&GD(i.ownerDocument)},[]),e=B.useRef(!1);function n(){return e.current?(gv=!0,jD.start(100,()=>{gv=!1}),e.current=!1,!0):!1}function r(i){return qD(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function BS(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Xe(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,c)=>{if(c){const h=e(c);h!==""&&o.push(h),n&&n[c]&&o.push(n[c])}return o},[]).join(" ")}),r}function Su(t){return typeof t=="string"}function VS(t,e,n){return t===void 0||Su(t)?e:$({},e,{ownerState:$({},e.ownerState,n)})}function US(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function S_(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function jS(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const A=Se(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),k=$({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),O=$({},n,i,r);return A.length>0&&(O.className=A),Object.keys(k).length>0&&(O.style=k),{props:O,internalRef:void 0}}const c=US($({},i,r)),h=S_(r),p=S_(i),g=e(c),x=Se(g==null?void 0:g.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),w=$({},g==null?void 0:g.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),C=$({},g,n,p,h);return x.length>0&&(C.className=x),Object.keys(w).length>0&&(C.style=w),{props:C,internalRef:g.ref}}function zS(t,e,n){return typeof t=="function"?t(e,n):t}const XD=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ru(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,c=Ie(t,XD),h=o?{}:zS(r,i),{props:p,internalRef:g}=jS($({},c,{externalSlotProps:h})),x=Zn(g,h==null?void 0:h.ref,(e=t.additionalProps)==null?void 0:e.ref);return VS(n,$({},p,{ref:x}),i)}function id(t){if(parseInt(B.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const $S=B.createContext(null);function WS(){return B.useContext($S)}const YD=typeof Symbol=="function"&&Symbol.for,QD=YD?Symbol.for("mui.nested"):"__THEME_NESTED__";function ZD(t,e){return typeof e=="function"?e(t):$({},t,e)}function JD(t){const{children:e,theme:n}=t,r=WS(),i=B.useMemo(()=>{const o=r===null?n:ZD(r,n);return o!=null&&(o[QD]=r!==null),o},[n,r]);return _.jsx($S.Provider,{value:i,children:e})}const eM=["value"],HS=B.createContext();function tM(t){let{value:e}=t,n=Ie(t,eM);return _.jsx(HS.Provider,$({value:e??!0},n))}const GS=()=>{const t=B.useContext(HS);return t??!1},qS=B.createContext(void 0);function nM({value:t,children:e}){return _.jsx(qS.Provider,{value:t,children:e})}function rM(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Hh(i.defaultProps,r):!i.styleOverrides&&!i.variants?Hh(i,r):r}function iM({props:t,name:e}){const n=B.useContext(qS);return rM({props:t,name:e,theme:{components:n}})}function sM(t){const e=g2(),n=lg()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Is(()=>{const o=document.querySelector("head");if(!o)return;const c=o.firstChild;if(i){var h;if(c&&(h=c.hasAttribute)!=null&&h.call(c,"data-mui-layer-order")&&c.getAttribute("data-mui-layer-order")===n)return;const g=document.createElement("style");g.setAttribute("data-mui-layer-order",n),g.textContent=i,o.prepend(g)}else{var p;(p=o.querySelector(`style[data-mui-layer-order="${n}"]`))==null||p.remove()}},[i,n]),i?_.jsx(RS,{styles:i}):null}const R_={};function P_(t,e,n,r=!1){return B.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),c=t?$({},e,{[t]:o}):o;return r?()=>c:c}return t?$({},e,{[t]:n}):$({},e,n)},[t,e,n,r])}function oM(t){const{children:e,theme:n,themeId:r}=t,i=g2(R_),o=WS()||R_,c=P_(r,i,n),h=P_(r,o,n,!0),p=c.direction==="rtl",g=sM(c);return _.jsx(JD,{theme:h,children:_.jsx(ed.Provider,{value:c,children:_.jsx(tM,{value:p,children:_.jsxs(nM,{value:c==null?void 0:c.components,children:[g,e]})})})})}function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}const aM=["className","component","disableGutters","fixed","maxWidth","classes"],lM=rd(),cM=MS("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),uM=t=>LS({props:t,name:"MuiContainer",defaultTheme:lM}),dM=(t,e)=>{const n=p=>He(e,p),{classes:r,fixed:i,disableGutters:o,maxWidth:c}=t,h={root:["root",c&&`maxWidth${ge(String(c))}`,i&&"fixed",o&&"disableGutters"]};return Xe(h,n,r)};function hM(t={}){const{createStyledComponent:e=cM,useThemeProps:n=uM,componentName:r="MuiContainer"}=t,i=e(({theme:c,ownerState:h})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!h.disableGutters&&{paddingLeft:c.spacing(2),paddingRight:c.spacing(2),[c.breakpoints.up("sm")]:{paddingLeft:c.spacing(3),paddingRight:c.spacing(3)}}),({theme:c,ownerState:h})=>h.fixed&&Object.keys(c.breakpoints.values).reduce((p,g)=>{const x=g,w=c.breakpoints.values[x];return w!==0&&(p[c.breakpoints.up(x)]={maxWidth:`${w}${c.breakpoints.unit}`}),p},{}),({theme:c,ownerState:h})=>$({},h.maxWidth==="xs"&&{[c.breakpoints.up("xs")]:{maxWidth:Math.max(c.breakpoints.values.xs,444)}},h.maxWidth&&h.maxWidth!=="xs"&&{[c.breakpoints.up(h.maxWidth)]:{maxWidth:`${c.breakpoints.values[h.maxWidth]}${c.breakpoints.unit}`}}));return B.forwardRef(function(h,p){const g=n(h),{className:x,component:w="div",disableGutters:C=!1,fixed:A=!1,maxWidth:k="lg"}=g,O=Ie(g,aM),U=$({},g,{component:w,disableGutters:C,fixed:A,maxWidth:k}),D=dM(U,r);return _.jsx(i,$({as:w,ownerState:U,className:Se(D.root,x),ref:p},O))})}const fM=["component","direction","spacing","divider","children","className","useFlexGap"],pM=rd(),gM=MS("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function mM(t){return LS({props:t,name:"MuiStack",defaultTheme:pM})}function yM(t,e){const n=B.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(B.cloneElement(e,{key:`separator-${o}`})),r),[])}const vM=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],xM=({ownerState:t,theme:e})=>{let n=$({display:"flex",flexDirection:"column"},wi({theme:e},Ll({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=f2(e),i=Object.keys(e.breakpoints.values).reduce((p,g)=>((typeof t.spacing=="object"&&t.spacing[g]!=null||typeof t.direction=="object"&&t.direction[g]!=null)&&(p[g]=!0),p),{}),o=Ll({values:t.direction,base:i}),c=Ll({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((p,g,x)=>{if(!o[p]){const C=g>0?o[x[g-1]]:"column";o[p]=C}}),n=Jr(n,wi({theme:e},c,(p,g)=>t.useFlexGap?{gap:Gl(r,p)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${vM(g?o[g]:t.direction)}`]:Gl(r,p)}}))}return n=E6(e.breakpoints,n),n};function wM(t={}){const{createStyledComponent:e=gM,useThemeProps:n=mM,componentName:r="MuiStack"}=t,i=()=>Xe({root:["root"]},p=>He(r,p),{}),o=e(xM);return B.forwardRef(function(p,g){const x=n(p),w=Af(x),{component:C="div",direction:A="column",spacing:k=0,divider:O,children:U,className:D,useFlexGap:I=!1}=w,R=Ie(w,fM),V={direction:A,spacing:k,useFlexGap:I},H=i();return _.jsx(o,$({as:C,ownerState:V,ref:g,className:Se(H.root,D)},R,{children:O?yM(U,O):U}))})}function EM(t,e){return $({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Hn={},KS={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(KS);var XS=KS.exports;const _M=za(u8),CM=za(LD);var YS=XS;Object.defineProperty(Hn,"__esModule",{value:!0});var wt=Hn.alpha=eR;Hn.blend=DM;Hn.colorChannel=void 0;var Gh=Hn.darken=w2;Hn.decomposeColor=ss;Hn.emphasize=tR;var bM=Hn.getContrastRatio=RM;Hn.getLuminance=F0;Hn.hexToRgb=QS;Hn.hslToRgb=JS;var qh=Hn.lighten=E2;Hn.private_safeAlpha=PM;Hn.private_safeColorChannel=void 0;Hn.private_safeDarken=NM;Hn.private_safeEmphasize=kM;Hn.private_safeLighten=OM;Hn.recomposeColor=sd;Hn.rgbToHex=SM;var N_=YS(_M),IM=YS(CM);function x2(t,e=0,n=1){return(0,IM.default)(t,e,n)}function QS(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function AM(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function ss(t){if(t.type)return t;if(t.charAt(0)==="#")return ss(QS(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,N_.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,N_.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const ZS=t=>{const e=ss(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Hn.colorChannel=ZS;const TM=(t,e)=>{try{return ZS(t)}catch{return t}};Hn.private_safeColorChannel=TM;function sd(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function SM(t){if(t.indexOf("#")===0)return t;const{values:e}=ss(t);return`#${e.map((n,r)=>AM(r===3?Math.round(255*n):n)).join("")}`}function JS(t){t=ss(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),c=(g,x=(g+n/30)%12)=>i-o*Math.max(Math.min(x-3,9-x,1),-1);let h="rgb";const p=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return t.type==="hsla"&&(h+="a",p.push(e[3])),sd({type:h,values:p})}function F0(t){t=ss(t);let e=t.type==="hsl"||t.type==="hsla"?ss(JS(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function RM(t,e){const n=F0(t),r=F0(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function eR(t,e){return t=ss(t),e=x2(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,sd(t)}function PM(t,e,n){try{return eR(t,e)}catch{return t}}function w2(t,e){if(t=ss(t),e=x2(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return sd(t)}function NM(t,e,n){try{return w2(t,e)}catch{return t}}function E2(t,e){if(t=ss(t),e=x2(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return sd(t)}function OM(t,e,n){try{return E2(t,e)}catch{return t}}function tR(t,e=.15){return F0(t)>.5?w2(t,e):E2(t,e)}function kM(t,e,n){try{return tR(t,e)}catch{return t}}function DM(t,e,n,r=1){const i=(p,g)=>Math.round((p**(1/r)*(1-n)+g**(1/r)*n)**r),o=ss(t),c=ss(e),h=[i(o.values[0],c.values[0]),i(o.values[1],c.values[1]),i(o.values[2],c.values[2])];return sd({type:"rgb",values:h})}const Kh={black:"#000",white:"#fff"},MM={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wc={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ec={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Md={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},_c={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Cc={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},bc={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},LM=["mode","contrastThreshold","tonalOffset"],O_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Kh.white,default:Kh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Om={text:{primary:Kh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Kh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function k_(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=qh(t.main,i):e==="dark"&&(t.dark=Gh(t.main,o)))}function FM(t="light"){return t==="dark"?{main:_c[200],light:_c[50],dark:_c[400]}:{main:_c[700],light:_c[400],dark:_c[800]}}function BM(t="light"){return t==="dark"?{main:wc[200],light:wc[50],dark:wc[400]}:{main:wc[500],light:wc[300],dark:wc[700]}}function VM(t="light"){return t==="dark"?{main:Ec[500],light:Ec[300],dark:Ec[700]}:{main:Ec[700],light:Ec[400],dark:Ec[800]}}function UM(t="light"){return t==="dark"?{main:Cc[400],light:Cc[300],dark:Cc[700]}:{main:Cc[700],light:Cc[500],dark:Cc[900]}}function jM(t="light"){return t==="dark"?{main:bc[400],light:bc[300],dark:bc[700]}:{main:bc[800],light:bc[500],dark:bc[900]}}function zM(t="light"){return t==="dark"?{main:Md[400],light:Md[300],dark:Md[700]}:{main:"#ed6c02",light:Md[500],dark:Md[900]}}function $M(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Ie(t,LM),o=t.primary||FM(e),c=t.secondary||BM(e),h=t.error||VM(e),p=t.info||UM(e),g=t.success||jM(e),x=t.warning||zM(e);function w(O){return bM(O,Om.text.primary)>=n?Om.text.primary:O_.text.primary}const C=({color:O,name:U,mainShade:D=500,lightShade:I=300,darkShade:R=700})=>{if(O=$({},O),!O.main&&O[D]&&(O.main=O[D]),!O.hasOwnProperty("main"))throw new Error(Hl(11,U?` (${U})`:"",D));if(typeof O.main!="string")throw new Error(Hl(12,U?` (${U})`:"",JSON.stringify(O.main)));return k_(O,"light",I,r),k_(O,"dark",R,r),O.contrastText||(O.contrastText=w(O.main)),O},A={dark:Om,light:O_};return Jr($({common:$({},Kh),mode:e,primary:C({color:o,name:"primary"}),secondary:C({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:h,name:"error"}),warning:C({color:x,name:"warning"}),info:C({color:p,name:"info"}),success:C({color:g,name:"success"}),grey:MM,contrastThreshold:n,getContrastText:w,augmentColor:C,tonalOffset:r},A[e]),i)}const WM=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function HM(t){return Math.round(t*1e5)/1e5}const D_={textTransform:"uppercase"},M_='"Roboto", "Helvetica", "Arial", sans-serif';function GM(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=M_,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:c=400,fontWeightMedium:h=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:x,pxToRem:w}=n,C=Ie(n,WM),A=i/14,k=w||(D=>`${D/g*A}rem`),O=(D,I,R,V,H)=>$({fontFamily:r,fontWeight:D,fontSize:k(I),lineHeight:R},r===M_?{letterSpacing:`${HM(V/I)}em`}:{},H,x),U={h1:O(o,96,1.167,-1.5),h2:O(o,60,1.2,-.5),h3:O(c,48,1.167,0),h4:O(c,34,1.235,.25),h5:O(c,24,1.334,0),h6:O(h,20,1.6,.15),subtitle1:O(c,16,1.75,.15),subtitle2:O(h,14,1.57,.1),body1:O(c,16,1.5,.15),body2:O(c,14,1.43,.15),button:O(h,14,1.75,.4,D_),caption:O(c,12,1.66,.4),overline:O(c,12,2.66,1,D_),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Jr($({htmlFontSize:g,pxToRem:k,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:c,fontWeightMedium:h,fontWeightBold:p},U),C,{clone:!1})}const qM=.2,KM=.14,XM=.12;function En(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${qM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${KM})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${XM})`].join(",")}const YM=["none",En(0,2,1,-1,0,1,1,0,0,1,3,0),En(0,3,1,-2,0,2,2,0,0,1,5,0),En(0,3,3,-2,0,3,4,0,0,1,8,0),En(0,2,4,-1,0,4,5,0,0,1,10,0),En(0,3,5,-1,0,5,8,0,0,1,14,0),En(0,3,5,-1,0,6,10,0,0,1,18,0),En(0,4,5,-2,0,7,10,1,0,2,16,1),En(0,5,5,-3,0,8,10,1,0,3,14,2),En(0,5,6,-3,0,9,12,1,0,3,16,2),En(0,6,6,-3,0,10,14,1,0,4,18,3),En(0,6,7,-4,0,11,15,1,0,4,20,3),En(0,7,8,-4,0,12,17,2,0,5,22,4),En(0,7,8,-4,0,13,19,2,0,5,24,4),En(0,7,9,-4,0,14,21,2,0,5,26,4),En(0,8,9,-5,0,15,22,2,0,6,28,5),En(0,8,10,-5,0,16,24,2,0,6,30,5),En(0,8,11,-5,0,17,26,2,0,6,32,5),En(0,9,11,-5,0,18,28,2,0,7,34,6),En(0,9,12,-6,0,19,29,2,0,7,36,6),En(0,10,13,-6,0,20,31,3,0,8,38,7),En(0,10,13,-6,0,21,33,3,0,8,40,7),En(0,10,14,-6,0,22,35,3,0,8,42,7),En(0,11,14,-7,0,23,36,3,0,9,44,8),En(0,11,15,-7,0,24,38,3,0,9,46,8)],QM=["duration","easing","delay"],ZM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},JM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function L_(t){return`${Math.round(t)}ms`}function e5(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function t5(t){const e=$({},ZM,t.easing),n=$({},JM,t.duration);return $({getAutoHeightDuration:e5,create:(i=["all"],o={})=>{const{duration:c=n.standard,easing:h=e.easeInOut,delay:p=0}=o;return Ie(o,QM),(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof c=="string"?c:L_(c)} ${h} ${typeof p=="string"?p:L_(p)}`).join(",")}},t,{easing:e,duration:n})}const n5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},r5=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _2(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,c=Ie(t,r5);if(t.vars&&t.generateCssVars===void 0)throw new Error(Hl(18));const h=$M(r),p=rd(t);let g=Jr(p,{mixins:EM(p.breakpoints,n),palette:h,shadows:YM.slice(),typography:GM(h,o),transitions:t5(i),zIndex:$({},n5)});return g=Jr(g,c),g=e.reduce((x,w)=>Jr(x,w),g),g.unstable_sxConfig=$({},If,c==null?void 0:c.unstable_sxConfig),g.unstable_sx=function(w){return nd({sx:w,theme:this})},g}const C2=_2();function od(){const t=Q1(C2);return t[Au]||t}var Tf={},km={exports:{}},F_;function i5(){return F_||(F_=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(km)),km.exports}const s5=za(m6),o5=za(y6),a5=za(C6),l5=za(bD),c5=za(uD),u5=za(gD);var ad=XS;Object.defineProperty(Tf,"__esModule",{value:!0});var d5=Tf.default=b5;Tf.shouldForwardProp=Xp;Tf.systemDefaultTheme=void 0;var Ki=ad(wS()),mv=ad(i5()),B0=v5(s5),h5=o5;ad(a5);ad(l5);var f5=ad(c5),p5=ad(u5);const g5=["ownerState"],m5=["variants"],y5=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function nR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(nR=function(r){return r?n:e})(t)}function v5(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=nR(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var c=i?Object.getOwnPropertyDescriptor(t,o):null;c&&(c.get||c.set)?Object.defineProperty(r,o,c):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function x5(t){return Object.keys(t).length===0}function w5(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Xp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function B_(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const E5=Tf.systemDefaultTheme=(0,f5.default)(),_5=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Ep({defaultTheme:t,theme:e,themeId:n}){return x5(e)?t:e[n]||e}function C5(t){return t?(e,n)=>n[t]:null}function Yp(t,e,n){let{ownerState:r}=e,i=(0,mv.default)(e,g5);const o=typeof t=="function"?t((0,Ki.default)({ownerState:r},i)):t;if(Array.isArray(o))return o.flatMap(c=>Yp(c,(0,Ki.default)({ownerState:r},i),n));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:c=[]}=o;let p=(0,mv.default)(o,m5);return c.forEach(g=>{let x=!0;if(typeof g.props=="function"?x=g.props((0,Ki.default)({ownerState:r},i,r)):Object.keys(g.props).forEach(w=>{(r==null?void 0:r[w])!==g.props[w]&&i[w]!==g.props[w]&&(x=!1)}),x){Array.isArray(p)||(p=[p]);const w=typeof g.style=="function"?g.style((0,Ki.default)({ownerState:r},i,r)):g.style;p.push(n?B_((0,B0.internal_serializeStyles)(w),n):w)}}),p}return n?B_((0,B0.internal_serializeStyles)(o),n):o}function b5(t={}){const{themeId:e,defaultTheme:n=E5,rootShouldForwardProp:r=Xp,slotShouldForwardProp:i=Xp}=t,o=c=>(0,p5.default)((0,Ki.default)({},c,{theme:Ep((0,Ki.default)({},c,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(c,h={})=>{(0,B0.internal_processStyles)(c,X=>X.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:p,slot:g,skipVariantsResolver:x,skipSx:w,overridesResolver:C=C5(_5(g))}=h,A=(0,mv.default)(h,y5),k=p&&p.startsWith("Mui")||g?"components":"custom",O=x!==void 0?x:g&&g!=="Root"&&g!=="root"||!1,U=w||!1;let D,I=Xp;g==="Root"||g==="root"?I=r:g?I=i:w5(c)&&(I=void 0);const R=(0,B0.default)(c,(0,Ki.default)({shouldForwardProp:I,label:D},A)),V=X=>typeof X=="function"&&X.__emotion_real!==X||(0,h5.isPlainObject)(X)?S=>{const M=Ep({theme:S.theme,defaultTheme:n,themeId:e});return Yp(X,(0,Ki.default)({},S,{theme:M}),M.modularCssLayers?k:void 0)}:X,H=(X,...S)=>{let M=V(X);const N=S?S.map(V):[];p&&C&&N.push(q=>{const z=Ep((0,Ki.default)({},q,{defaultTheme:n,themeId:e}));if(!z.components||!z.components[p]||!z.components[p].styleOverrides)return null;const ue=z.components[p].styleOverrides,Z={};return Object.entries(ue).forEach(([me,de])=>{Z[me]=Yp(de,(0,Ki.default)({},q,{theme:z}),z.modularCssLayers?"theme":void 0)}),C(q,Z)}),p&&!O&&N.push(q=>{var z;const ue=Ep((0,Ki.default)({},q,{defaultTheme:n,themeId:e})),Z=ue==null||(z=ue.components)==null||(z=z[p])==null?void 0:z.variants;return Yp({variants:Z},(0,Ki.default)({},q,{theme:ue}),ue.modularCssLayers?"theme":void 0)}),U||N.push(o);const W=N.length-S.length;if(Array.isArray(X)&&W>0){const q=new Array(W).fill("");M=[...X,...q],M.raw=[...X.raw,...q]}const G=R(M,...N);return c.muiName&&(G.muiName=c.muiName),G};return R.withConfig&&(H.withConfig=R.withConfig),H}}function rR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ni=t=>rR(t)&&t!=="classes",xe=d5({themeId:Au,defaultTheme:C2,rootShouldForwardProp:ni}),I5=["theme"];function A5(t){let{theme:e}=t,n=Ie(t,I5);const r=e[Au];let i=r||e;return typeof e!="function"&&(r&&!r.vars?i=$({},r,{vars:null}):e&&!e.vars&&(i=$({},e,{vars:null}))),_.jsx(oM,$({},n,{themeId:r?Au:void 0,theme:i}))}const V_=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Ye(t){return iM(t)}function iR(t){return _.jsx(RS,$({},t,{defaultTheme:C2,themeId:Au}))}const T5=(t,e)=>$({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),S5=t=>$({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),R5=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([c,h])=>{var p;r[t.getColorSchemeSelector(c).replace(/\s*&/,"")]={colorScheme:(p=h.palette)==null?void 0:p.mode}});let i=$({html:T5(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:$({margin:0},S5(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const o=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return o&&(i=[i,o]),i};function sR(t){const e=Ye({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return _.jsxs(B.Fragment,{children:[_.jsx(iR,{styles:i=>R5(i,r)}),n]})}var U_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],c=t[n++],h=t[n++],p=((i&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},aR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],c=i+1<t.length,h=c?t[i+1]:0,p=i+2<t.length,g=p?t[i+2]:0,x=o>>2,w=(o&3)<<4|h>>4;let C=(h&15)<<2|g>>6,A=g&63;p||(A=64,c||(C=64)),r.push(n[x],n[w],n[C],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const w=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||h==null||g==null||w==null)throw new N5;const C=o<<2|h>>4;if(r.push(C),g!==64){const A=h<<4&240|g>>2;if(r.push(A),w!==64){const k=g<<6&192|w;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O5=function(t){const e=oR(t);return aR.encodeByteArray(e,!0)},V0=function(t){return O5(t).replace(/\./g,"")},lR=function(t){try{return aR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=()=>k5().__FIREBASE_DEFAULTS__,M5=()=>{if(typeof process>"u"||typeof U_>"u")return;const t=U_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lR(t[1]);return e&&JSON.parse(e)},dg=()=>{try{return D5()||M5()||L5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cR=t=>{var e,n;return(n=(e=dg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},F5=t=>{const e=cR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uR=()=>{var t;return(t=dg())===null||t===void 0?void 0:t.config},dR=t=>{var e;return(e=dg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[V0(JSON.stringify(n)),V0(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function j5(){var t;const e=(t=dg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H5(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G5(){return!j5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q5(){try{return typeof indexedDB=="object"}catch{return!1}}function K5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="FirebaseError";class Bo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X5,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}}class Sf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?Y5(o,r):"Error",h=`${this.serviceName}: ${c} (${i}).`;return new Bo(i,h,r)}}function Y5(t,e){return t.replace(Q5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q5=/\{\$([^}]+)}/g;function Z5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],c=e[i];if(j_(o)&&j_(c)){if(!U0(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Zd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function J5(t,e){const n=new e9(t,e);return n.subscribe.bind(n)}class e9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");t9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dm),i.error===void 0&&(i.error=Dm),i.complete===void 0&&(i.complete=Dm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t){return t&&t._delegate?t._delegate:t}class ql{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new B5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i9(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r9(t){return t===hl?void 0:t}function i9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const o9={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},a9=Rt.INFO,l9={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},c9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=l9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b2{constructor(e){this.name=e,this._logLevel=a9,this._logHandler=c9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const u9=(t,e)=>e.some(n=>t instanceof n);let z_,$_;function d9(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h9(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hR=new WeakMap,yv=new WeakMap,fR=new WeakMap,Mm=new WeakMap,I2=new WeakMap;function f9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Pa(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&hR.set(n,t)}).catch(()=>{}),I2.set(e,t),e}function p9(t){if(yv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});yv.set(t,e)}let vv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function g9(t){vv=t(vv)}function m9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lm(this),e,...n);return fR.set(r,e.sort?e.sort():[e]),Pa(r)}:h9().includes(t)?function(...e){return t.apply(Lm(this),e),Pa(hR.get(this))}:function(...e){return Pa(t.apply(Lm(this),e))}}function y9(t){return typeof t=="function"?m9(t):(t instanceof IDBTransaction&&p9(t),u9(t,d9())?new Proxy(t,vv):t)}function Pa(t){if(t instanceof IDBRequest)return f9(t);if(Mm.has(t))return Mm.get(t);const e=y9(t);return e!==t&&(Mm.set(t,e),I2.set(e,t)),e}const Lm=t=>I2.get(t);function v9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(t,e),h=Pa(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Pa(c.result),p.oldVersion,p.newVersion,Pa(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{o&&p.addEventListener("close",()=>o()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const x9=["get","getKey","getAll","getAllKeys","count"],w9=["put","add","delete","clear"],Fm=new Map;function W_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=w9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x9.includes(n)))return;const o=async function(c,...h){const p=this.transaction(c,i?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),i&&p.done]))[0]};return Fm.set(e,o),o}g9(t=>({...t,get:(e,n,r)=>W_(e,n)||t.get(e,n,r),has:(e,n)=>!!W_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xv="@firebase/app",H_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new b2("@firebase/app"),C9="@firebase/app-compat",b9="@firebase/analytics-compat",I9="@firebase/analytics",A9="@firebase/app-check-compat",T9="@firebase/app-check",S9="@firebase/auth",R9="@firebase/auth-compat",P9="@firebase/database",N9="@firebase/data-connect",O9="@firebase/database-compat",k9="@firebase/functions",D9="@firebase/functions-compat",M9="@firebase/installations",L9="@firebase/installations-compat",F9="@firebase/messaging",B9="@firebase/messaging-compat",V9="@firebase/performance",U9="@firebase/performance-compat",j9="@firebase/remote-config",z9="@firebase/remote-config-compat",$9="@firebase/storage",W9="@firebase/storage-compat",H9="@firebase/firestore",G9="@firebase/vertexai-preview",q9="@firebase/firestore-compat",K9="firebase",X9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="[DEFAULT]",Y9={[xv]:"fire-core",[C9]:"fire-core-compat",[I9]:"fire-analytics",[b9]:"fire-analytics-compat",[T9]:"fire-app-check",[A9]:"fire-app-check-compat",[S9]:"fire-auth",[R9]:"fire-auth-compat",[P9]:"fire-rtdb",[N9]:"fire-data-connect",[O9]:"fire-rtdb-compat",[k9]:"fire-fn",[D9]:"fire-fn-compat",[M9]:"fire-iid",[L9]:"fire-iid-compat",[F9]:"fire-fcm",[B9]:"fire-fcm-compat",[V9]:"fire-perf",[U9]:"fire-perf-compat",[j9]:"fire-rc",[z9]:"fire-rc-compat",[$9]:"fire-gcs",[W9]:"fire-gcs-compat",[H9]:"fire-fst",[q9]:"fire-fst-compat",[G9]:"fire-vertex","fire-js":"fire-js",[K9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map,Q9=new Map,Ev=new Map;function G_(t,e){try{t.container.addComponent(e)}catch(n){ko.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pu(t){const e=t.name;if(Ev.has(e))return ko.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,t);for(const n of j0.values())G_(n,t);for(const n of Q9.values())G_(n,t);return!0}function A2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Sf("app","Firebase",Z9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=X9;function pR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(n||(n=uR()),!n)throw Na.create("no-options");const o=j0.get(i);if(o){if(U0(n,o.options)&&U0(r,o.config))return o;throw Na.create("duplicate-app",{appName:i})}const c=new s9(i);for(const p of Ev.values())c.addComponent(p);const h=new J9(n,r,c);return j0.set(i,h),h}function gR(t=wv){const e=j0.get(t);if(!e&&t===wv&&uR())return pR();if(!e)throw Na.create("no-app",{appName:t});return e}function Oa(t,e,n){var r;let i=(r=Y9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ko.warn(h.join(" "));return}Pu(new ql(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="firebase-heartbeat-database",t7=1,Xh="firebase-heartbeat-store";let Bm=null;function mR(){return Bm||(Bm=v9(e7,t7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),Bm}async function n7(t){try{const n=(await mR()).transaction(Xh),r=await n.objectStore(Xh).get(yR(t));return await n.done,r}catch(e){if(e instanceof Bo)ko.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ko.warn(n.message)}}}async function q_(t,e){try{const r=(await mR()).transaction(Xh,"readwrite");await r.objectStore(Xh).put(e,yR(t)),await r.done}catch(n){if(n instanceof Bo)ko.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ko.warn(r.message)}}}function yR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=1024,i7=30*24*60*60*1e3;class s7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=K_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=i7}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ko.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K_(),{heartbeatsToSend:r,unsentEntries:i}=o7(this._heartbeatsCache.heartbeats),o=V0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ko.warn(n),""}}}function K_(){return new Date().toISOString().substring(0,10)}function o7(t,e=r7){const n=[];let r=t.slice();for(const i of t){const o=n.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),X_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),X_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q5()?K5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function X_(t){return V0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){Pu(new ql("platform-logger",e=>new E9(e),"PRIVATE")),Pu(new ql("heartbeat",e=>new s7(e),"PRIVATE")),Oa(xv,H_,t),Oa(xv,H_,"esm2017"),Oa("fire-js","")}l7("");var c7="firebase",u7="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(c7,u7,"app");function T2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d7=vR,xR=new Sf("auth","Firebase",vR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new b2("@firebase/auth");function h7(t,...e){z0.logLevel<=Rt.WARN&&z0.warn(`Auth (${ld}): ${t}`,...e)}function Qp(t,...e){z0.logLevel<=Rt.ERROR&&z0.error(`Auth (${ld}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,...e){throw S2(t,...e)}function Ks(t,...e){return S2(t,...e)}function wR(t,e,n){const r=Object.assign(Object.assign({},d7()),{[e]:n});return new Sf("auth","Firebase",r).create(e,{appName:t.name})}function ka(t){return wR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xR.create(t,...e)}function rt(t,e,...n){if(!t)throw S2(e,...n)}function wo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qp(e),new Error(e)}function Do(t,e){t||wo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f7(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f7()||$5()||"connection"in navigator)?navigator.onLine:!0}function g7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Do(n>e,"Short delay should be less than long delay!"),this.isMobile=U5()||W5()}get(){return p7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){Do(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=new Pf(3e4,6e4);function sc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qa(t,e,n,r,i={}){return _R(t,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=Rf(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:p},o);return z5()||(g.referrerPolicy="no-referrer"),ER.fetch()(CR(t,t.config.apiHost,n,h),g)})}async function _R(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m7),e);try{const i=new x7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw _p(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[p,g]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _p(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw _p(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw _p(t,"user-disabled",c);const x=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw wR(t,x,g);As(t,x)}}catch(i){if(i instanceof Bo)throw i;As(t,"network-request-failed",{message:String(i)})}}async function hg(t,e,n,r,i={}){const o=await qa(t,e,n,r,i);return"mfaPendingCredential"in o&&As(t,"multi-factor-auth-required",{_serverResponse:o}),o}function CR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?R2(t.config,i):`${t.config.apiScheme}://${i}`}function v7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ks(this.auth,"network-request-failed")),y7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _p(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ks(t,e,r);return i.customData._tokenResponse=n,i}function Q_(t){return t!==void 0&&t.enterprise!==void 0}class w7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function E7(t,e){return qa(t,"GET","/v2/recaptchaConfig",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(t,e){return qa(t,"POST","/v1/accounts:delete",e)}async function bR(t,e){return qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C7(t,e=!1){const n=fr(t),r=await n.getIdToken(e),i=P2(r);rt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:gh(Vm(i.auth_time)),issuedAtTime:gh(Vm(i.iat)),expirationTime:gh(Vm(i.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Vm(t){return Number(t)*1e3}function P2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=lR(n);return i?JSON.parse(i):(Qp("Failed to decode base64 JWT payload"),null)}catch(i){return Qp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z_(t){const e=P2(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bo&&b7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yh(t,bR(n,{idToken:r}));rt(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?IR(o.providerUserInfo):[],h=T7(t.providerData,c),p=t.isAnonymous,g=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),x=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Cv(o.createdAt,o.lastLoginAt),isAnonymous:x};Object.assign(t,w)}async function A7(t){const e=fr(t);await $0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IR(t){return t.map(e=>{var{providerId:n}=e,r=T2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,e){const n=await _R(t,{},async()=>{const r=Rf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,c=CR(t,i,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",ER.fetch()(c,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R7(t,e){return qa(t,"POST","/v2/accounts:revokeToken",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=Z_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await S7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,c=new nu;return r&&(rt(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(rt(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(rt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nu,this.toJSON())}_performRefresh(){return wo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=T2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Yh(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C7(this,e)}reload(){return A7(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xo(this.auth.app))return Promise.reject(ka(this.auth));const e=await this.getIdToken();return await Yh(this,_7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,c,h,p,g,x;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,C=(i=n.email)!==null&&i!==void 0?i:void 0,A=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,k=(c=n.photoURL)!==null&&c!==void 0?c:void 0,O=(h=n.tenantId)!==null&&h!==void 0?h:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,D=(g=n.createdAt)!==null&&g!==void 0?g:void 0,I=(x=n.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:R,emailVerified:V,isAnonymous:H,providerData:X,stsTokenManager:S}=n;rt(R&&S,e,"internal-error");const M=nu.fromJSON(this.name,S);rt(typeof R=="string",e,"internal-error"),Xo(w,e.name),Xo(C,e.name),rt(typeof V=="boolean",e,"internal-error"),rt(typeof H=="boolean",e,"internal-error"),Xo(A,e.name),Xo(k,e.name),Xo(O,e.name),Xo(U,e.name),Xo(D,e.name),Xo(I,e.name);const N=new Eo({uid:R,auth:e,email:C,emailVerified:V,displayName:w,isAnonymous:H,photoURL:k,phoneNumber:A,tenantId:O,stsTokenManager:M,createdAt:D,lastLoginAt:I});return X&&Array.isArray(X)&&(N.providerData=X.map(W=>Object.assign({},W))),U&&(N._redirectEventId=U),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new nu;i.updateFromServerResponse(n);const o=new Eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $0(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?IR(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new nu;h.updateFromIdToken(r);const p=new Eo({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function _o(t){Do(t instanceof Function,"Expected a class definition");let e=J_.get(t);return e?(Do(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AR.type="NONE";const eC=AR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t,e,n){return`firebase:${t}:${e}:${n}`}class ru{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Zp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ru(_o(eC),e,r);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=i[0]||_o(eC);const c=Zp(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const x=await g._get(c);if(x){const w=Eo._fromJSON(e,x);g!==o&&(h=w),o=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new ru(o,e,r):(o=p[0],h&&await o._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new ru(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OR(e))return"Blackberry";if(kR(e))return"Webos";if(SR(e))return"Safari";if((e.includes("chrome/")||RR(e))&&!e.includes("edge/"))return"Chrome";if(NR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TR(t=jr()){return/firefox\//i.test(t)}function SR(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RR(t=jr()){return/crios\//i.test(t)}function PR(t=jr()){return/iemobile/i.test(t)}function NR(t=jr()){return/android/i.test(t)}function OR(t=jr()){return/blackberry/i.test(t)}function kR(t=jr()){return/webos/i.test(t)}function N2(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P7(t=jr()){var e;return N2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N7(){return H5()&&document.documentMode===10}function DR(t=jr()){return N2(t)||NR(t)||kR(t)||OR(t)||/windows phone/i.test(t)||PR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e=[]){let n;switch(t){case"Browser":n=tC(jr());break;case"Worker":n=`${tC(jr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ld}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,h)=>{try{const p=e(o);c(p)}catch(p){h(p)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7(t,e={}){return qa(t,"GET","/v2/passwordPolicy",sc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=6;class M7{constructor(e){var n,r,i,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:D7,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(i=p.containsLowercaseLetter)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nC(this),this.idTokenSubscription=new nC(this),this.beforeStateQueue=new O7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_o(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ru.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bR(this,{idToken:e}),r=await Eo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xo(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xo(this.app))return Promise.reject(ka(this));const n=e?fr(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xo(this.app)?Promise.reject(ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xo(this.app)?Promise.reject(ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_o(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k7(this),n=new M7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_o(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[_o(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,i);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&h7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function cd(t){return fr(t)}class nC{constructor(e){this.auth=e,this.observer=null,this.addObserver=J5(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F7(t){fg=t}function LR(t){return fg.loadJS(t)}function B7(){return fg.recaptchaEnterpriseScript}function V7(){return fg.gapiScript}function U7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const j7="recaptcha-enterprise",z7="NO_RECAPTCHA";class $7{constructor(e){this.type=j7,this.auth=cd(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{E7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new w7(p);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(p=>{h(p)})})}function i(o,c,h){const p=window.grecaptcha;Q_(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(g=>{c(g)}).catch(()=>{c(z7)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,c)=>{r(this.auth).then(h=>{if(!n&&Q_(window.grecaptcha))i(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=B7();p.length!==0&&(p+=h),LR(p).then(()=>{i(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function rC(t,e,n,r=!1){const i=new $7(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c=Object.assign({},e);return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function iC(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await rC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await rC(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t,e){const n=A2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(U0(o,e??{}))return i;As(i,"already-initialized")}return n.initialize({options:e})}function H7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_o);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function G7(t,e,n){const r=cd(t);rt(r._canInitEmulator,r,"emulator-config-failed"),rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=FR(e),{host:c,port:h}=q7(e),p=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${c}${p}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),K7()}function FR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q7(t){const e=FR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:sC(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:sC(c)}}}function sC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wo("not implemented")}_getIdTokenResponse(e){return wo("not implemented")}_linkToIdToken(e,n){return wo("not implemented")}_getReauthenticationResolver(e){return wo("not implemented")}}async function X7(t,e){return qa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(t,e){return hg(t,"POST","/v1/accounts:signInWithPassword",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q7(t,e){return hg(t,"POST","/v1/accounts:signInWithEmailLink",sc(t,e))}async function Z7(t,e){return hg(t,"POST","/v1/accounts:signInWithEmailLink",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends O2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Qh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iC(e,n,"signInWithPassword",Y7);case"emailLink":return Q7(e,{email:this._email,oobCode:this._password});default:As(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iC(e,r,"signUpPassword",X7);case"emailLink":return Z7(e,{idToken:n,email:this._email,oobCode:this._password});default:As(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e){return hg(t,"POST","/v1/accounts:signInWithIdp",sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7="http://localhost";class Kl extends O2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):As("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=T2(n,["providerId","signInMethod"]);if(!r||!i)return null;const c=new Kl(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return iu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,iu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,iu(e,n)}buildRequest(){const e={requestUri:J7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tL(t){const e=Qd(Zd(t)).link,n=e?Qd(Zd(e)).deep_link_id:null,r=Qd(Zd(t)).deep_link_id;return(r?Qd(Zd(r)).link:null)||r||n||e||t}class k2{constructor(e){var n,r,i,o,c,h;const p=Qd(Zd(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,x=(r=p.oobCode)!==null&&r!==void 0?r:null,w=eL((i=p.mode)!==null&&i!==void 0?i:null);rt(g&&x&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=x,this.continueUrl=(o=p.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=tL(e);try{return new k2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.providerId=ud.PROVIDER_ID}static credential(e,n){return Qh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=k2.parseLink(n);return rt(r,"argument-error"),Qh._fromEmailAndCode(e,r.code,r.tenantId)}}ud.PROVIDER_ID="password";ud.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ud.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends BR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Nf{constructor(){super("facebook.com")}static credential(e){return Kl._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Kl._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sa.credential(n,r)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Nf{constructor(){super("github.com")}static credential(e){return Kl._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Nf{constructor(){super("twitter.com")}static credential(e,n){return Kl._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return aa.credential(n,r)}catch{return null}}}aa.TWITTER_SIGN_IN_METHOD="twitter.com";aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Eo._fromIdTokenResponse(e,r,i),c=oC(r);return new Nu({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oC(r);return new Nu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Bo{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,W0.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new W0(e,n,r,i)}}function VR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?W0._fromErrorAndOperation(t,o,e,r):o})}async function nL(t,e,n=!1){const r=await Yh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e,n=!1){const{auth:r}=t;if(xo(r.app))return Promise.reject(ka(r));const i="reauthenticate";try{const o=await Yh(t,VR(r,i,e,t),n);rt(o.idToken,r,"internal-error");const c=P2(o.idToken);rt(c,r,"internal-error");const{sub:h}=c;return rt(t.uid===h,r,"user-mismatch"),Nu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&As(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e,n=!1){if(xo(t.app))return Promise.reject(ka(t));const r="signIn",i=await VR(t,r,e),o=await Nu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function iL(t,e){return UR(cd(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t){const e=cd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function oL(t,e,n){return xo(t.app)?Promise.reject(ka(t)):iL(fr(t),ud.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sL(t),r})}function aL(t,e,n,r){return fr(t).onIdTokenChanged(e,n,r)}function lL(t,e,n){return fr(t).beforeAuthStateChanged(e,n)}function cL(t,e,n,r){return fr(t).onAuthStateChanged(e,n,r)}function uL(t){return fr(t).signOut()}const H0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(H0,"1"),this.storage.removeItem(H0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=1e3,hL=10;class zR extends jR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);N7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zR.type="LOCAL";const fL=zR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R extends jR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$R.type="SESSION";const WR=$R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(c).map(async g=>g(n.origin,o)),p=await pL(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((h,p)=>{const g=D2("",20);i.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(w){const C=w;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(x),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(C.data.response);break;default:clearTimeout(x),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){return window}function mL(t){Xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function yL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xL(){return HR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebaseLocalStorageDb",wL=1,G0="firebaseLocalStorage",qR="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gg(t,e){return t.transaction([G0],e?"readwrite":"readonly").objectStore(G0)}function EL(){const t=indexedDB.deleteDatabase(GR);return new Of(t).toPromise()}function bv(){const t=indexedDB.open(GR,wL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(G0,{keyPath:qR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(G0)?e(r):(r.close(),await EL(),e(await bv()))})})}async function aC(t,e,n){const r=gg(t,!0).put({[qR]:e,value:n});return new Of(r).toPromise()}async function _L(t,e){const n=gg(t,!1).get(e),r=await new Of(n).toPromise();return r===void 0?null:r.value}function lC(t,e){const n=gg(t,!0).delete(e);return new Of(n).toPromise()}const CL=800,bL=3;class KR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pg._getInstance(xL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yL(),!this.activeServiceWorker)return;this.sender=new gL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await aC(e,H0,"1"),await lC(e,H0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_L(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=gg(i,!1).getAll();return new Of(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KR.type="LOCAL";const IL=KR;new Pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t,e){return e?_o(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends O2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return iu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return iu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TL(t){return UR(t.auth,new M2(t),t.bypassAuthState)}function SL(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),rL(n,new M2(t),t.bypassAuthState)}async function RL(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),nL(n,new M2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TL;case"linkViaPopup":case"linkViaRedirect":return RL;case"reauthViaPopup":case"reauthViaRedirect":return SL;default:As(this.auth,"internal-error")}}resolve(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=new Pf(2e3,1e4);class Gc extends XR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Gc.currentPopupAction&&Gc.currentPopupAction.cancel(),Gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){Do(this.filter.length===1,"Popup operations only handle one event");const e=D2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PL.get())};e()}}Gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="pendingRedirect",Jp=new Map;class OL extends XR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jp.get(this.auth._key());if(!e){try{const r=await kL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jp.set(this.auth._key(),e)}return this.bypassAuthState||Jp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kL(t,e){const n=LL(e),r=ML(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DL(t,e){Jp.set(t._key(),e)}function ML(t){return _o(t._redirectPersistence)}function LL(t){return Zp(NL,t.config.apiKey,t.name)}async function FL(t,e,n=!1){if(xo(t.app))return Promise.reject(ka(t));const r=cd(t),i=AL(r,e),c=await new OL(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=10*60*1e3;class VL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ks(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BL&&this.cachedEventUids.clear(),this.cachedEventUids.has(cC(e))}saveEventToCache(e){this.cachedEventUids.add(cC(e)),this.lastProcessedEventTime=Date.now()}}function cC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e={}){return qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$L=/^https?/;async function WL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jL(t);for(const n of e)try{if(HL(n))return}catch{}As(t,"unauthorized-domain")}function HL(t){const e=_v(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!$L.test(n))return!1;if(zL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Pf(3e4,6e4);function uC(){const t=Xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qL(t){return new Promise((e,n)=>{var r,i,o;function c(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),n(Ks(t,"network-request-failed"))},timeout:GL.get()})}if(!((i=(r=Xs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Xs().gapi)===null||o===void 0)&&o.load)c();else{const h=U7("iframefcb");return Xs()[h]=()=>{gapi.load?c():n(Ks(t,"network-request-failed"))},LR(`${V7()}?onload=${h}`).catch(p=>n(p))}}).catch(e=>{throw e0=null,e})}let e0=null;function KL(t){return e0=e0||qL(t),e0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new Pf(5e3,15e3),YL="__/auth/iframe",QL="emulator/auth/iframe",ZL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eF(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?R2(e,QL):`https://${t.config.authDomain}/${YL}`,r={apiKey:e.apiKey,appName:t.name,v:ld},i=JL.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Rf(r).slice(1)}`}async function tF(t){const e=await KL(t),n=Xs().gapi;return rt(n,t,"internal-error"),e.open({where:document.body,url:eF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=Ks(t,"network-request-failed"),h=Xs().setTimeout(()=>{o(c)},XL.get());function p(){Xs().clearTimeout(h),i(r)}r.ping(p).then(p,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rF=500,iF=600,sF="_blank",oF="http://localhost";class dC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aF(t,e,n,r=rF,i=iF){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},nF),{width:r.toString(),height:i.toString(),top:o,left:c}),g=jr().toLowerCase();n&&(h=RR(g)?sF:n),TR(g)&&(e=e||oF,p.scrollbars="yes");const x=Object.entries(p).reduce((C,[A,k])=>`${C}${A}=${k},`,"");if(P7(g)&&h!=="_self")return lF(e||"",h),new dC(null);const w=window.open(e||"",h,x);rt(w,t,"popup-blocked");try{w.focus()}catch{}return new dC(w)}function lF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="__/auth/handler",uF="emulator/auth/handler",dF=encodeURIComponent("fac");async function hC(t,e,n,r,i,o){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ld,eventId:i};if(e instanceof BR){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Z5(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))c[x]=w}if(e instanceof Nf){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(c.scopes=x.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const x of Object.keys(h))h[x]===void 0&&delete h[x];const p=await t._getAppCheckToken(),g=p?`#${dF}=${encodeURIComponent(p)}`:"";return`${hF(t)}?${Rf(h).slice(1)}${g}`}function hF({config:t}){return t.emulator?R2(t,uF):`https://${t.authDomain}/${cF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class fF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WR,this._completeRedirectFn=FL,this._overrideRedirectResult=DL}async _openPopup(e,n,r,i){var o;Do((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await hC(e,n,r,_v(),i);return aF(e,c,D2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await hC(e,n,r,_v(),i);return mL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Do(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tF(e),r=new VL(e);return n.register("authEvent",i=>(rt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},i=>{var o;const c=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Um];c!==void 0&&n(!!c),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DR()||SR()||N2()}}const pF=fF;var fC="@firebase/auth",pC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yF(t){Pu(new ql("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;rt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MR(t)},g=new L7(r,i,o,p);return H7(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pu(new ql("auth-internal",e=>{const n=cd(e.getProvider("auth").getImmediate());return(r=>new gF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(fC,pC,mF(t)),Oa(fC,pC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=5*60,xF=dR("authIdTokenMaxAge")||vF;let gC=null;const wF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xF)return;const i=n==null?void 0:n.token;gC!==i&&(gC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EF(t=gR()){const e=A2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W7(t,{popupRedirectResolver:pF,persistence:[IL,fL,WR]}),r=dR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=wF(o.toString());lL(n,c,()=>c(n.currentUser)),aL(n,h=>c(h))}}const i=cR("auth");return i&&G7(n,`http://${i}`),n}function _F(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}F7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ks("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_F().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yF("Browser");var mC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fl,QR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,M){function N(){}N.prototype=M.prototype,S.D=M.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(W,G,q){for(var z=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)z[ue-2]=arguments[ue];return M.prototype[G].apply(W,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,M,N){N||(N=0);var W=Array(16);if(typeof M=="string")for(var G=0;16>G;++G)W[G]=M.charCodeAt(N++)|M.charCodeAt(N++)<<8|M.charCodeAt(N++)<<16|M.charCodeAt(N++)<<24;else for(G=0;16>G;++G)W[G]=M[N++]|M[N++]<<8|M[N++]<<16|M[N++]<<24;M=S.g[0],N=S.g[1],G=S.g[2];var q=S.g[3],z=M+(q^N&(G^q))+W[0]+3614090360&4294967295;M=N+(z<<7&4294967295|z>>>25),z=q+(G^M&(N^G))+W[1]+3905402710&4294967295,q=M+(z<<12&4294967295|z>>>20),z=G+(N^q&(M^N))+W[2]+606105819&4294967295,G=q+(z<<17&4294967295|z>>>15),z=N+(M^G&(q^M))+W[3]+3250441966&4294967295,N=G+(z<<22&4294967295|z>>>10),z=M+(q^N&(G^q))+W[4]+4118548399&4294967295,M=N+(z<<7&4294967295|z>>>25),z=q+(G^M&(N^G))+W[5]+1200080426&4294967295,q=M+(z<<12&4294967295|z>>>20),z=G+(N^q&(M^N))+W[6]+2821735955&4294967295,G=q+(z<<17&4294967295|z>>>15),z=N+(M^G&(q^M))+W[7]+4249261313&4294967295,N=G+(z<<22&4294967295|z>>>10),z=M+(q^N&(G^q))+W[8]+1770035416&4294967295,M=N+(z<<7&4294967295|z>>>25),z=q+(G^M&(N^G))+W[9]+2336552879&4294967295,q=M+(z<<12&4294967295|z>>>20),z=G+(N^q&(M^N))+W[10]+4294925233&4294967295,G=q+(z<<17&4294967295|z>>>15),z=N+(M^G&(q^M))+W[11]+2304563134&4294967295,N=G+(z<<22&4294967295|z>>>10),z=M+(q^N&(G^q))+W[12]+1804603682&4294967295,M=N+(z<<7&4294967295|z>>>25),z=q+(G^M&(N^G))+W[13]+4254626195&4294967295,q=M+(z<<12&4294967295|z>>>20),z=G+(N^q&(M^N))+W[14]+2792965006&4294967295,G=q+(z<<17&4294967295|z>>>15),z=N+(M^G&(q^M))+W[15]+1236535329&4294967295,N=G+(z<<22&4294967295|z>>>10),z=M+(G^q&(N^G))+W[1]+4129170786&4294967295,M=N+(z<<5&4294967295|z>>>27),z=q+(N^G&(M^N))+W[6]+3225465664&4294967295,q=M+(z<<9&4294967295|z>>>23),z=G+(M^N&(q^M))+W[11]+643717713&4294967295,G=q+(z<<14&4294967295|z>>>18),z=N+(q^M&(G^q))+W[0]+3921069994&4294967295,N=G+(z<<20&4294967295|z>>>12),z=M+(G^q&(N^G))+W[5]+3593408605&4294967295,M=N+(z<<5&4294967295|z>>>27),z=q+(N^G&(M^N))+W[10]+38016083&4294967295,q=M+(z<<9&4294967295|z>>>23),z=G+(M^N&(q^M))+W[15]+3634488961&4294967295,G=q+(z<<14&4294967295|z>>>18),z=N+(q^M&(G^q))+W[4]+3889429448&4294967295,N=G+(z<<20&4294967295|z>>>12),z=M+(G^q&(N^G))+W[9]+568446438&4294967295,M=N+(z<<5&4294967295|z>>>27),z=q+(N^G&(M^N))+W[14]+3275163606&4294967295,q=M+(z<<9&4294967295|z>>>23),z=G+(M^N&(q^M))+W[3]+4107603335&4294967295,G=q+(z<<14&4294967295|z>>>18),z=N+(q^M&(G^q))+W[8]+1163531501&4294967295,N=G+(z<<20&4294967295|z>>>12),z=M+(G^q&(N^G))+W[13]+2850285829&4294967295,M=N+(z<<5&4294967295|z>>>27),z=q+(N^G&(M^N))+W[2]+4243563512&4294967295,q=M+(z<<9&4294967295|z>>>23),z=G+(M^N&(q^M))+W[7]+1735328473&4294967295,G=q+(z<<14&4294967295|z>>>18),z=N+(q^M&(G^q))+W[12]+2368359562&4294967295,N=G+(z<<20&4294967295|z>>>12),z=M+(N^G^q)+W[5]+4294588738&4294967295,M=N+(z<<4&4294967295|z>>>28),z=q+(M^N^G)+W[8]+2272392833&4294967295,q=M+(z<<11&4294967295|z>>>21),z=G+(q^M^N)+W[11]+1839030562&4294967295,G=q+(z<<16&4294967295|z>>>16),z=N+(G^q^M)+W[14]+4259657740&4294967295,N=G+(z<<23&4294967295|z>>>9),z=M+(N^G^q)+W[1]+2763975236&4294967295,M=N+(z<<4&4294967295|z>>>28),z=q+(M^N^G)+W[4]+1272893353&4294967295,q=M+(z<<11&4294967295|z>>>21),z=G+(q^M^N)+W[7]+4139469664&4294967295,G=q+(z<<16&4294967295|z>>>16),z=N+(G^q^M)+W[10]+3200236656&4294967295,N=G+(z<<23&4294967295|z>>>9),z=M+(N^G^q)+W[13]+681279174&4294967295,M=N+(z<<4&4294967295|z>>>28),z=q+(M^N^G)+W[0]+3936430074&4294967295,q=M+(z<<11&4294967295|z>>>21),z=G+(q^M^N)+W[3]+3572445317&4294967295,G=q+(z<<16&4294967295|z>>>16),z=N+(G^q^M)+W[6]+76029189&4294967295,N=G+(z<<23&4294967295|z>>>9),z=M+(N^G^q)+W[9]+3654602809&4294967295,M=N+(z<<4&4294967295|z>>>28),z=q+(M^N^G)+W[12]+3873151461&4294967295,q=M+(z<<11&4294967295|z>>>21),z=G+(q^M^N)+W[15]+530742520&4294967295,G=q+(z<<16&4294967295|z>>>16),z=N+(G^q^M)+W[2]+3299628645&4294967295,N=G+(z<<23&4294967295|z>>>9),z=M+(G^(N|~q))+W[0]+4096336452&4294967295,M=N+(z<<6&4294967295|z>>>26),z=q+(N^(M|~G))+W[7]+1126891415&4294967295,q=M+(z<<10&4294967295|z>>>22),z=G+(M^(q|~N))+W[14]+2878612391&4294967295,G=q+(z<<15&4294967295|z>>>17),z=N+(q^(G|~M))+W[5]+4237533241&4294967295,N=G+(z<<21&4294967295|z>>>11),z=M+(G^(N|~q))+W[12]+1700485571&4294967295,M=N+(z<<6&4294967295|z>>>26),z=q+(N^(M|~G))+W[3]+2399980690&4294967295,q=M+(z<<10&4294967295|z>>>22),z=G+(M^(q|~N))+W[10]+4293915773&4294967295,G=q+(z<<15&4294967295|z>>>17),z=N+(q^(G|~M))+W[1]+2240044497&4294967295,N=G+(z<<21&4294967295|z>>>11),z=M+(G^(N|~q))+W[8]+1873313359&4294967295,M=N+(z<<6&4294967295|z>>>26),z=q+(N^(M|~G))+W[15]+4264355552&4294967295,q=M+(z<<10&4294967295|z>>>22),z=G+(M^(q|~N))+W[6]+2734768916&4294967295,G=q+(z<<15&4294967295|z>>>17),z=N+(q^(G|~M))+W[13]+1309151649&4294967295,N=G+(z<<21&4294967295|z>>>11),z=M+(G^(N|~q))+W[4]+4149444226&4294967295,M=N+(z<<6&4294967295|z>>>26),z=q+(N^(M|~G))+W[11]+3174756917&4294967295,q=M+(z<<10&4294967295|z>>>22),z=G+(M^(q|~N))+W[2]+718787259&4294967295,G=q+(z<<15&4294967295|z>>>17),z=N+(q^(G|~M))+W[9]+3951481745&4294967295,S.g[0]=S.g[0]+M&4294967295,S.g[1]=S.g[1]+(G+(z<<21&4294967295|z>>>11))&4294967295,S.g[2]=S.g[2]+G&4294967295,S.g[3]=S.g[3]+q&4294967295}r.prototype.u=function(S,M){M===void 0&&(M=S.length);for(var N=M-this.blockSize,W=this.B,G=this.h,q=0;q<M;){if(G==0)for(;q<=N;)i(this,S,q),q+=this.blockSize;if(typeof S=="string"){for(;q<M;)if(W[G++]=S.charCodeAt(q++),G==this.blockSize){i(this,W),G=0;break}}else for(;q<M;)if(W[G++]=S[q++],G==this.blockSize){i(this,W),G=0;break}}this.h=G,this.o+=M},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var M=1;M<S.length-8;++M)S[M]=0;var N=8*this.o;for(M=S.length-8;M<S.length;++M)S[M]=N&255,N/=256;for(this.u(S),S=Array(16),M=N=0;4>M;++M)for(var W=0;32>W;W+=8)S[N++]=this.g[M]>>>W&255;return S};function o(S,M){var N=h;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=M(S)}function c(S,M){this.h=M;for(var N=[],W=!0,G=S.length-1;0<=G;G--){var q=S[G]|0;W&&q==M||(N[G]=q,W=!1)}this.g=N}var h={};function p(S){return-128<=S&&128>S?o(S,function(M){return new c([M|0],0>M?-1:0)}):new c([S|0],0>S?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return w;if(0>S)return U(g(-S));for(var M=[],N=1,W=0;S>=N;W++)M[W]=S/N|0,N*=4294967296;return new c(M,0)}function x(S,M){if(S.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S.charAt(0)=="-")return U(x(S.substring(1),M));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(M,8)),W=w,G=0;G<S.length;G+=8){var q=Math.min(8,S.length-G),z=parseInt(S.substring(G,G+q),M);8>q?(q=g(Math.pow(M,q)),W=W.j(q).add(g(z))):(W=W.j(N),W=W.add(g(z)))}return W}var w=p(0),C=p(1),A=p(16777216);t=c.prototype,t.m=function(){if(O(this))return-U(this).m();for(var S=0,M=1,N=0;N<this.g.length;N++){var W=this.i(N);S+=(0<=W?W:4294967296+W)*M,M*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(O(this))return"-"+U(this).toString(S);for(var M=g(Math.pow(S,6)),N=this,W="";;){var G=V(N,M).g;N=D(N,G.j(M));var q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=G,k(N))return q+W;for(;6>q.length;)q="0"+q;W=q+W}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(var M=0;M<S.g.length;M++)if(S.g[M]!=0)return!1;return!0}function O(S){return S.h==-1}t.l=function(S){return S=D(this,S),O(S)?-1:k(S)?0:1};function U(S){for(var M=S.g.length,N=[],W=0;W<M;W++)N[W]=~S.g[W];return new c(N,~S.h).add(C)}t.abs=function(){return O(this)?U(this):this},t.add=function(S){for(var M=Math.max(this.g.length,S.g.length),N=[],W=0,G=0;G<=M;G++){var q=W+(this.i(G)&65535)+(S.i(G)&65535),z=(q>>>16)+(this.i(G)>>>16)+(S.i(G)>>>16);W=z>>>16,q&=65535,z&=65535,N[G]=z<<16|q}return new c(N,N[N.length-1]&-2147483648?-1:0)};function D(S,M){return S.add(U(M))}t.j=function(S){if(k(this)||k(S))return w;if(O(this))return O(S)?U(this).j(U(S)):U(U(this).j(S));if(O(S))return U(this.j(U(S)));if(0>this.l(A)&&0>S.l(A))return g(this.m()*S.m());for(var M=this.g.length+S.g.length,N=[],W=0;W<2*M;W++)N[W]=0;for(W=0;W<this.g.length;W++)for(var G=0;G<S.g.length;G++){var q=this.i(W)>>>16,z=this.i(W)&65535,ue=S.i(G)>>>16,Z=S.i(G)&65535;N[2*W+2*G]+=z*Z,I(N,2*W+2*G),N[2*W+2*G+1]+=q*Z,I(N,2*W+2*G+1),N[2*W+2*G+1]+=z*ue,I(N,2*W+2*G+1),N[2*W+2*G+2]+=q*ue,I(N,2*W+2*G+2)}for(W=0;W<M;W++)N[W]=N[2*W+1]<<16|N[2*W];for(W=M;W<2*M;W++)N[W]=0;return new c(N,0)};function I(S,M){for(;(S[M]&65535)!=S[M];)S[M+1]+=S[M]>>>16,S[M]&=65535,M++}function R(S,M){this.g=S,this.h=M}function V(S,M){if(k(M))throw Error("division by zero");if(k(S))return new R(w,w);if(O(S))return M=V(U(S),M),new R(U(M.g),U(M.h));if(O(M))return M=V(S,U(M)),new R(U(M.g),M.h);if(30<S.g.length){if(O(S)||O(M))throw Error("slowDivide_ only works with positive integers.");for(var N=C,W=M;0>=W.l(S);)N=H(N),W=H(W);var G=X(N,1),q=X(W,1);for(W=X(W,2),N=X(N,2);!k(W);){var z=q.add(W);0>=z.l(S)&&(G=G.add(N),q=z),W=X(W,1),N=X(N,1)}return M=D(S,G.j(M)),new R(G,M)}for(G=w;0<=S.l(M);){for(N=Math.max(1,Math.floor(S.m()/M.m())),W=Math.ceil(Math.log(N)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),q=g(N),z=q.j(M);O(z)||0<z.l(S);)N-=W,q=g(N),z=q.j(M);k(q)&&(q=C),G=G.add(q),S=D(S,z)}return new R(G,S)}t.A=function(S){return V(this,S).h},t.and=function(S){for(var M=Math.max(this.g.length,S.g.length),N=[],W=0;W<M;W++)N[W]=this.i(W)&S.i(W);return new c(N,this.h&S.h)},t.or=function(S){for(var M=Math.max(this.g.length,S.g.length),N=[],W=0;W<M;W++)N[W]=this.i(W)|S.i(W);return new c(N,this.h|S.h)},t.xor=function(S){for(var M=Math.max(this.g.length,S.g.length),N=[],W=0;W<M;W++)N[W]=this.i(W)^S.i(W);return new c(N,this.h^S.h)};function H(S){for(var M=S.g.length+1,N=[],W=0;W<M;W++)N[W]=S.i(W)<<1|S.i(W-1)>>>31;return new c(N,S.h)}function X(S,M){var N=M>>5;M%=32;for(var W=S.g.length-N,G=[],q=0;q<W;q++)G[q]=0<M?S.i(q+N)>>>M|S.i(q+N+1)<<32-M:S.i(q+N);return new c(G,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QR=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=x,Fl=c}).apply(typeof mC<"u"?mC:typeof self<"u"?self:typeof window<"u"?window:{});var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZR,Jd,JR,t0,Iv,e3,t3,n3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,b,P){return y==Array.prototype||y==Object.prototype||(y[b]=P.value),y};function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cp=="object"&&Cp];for(var b=0;b<y.length;++b){var P=y[b];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(y,b){if(b)e:{var P=r;y=y.split(".");for(var K=0;K<y.length-1;K++){var re=y[K];if(!(re in P))break e;P=P[re]}y=y[y.length-1],K=P[y],b=b(K),b!=K&&b!=null&&e(P,y,{configurable:!0,writable:!0,value:b})}}function o(y,b){y instanceof String&&(y+="");var P=0,K=!1,re={next:function(){if(!K&&P<y.length){var ae=P++;return{value:b(ae,y[ae]),done:!1}}return K=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(y){return y||function(){return o(this,function(b,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(y){var b=typeof y;return b=b!="object"?b:y?Array.isArray(y)?"array":b:"null",b=="array"||b=="object"&&typeof y.length=="number"}function g(y){var b=typeof y;return b=="object"&&y!=null||b=="function"}function x(y,b,P){return y.call.apply(y.bind,arguments)}function w(y,b,P){if(!y)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,K),y.apply(b,re)}}return function(){return y.apply(b,arguments)}}function C(y,b,P){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:w,C.apply(null,arguments)}function A(y,b){var P=Array.prototype.slice.call(arguments,1);return function(){var K=P.slice();return K.push.apply(K,arguments),y.apply(this,K)}}function k(y,b){function P(){}P.prototype=b.prototype,y.aa=b.prototype,y.prototype=new P,y.prototype.constructor=y,y.Qb=function(K,re,ae){for(var Te=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)Te[Kt-2]=arguments[Kt];return b.prototype[re].apply(K,Te)}}function O(y){const b=y.length;if(0<b){const P=Array(b);for(let K=0;K<b;K++)P[K]=y[K];return P}return[]}function U(y,b){for(let P=1;P<arguments.length;P++){const K=arguments[P];if(p(K)){const re=y.length||0,ae=K.length||0;y.length=re+ae;for(let Te=0;Te<ae;Te++)y[re+Te]=K[Te]}else y.push(K)}}class D{constructor(b,P){this.i=b,this.j=P,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(y){return/^[\s\xa0]*$/.test(y)}function R(){var y=h.navigator;return y&&(y=y.userAgent)?y:""}function V(y){return V[" "](y),y}V[" "]=function(){};var H=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function X(y,b,P){for(const K in y)b.call(P,y[K],K,y)}function S(y,b){for(const P in y)b.call(void 0,y[P],P,y)}function M(y){const b={};for(const P in y)b[P]=y[P];return b}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(y,b){let P,K;for(let re=1;re<arguments.length;re++){K=arguments[re];for(P in K)y[P]=K[P];for(let ae=0;ae<N.length;ae++)P=N[ae],Object.prototype.hasOwnProperty.call(K,P)&&(y[P]=K[P])}}function G(y){var b=1;y=y.split(":");const P=[];for(;0<b&&y.length;)P.push(y.shift()),b--;return y.length&&P.push(y.join(":")),P}function q(y){h.setTimeout(()=>{throw y},0)}function z(){var y=ce;let b=null;return y.g&&(b=y.g,y.g=y.g.next,y.g||(y.h=null),b.next=null),b}class ue{constructor(){this.h=this.g=null}add(b,P){const K=Z.get();K.set(b,P),this.h?this.h.next=K:this.g=K,this.h=K}}var Z=new D(()=>new me,y=>y.reset());class me{constructor(){this.next=this.g=this.h=null}set(b,P){this.h=b,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ne=!1,ce=new ue,Ce=()=>{const y=h.Promise.resolve(void 0);de=()=>{y.then(et)}};var et=()=>{for(var y;y=z();){try{y.h.call(y.g)}catch(P){q(P)}var b=Z;b.j(y),100>b.h&&(b.h++,y.next=b.g,b.g=y)}ne=!1};function Ue(){this.s=this.s,this.C=this.C}Ue.prototype.s=!1,Ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(y,b){this.type=y,this.g=this.target=b,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var y=!1,b=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};h.addEventListener("test",P,b),h.removeEventListener("test",P,b)}catch{}return y}();function gt(y,b){if(Qe.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var P=this.type=y.type,K=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=b,b=y.relatedTarget){if(H){e:{try{V(b.nodeName);var re=!0;break e}catch{}re=!1}re||(b=null)}}else P=="mouseover"?b=y.fromElement:P=="mouseout"&&(b=y.toElement);this.relatedTarget=b,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Ae[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&gt.aa.h.call(this)}}k(gt,Qe);var Ae={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),_t=0;function qt(y,b,P,K,re){this.listener=y,this.proxy=null,this.src=b,this.type=P,this.capture=!!K,this.ha=re,this.key=++_t,this.da=this.fa=!1}function un(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Je(y){this.src=y,this.g={},this.h=0}Je.prototype.add=function(y,b,P,K,re){var ae=y.toString();y=this.g[ae],y||(y=this.g[ae]=[],this.h++);var Te=De(y,b,K,re);return-1<Te?(b=y[Te],P||(b.fa=!1)):(b=new qt(b,this.src,ae,!!K,re),b.fa=P,y.push(b)),b};function Ft(y,b){var P=b.type;if(P in y.g){var K=y.g[P],re=Array.prototype.indexOf.call(K,b,void 0),ae;(ae=0<=re)&&Array.prototype.splice.call(K,re,1),ae&&(un(b),y.g[P].length==0&&(delete y.g[P],y.h--))}}function De(y,b,P,K){for(var re=0;re<y.length;++re){var ae=y[re];if(!ae.da&&ae.listener==b&&ae.capture==!!P&&ae.ha==K)return re}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),pt={};function gr(y,b,P,K,re){if(Array.isArray(b)){for(var ae=0;ae<b.length;ae++)gr(y,b[ae],P,K,re);return null}return P=mr(P),y&&y[Jt]?y.K(b,P,g(K)?!!K.capture:!1,re):Bt(y,b,P,!1,K,re)}function Bt(y,b,P,K,re,ae){if(!b)throw Error("Invalid event type");var Te=g(re)?!!re.capture:!!re,Kt=Bn(y);if(Kt||(y[ft]=Kt=new Je(y)),P=Kt.add(b,P,K,Te,ae),P.proxy)return P;if(K=ct(),P.proxy=K,K.src=y,K.listener=P,y.addEventListener)ze||(re=Te),re===void 0&&(re=!1),y.addEventListener(b.toString(),K,re);else if(y.attachEvent)y.attachEvent(be(b.toString()),K);else if(y.addListener&&y.removeListener)y.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ct(){function y(P){return b.call(y.src,y.listener,P)}const b=Sr;return y}function nt(y,b,P,K,re){if(Array.isArray(b))for(var ae=0;ae<b.length;ae++)nt(y,b[ae],P,K,re);else K=g(K)?!!K.capture:!!K,P=mr(P),y&&y[Jt]?(y=y.i,b=String(b).toString(),b in y.g&&(ae=y.g[b],P=De(ae,P,K,re),-1<P&&(un(ae[P]),Array.prototype.splice.call(ae,P,1),ae.length==0&&(delete y.g[b],y.h--)))):y&&(y=Bn(y))&&(b=y.g[b.toString()],y=-1,b&&(y=De(b,P,K,re)),(P=-1<y?b[y]:null)&&Fn(P))}function Fn(y){if(typeof y!="number"&&y&&!y.da){var b=y.src;if(b&&b[Jt])Ft(b.i,y);else{var P=y.type,K=y.proxy;b.removeEventListener?b.removeEventListener(P,K,y.capture):b.detachEvent?b.detachEvent(be(P),K):b.addListener&&b.removeListener&&b.removeListener(K),(P=Bn(b))?(Ft(P,y),P.h==0&&(P.src=null,b[ft]=null)):un(y)}}}function be(y){return y in pt?pt[y]:pt[y]="on"+y}function Sr(y,b){if(y.da)y=!0;else{b=new gt(b,this);var P=y.listener,K=y.ha||y.src;y.fa&&Fn(y),y=P.call(K,b)}return y}function Bn(y){return y=y[ft],y instanceof Je?y:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mr(y){return typeof y=="function"?y:(y[mt]||(y[mt]=function(b){return y.handleEvent(b)}),y[mt])}function vt(){Ue.call(this),this.i=new Je(this),this.M=this,this.F=null}k(vt,Ue),vt.prototype[Jt]=!0,vt.prototype.removeEventListener=function(y,b,P,K){nt(this,y,b,P,K)};function en(y,b){var P,K=y.F;if(K)for(P=[];K;K=K.F)P.push(K);if(y=y.M,K=b.type||b,typeof b=="string")b=new Qe(b,y);else if(b instanceof Qe)b.target=b.target||y;else{var re=b;b=new Qe(K,y),W(b,re)}if(re=!0,P)for(var ae=P.length-1;0<=ae;ae--){var Te=b.g=P[ae];re=dt(Te,K,!0,b)&&re}if(Te=b.g=y,re=dt(Te,K,!0,b)&&re,re=dt(Te,K,!1,b)&&re,P)for(ae=0;ae<P.length;ae++)Te=b.g=P[ae],re=dt(Te,K,!1,b)&&re}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var y=this.i,b;for(b in y.g){for(var P=y.g[b],K=0;K<P.length;K++)un(P[K]);delete y.g[b],y.h--}}this.F=null},vt.prototype.K=function(y,b,P,K){return this.i.add(String(y),b,!1,P,K)},vt.prototype.L=function(y,b,P,K){return this.i.add(String(y),b,!0,P,K)};function dt(y,b,P,K){if(b=y.i.g[String(b)],!b)return!0;b=b.concat();for(var re=!0,ae=0;ae<b.length;++ae){var Te=b[ae];if(Te&&!Te.da&&Te.capture==P){var Kt=Te.listener,bn=Te.ha||Te.src;Te.fa&&Ft(y.i,Te),re=Kt.call(bn,K)!==!1&&re}}return re&&!K.defaultPrevented}function Le(y,b,P){if(typeof y=="function")P&&(y=C(y,P));else if(y&&typeof y.handleEvent=="function")y=C(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(y,b||0)}function zr(y){y.g=Le(()=>{y.g=null,y.i&&(y.i=!1,zr(y))},y.l);const b=y.h;y.h=null,y.m.apply(null,b)}class zi extends Ue{constructor(b,P){super(),this.m=b,this.l=P,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(y){Ue.call(this),this.h=y,this.g={}}k(_i,Ue);var Ne=[];function pe(y){X(y.g,function(b,P){this.g.hasOwnProperty(P)&&Fn(b)},y),y.g={}}_i.prototype.N=function(){_i.aa.N.call(this),pe(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ut=h.JSON.stringify,Ct=h.JSON.parse,rn=class{stringify(y){return h.JSON.stringify(y,void 0)}parse(y){return h.JSON.parse(y,void 0)}};function to(){}to.prototype.h=null;function dc(y){return y.h||(y.h=y.i())}function yd(){}var xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){Qe.call(this,"d")}k(ls,Qe);function hc(){Qe.call(this,"c")}k(hc,Qe);var Rs={},ii=null;function Uo(){return ii=ii||new vt}Rs.La="serverreachability";function Jn(y){Qe.call(this,Rs.La,y)}k(Jn,Qe);function $i(y){const b=Uo();en(b,new Jn(b))}Rs.STAT_EVENT="statevent";function Ka(y,b){Qe.call(this,Rs.STAT_EVENT,y),this.stat=b}k(Ka,Qe);function ln(y){const b=Uo();en(b,new Ka(b,y))}Rs.Ma="timingevent";function jf(y,b){Qe.call(this,Rs.Ma,y),this.size=b}k(jf,Qe);function Ci(y,b){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){y()},b)}function no(){this.g=!0}no.prototype.xa=function(){this.g=!1};function Rr(y,b,P,K,re,ae){y.info(function(){if(y.g)if(ae)for(var Te="",Kt=ae.split("&"),bn=0;bn<Kt.length;bn++){var Nt=Kt[bn].split("=");if(1<Nt.length){var pn=Nt[0];Nt=Nt[1];var jn=pn.split("_");Te=2<=jn.length&&jn[1]=="type"?Te+(pn+"="+Nt+"&"):Te+(pn+"=redacted&")}}else Te=null;else Te=ae;return"XMLHTTP REQ ("+K+") [attempt "+re+"]: "+b+`
`+P+`
`+Te})}function ro(y,b,P,K,re,ae,Te){y.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+re+"]: "+b+`
`+P+`
`+ae+" "+Te})}function er(y,b,P,K){y.info(function(){return"XMLHTTP TEXT ("+b+"): "+jo(y,P)+(K?" "+K:"")})}function Me(y,b){y.info(function(){return"TIMEOUT: "+b})}no.prototype.info=function(){};function jo(y,b){if(!y.g)return b;if(!b)return null;try{var P=JSON.parse(b);if(P){for(y=0;y<P.length;y++)if(Array.isArray(P[y])){var K=P[y];if(!(2>K.length)){var re=K[1];if(Array.isArray(re)&&!(1>re.length)){var ae=re[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Te=1;Te<re.length;Te++)re[Te]=""}}}}return ut(P)}catch{return b}}var zo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ps;function io(){}k(io,to),io.prototype.g=function(){return new XMLHttpRequest},io.prototype.i=function(){return{}},Ps=new io;function bi(y,b,P,K){this.j=y,this.i=b,this.l=P,this.R=K||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}var zf={},vd={};function si(y,b,P){y.L=1,y.v=Cn(bt(b)),y.m=P,y.P=!0,ar(y,null)}function ar(y,b){y.F=Date.now(),Ai(y),y.A=bt(y.v);var P=y.A,K=y.R;Array.isArray(K)||(K=[String(K)]),Un(P.i,"t",K),y.C=0,P=y.j.J,y.h=new Ii,y.g=Yf(y.j,P?b:null,!y.m),0<y.O&&(y.M=new zi(C(y.Y,y,y.g),y.O)),b=y.U,P=y.g,K=y.ca;var re="readystatechange";Array.isArray(re)||(re&&(Ne[0]=re.toString()),re=Ne);for(var ae=0;ae<re.length;ae++){var Te=gr(P,re[ae],K||b.handleEvent,!1,b.h||b);if(!Te)break;b.g[Te.key]=Te}b=y.H?M(y.H):{},y.m?(y.u||(y.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,b)):(y.u="GET",y.g.ea(y.A,y.u,null,b)),$i(),Rr(y.i,y.u,y.A,y.l,y.R,y.m)}bi.prototype.ca=function(y){y=y.target;const b=this.M;b&&ds(y)==3?b.j():this.Y(y)},bi.prototype.Y=function(y){try{if(y==this.g)e:{const jn=ds(this.g);var b=this.g.Ba();const rr=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||qf(this.g)))){this.J||jn!=4||b==7||(b==8||0>=rr?$i(3):$i(2)),he(this);var P=this.g.Z();this.X=P;t:if(sn(this)){var K=qf(this.g);y="";var re=K.length,ae=ds(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$t(this),Xa(this);var Te="";break t}this.h.i=new h.TextDecoder}for(b=0;b<re;b++)this.h.h=!0,y+=this.h.i.decode(K[b],{stream:!(ae&&b==re-1)});K.length=0,this.h.g+=y,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=P==200,ro(this.i,this.u,this.A,this.l,this.R,jn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Kt,bn=this.g;if((Kt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Kt)){var Nt=Kt;break t}}Nt=null}if(P=Nt)er(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,P);else{this.o=!1,this.s=3,ln(12),$t(this),Xa(this);break e}}if(this.P){P=!0;let ai;for(;!this.J&&this.C<Te.length;)if(ai=$f(this,Te),ai==vd){jn==4&&(this.s=4,ln(14),P=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(ai==zf){this.s=4,ln(15),er(this.i,this.l,Te,"[Invalid Chunk]"),P=!1;break}else er(this.i,this.l,ai,null),Ns(this,ai);if(sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||Te.length!=0||this.h.h||(this.s=1,ln(16),P=!1),this.o=this.o&&P,!P)er(this.i,this.l,Te,"[Invalid Chunked Response]"),$t(this),Xa(this);else if(0<Te.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),ol(pn),pn.M=!0,ln(11))}}else er(this.i,this.l,Te,null),Ns(this,Te);jn==4&&$t(this),this.o&&!this.J&&(jn==4?fn(this.j,this):(this.o=!1,Ai(this)))}else Wt(this.g),P==400&&0<Te.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),$t(this),Xa(this)}}}catch{}finally{}};function sn(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function $f(y,b){var P=y.C,K=b.indexOf(`
`,P);return K==-1?vd:(P=Number(b.substring(P,K)),isNaN(P)?zf:(K+=1,K+P>b.length?vd:(b=b.slice(K,K+P),y.C=K+P,b)))}bi.prototype.cancel=function(){this.J=!0,$t(this)};function Ai(y){y.S=Date.now()+y.I,fc(y,y.I)}function fc(y,b){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Ci(C(y.ba,y),b)}function he(y){y.B&&(h.clearTimeout(y.B),y.B=null)}bi.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(Me(this.i,this.A),this.L!=2&&($i(),ln(17)),$t(this),this.s=2,Xa(this)):fc(this,this.S-y)};function Xa(y){y.j.G==0||y.J||fn(y.j,y)}function $t(y){he(y);var b=y.M;b&&typeof b.ma=="function"&&b.ma(),y.M=null,pe(y.U),y.g&&(b=y.g,y.g=null,b.abort(),b.ma())}function Ns(y,b){try{var P=y.j;if(P.G!=0&&(P.g==y||Ya(P.h,y))){if(!y.K&&Ya(P.h,y)&&P.G==3){try{var K=P.Da.g.parse(b)}catch{K=null}if(Array.isArray(K)&&K.length==3){var re=K;if(re[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<y.F)qo(P),mc(P);else break e;_d(P),ln(18)}}else P.za=re[1],0<P.za-P.T&&37500>re[2]&&P.F&&P.v==0&&!P.C&&(P.C=Ci(C(P.Za,P),6e3));if(1>=yt(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Wr(P,11)}else if((y.K||P.g==y)&&qo(P),!I(b))for(re=P.Da.g.parse(b),b=0;b<re.length;b++){let Nt=re[b];if(P.T=Nt[0],Nt=Nt[1],P.G==2)if(Nt[0]=="c"){P.K=Nt[1],P.ia=Nt[2];const pn=Nt[3];pn!=null&&(P.la=pn,P.j.info("VER="+P.la));const jn=Nt[4];jn!=null&&(P.Aa=jn,P.j.info("SVER="+P.Aa));const rr=Nt[5];rr!=null&&typeof rr=="number"&&0<rr&&(K=1.5*rr,P.L=K,P.j.info("backChannelRequestTimeoutMs_="+K)),K=P;const ai=y.g;if(ai){const Hr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var ae=K.h;ae.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Qa(ae,ae.h),ae.h=null))}if(K.D){const Cd=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Cd&&(K.ya=Cd,Re(K.I,K.D,Cd))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-y.F,P.j.info("Handshake RTT: "+P.R+"ms")),K=P;var Te=y;if(K.qa=Ge(K,K.J?K.ia:null,K.W),Te.K){pc(K.h,Te);var Kt=Te,bn=K.L;bn&&(Kt.I=bn),Kt.B&&(he(Kt),Ai(Kt)),K.g=Te}else Xf(K);0<P.i.length&&st(P)}else Nt[0]!="stop"&&Nt[0]!="close"||Wr(P,7);else P.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Wr(P,7):Hi(P):Nt[0]!="noop"&&P.l&&P.l.ta(Nt),P.v=0)}}$i(4)}catch{}}var Wg=class{constructor(y,b){this.g=y,this.map=b}};function kt(y){this.l=y||10,h.PerformanceNavigationTiming?(y=h.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pt(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function yt(y){return y.h?1:y.g?y.g.size:0}function Ya(y,b){return y.h?y.h==b:y.g?y.g.has(b):!1}function Qa(y,b){y.g?y.g.add(b):y.h=b}function pc(y,b){y.h&&y.h==b?y.h=null:y.g&&y.g.has(b)&&y.g.delete(b)}kt.prototype.cancel=function(){if(this.i=Rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Rn(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let b=y.i;for(const P of y.g.values())b=b.concat(P.D);return b}return O(y.i)}function Os(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(p(y)){for(var b=[],P=y.length,K=0;K<P;K++)b.push(y[K]);return b}b=[],P=0;for(K in y)b[P++]=y[K];return b}function Hg(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(p(y)||typeof y=="string"){var b=[];y=y.length;for(var P=0;P<y;P++)b.push(P);return b}b=[],P=0;for(const K in y)b[P++]=K;return b}}}function wn(y,b){if(y.forEach&&typeof y.forEach=="function")y.forEach(b,void 0);else if(p(y)||typeof y=="string")Array.prototype.forEach.call(y,b,void 0);else for(var P=Hg(y),K=Os(y),re=K.length,ae=0;ae<re;ae++)b.call(void 0,K[ae],P&&P[ae],y)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gg(y,b){if(y){y=y.split("&");for(var P=0;P<y.length;P++){var K=y[P].indexOf("="),re=null;if(0<=K){var ae=y[P].substring(0,K);re=y[P].substring(K+1)}else ae=y[P];b(ae,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function oi(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof oi){this.h=y.h,Vn(this,y.j),this.o=y.o,this.g=y.g,ie(this,y.s),this.l=y.l;var b=y.i,P=new so;P.i=b.i,b.g&&(P.g=new Map(b.g),P.h=b.h),Y(this,P),this.m=y.m}else y&&(b=String(y).match(cs))?(this.h=!1,Vn(this,b[1]||"",!0),this.o=lr(b[2]||""),this.g=lr(b[3]||"",!0),ie(this,b[4]),this.l=lr(b[5]||"",!0),Y(this,b[6]||"",!0),this.m=lr(b[7]||"")):(this.h=!1,this.i=new so(null,this.h))}oi.prototype.toString=function(){var y=[],b=this.j;b&&y.push(Za(b,$r,!0),":");var P=this.g;return(P||b=="file")&&(y.push("//"),(b=this.o)&&y.push(Za(b,$r,!0),"@"),y.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&y.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(Za(P,P.charAt(0)=="/"?dn:We,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",Za(P,qg)),y.join("")};function bt(y){return new oi(y)}function Vn(y,b,P){y.j=P?lr(b,!0):b,y.j&&(y.j=y.j.replace(/:$/,""))}function ie(y,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);y.s=b}else y.s=null}function Y(y,b,P){b instanceof so?(y.i=b,ks(y.i,y.h)):(P||(b=Za(b,Wf)),y.i=new so(b,y.h))}function Re(y,b,P){y.i.set(b,P)}function Cn(y){return Re(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function lr(y,b){return y?b?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Za(y,b,P){return typeof y=="string"?(y=encodeURI(y).replace(b,xd),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function xd(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var $r=/[#\/\?@]/g,We=/[#\?:]/g,dn=/[#\?]/g,Wf=/[#\?@]/g,qg=/#/g;function so(y,b){this.h=this.g=null,this.i=y||null,this.j=!!b}function Ti(y){y.g||(y.g=new Map,y.h=0,y.i&&Gg(y.i,function(b,P){y.add(decodeURIComponent(b.replace(/\+/g," ")),P)}))}t=so.prototype,t.add=function(y,b){Ti(this),this.i=null,y=Wi(this,y);var P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(b),this.h+=1,this};function gc(y,b){Ti(y),b=Wi(y,b),y.g.has(b)&&(y.i=null,y.h-=y.g.get(b).length,y.g.delete(b))}function Hf(y,b){return Ti(y),b=Wi(y,b),y.g.has(b)}t.forEach=function(y,b){Ti(this),this.g.forEach(function(P,K){P.forEach(function(re){y.call(b,re,K,this)},this)},this)},t.na=function(){Ti(this);const y=Array.from(this.g.values()),b=Array.from(this.g.keys()),P=[];for(let K=0;K<b.length;K++){const re=y[K];for(let ae=0;ae<re.length;ae++)P.push(b[K])}return P},t.V=function(y){Ti(this);let b=[];if(typeof y=="string")Hf(this,y)&&(b=b.concat(this.g.get(Wi(this,y))));else{y=Array.from(this.g.values());for(let P=0;P<y.length;P++)b=b.concat(y[P])}return b},t.set=function(y,b){return Ti(this),this.i=null,y=Wi(this,y),Hf(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[b]),this.h+=1,this},t.get=function(y,b){return y?(y=this.V(y),0<y.length?String(y[0]):b):b};function Un(y,b,P){gc(y,b),0<P.length&&(y.i=null,y.g.set(Wi(y,b),O(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],b=Array.from(this.g.keys());for(var P=0;P<b.length;P++){var K=b[P];const ae=encodeURIComponent(String(K)),Te=this.V(K);for(K=0;K<Te.length;K++){var re=ae;Te[K]!==""&&(re+="="+encodeURIComponent(String(Te[K]))),y.push(re)}}return this.i=y.join("&")};function Wi(y,b){return b=String(b),y.j&&(b=b.toLowerCase()),b}function ks(y,b){b&&!y.j&&(Ti(y),y.i=null,y.g.forEach(function(P,K){var re=K.toLowerCase();K!=re&&(gc(this,K),Un(this,re,P))},y)),y.j=b}function Ze(y,b){const P=new no;if(h.Image){const K=new Image;K.onload=A(tt,P,"TestLoadImage: loaded",!0,b,K),K.onerror=A(tt,P,"TestLoadImage: error",!1,b,K),K.onabort=A(tt,P,"TestLoadImage: abort",!1,b,K),K.ontimeout=A(tt,P,"TestLoadImage: timeout",!1,b,K),h.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=y}else b(!1)}function Kg(y,b){const P=new no,K=new AbortController,re=setTimeout(()=>{K.abort(),tt(P,"TestPingServer: timeout",!1,b)},1e4);fetch(y,{signal:K.signal}).then(ae=>{clearTimeout(re),ae.ok?tt(P,"TestPingServer: ok",!0,b):tt(P,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(re),tt(P,"TestPingServer: error",!1,b)})}function tt(y,b,P,K,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),K(P)}catch{}}function tr(){this.g=new rn}function Xg(y,b,P){const K=P||"";try{wn(y,function(re,ae){let Te=re;g(re)&&(Te=ut(re)),b.push(K+ae+"="+encodeURIComponent(Te))})}catch(re){throw b.push(K+"type="+encodeURIComponent("_badmap")),re}}function $o(y){this.l=y.Ub||null,this.j=y.eb||!1}k($o,to),$o.prototype.g=function(){return new Ja(this.l,this.j)},$o.prototype.i=function(y){return function(){return y}}({});function Ja(y,b){vt.call(this),this.D=y,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ja,vt),t=Ja.prototype,t.open=function(y,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=b,this.readyState=1,us(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(b.body=y),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,el(this)),this.readyState=0},t.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ds(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ds(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}t.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var b=y.value?y.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!y.done}))&&(this.response=this.responseText+=b)}y.done?el(this):us(this),this.readyState==3&&Ds(this)}},t.Ra=function(y){this.g&&(this.response=this.responseText=y,el(this))},t.Qa=function(y){this.g&&(this.response=y,el(this))},t.ga=function(){this.g&&el(this)};function el(y){y.readyState=4,y.l=null,y.j=null,y.v=null,us(y)}t.setRequestHeader=function(y,b){this.u.append(y,b)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],b=this.h.entries();for(var P=b.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=b.next();return y.join(`\r
`)};function us(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Wo(y){let b="";return X(y,function(P,K){b+=K,b+=":",b+=P,b+=`\r
`}),b}function oo(y,b,P){e:{for(K in P){var K=!1;break e}K=!0}K||(P=Wo(P),typeof y=="string"?P!=null&&encodeURIComponent(String(P)):Re(y,b,P))}function hn(y){vt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(hn,vt);var tl=/^https?$/i,nl=["POST","PUT"];t=hn.prototype,t.Ha=function(y){this.J=y},t.ea=function(y,b,P,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);b=b?b.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ps.g(),this.v=this.o?dc(this.o):dc(Ps),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(b,String(y),!0),this.B=!1}catch(ae){vr(this,ae);return}if(y=P||"",P=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var re in K)P.set(re,K[re]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const ae of K.keys())P.set(ae,K.get(ae));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(P.keys()).find(ae=>ae.toLowerCase()=="content-type"),re=h.FormData&&y instanceof h.FormData,!(0<=Array.prototype.indexOf.call(nl,b,void 0))||K||re||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Te]of P)this.g.setRequestHeader(ae,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gf(this),this.u=!0,this.g.send(y),this.u=!1}catch(ae){vr(this,ae)}};function vr(y,b){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=b,y.m=5,wd(y),rl(y)}function wd(y){y.A||(y.A=!0,en(y,"complete"),en(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,en(this,"complete"),en(this,"abort"),rl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rl(this,!0)),hn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ed(this):this.bb())},t.bb=function(){Ed(this)};function Ed(y){if(y.h&&typeof c<"u"&&(!y.v[1]||ds(y)!=4||y.Z()!=2)){if(y.u&&ds(y)==4)Le(y.Ea,0,y);else if(en(y,"readystatechange"),ds(y)==4){y.h=!1;try{const Te=y.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var P;if(!(P=b)){var K;if(K=Te===0){var re=String(y.D).match(cs)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),K=!tl.test(re?re.toLowerCase():"")}P=K}if(P)en(y,"complete"),en(y,"success");else{y.m=6;try{var ae=2<ds(y)?y.g.statusText:""}catch{ae=""}y.l=ae+" ["+y.Z()+"]",wd(y)}}finally{rl(y)}}}}function rl(y,b){if(y.g){Gf(y);const P=y.g,K=y.v[0]?()=>{}:null;y.g=null,y.v=null,b||en(y,"ready");try{P.onreadystatechange=K}catch{}}}function Gf(y){y.I&&(h.clearTimeout(y.I),y.I=null)}t.isActive=function(){return!!this.g};function ds(y){return y.g?y.g.readyState:0}t.Z=function(){try{return 2<ds(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(y){if(this.g){var b=this.g.responseText;return y&&b.indexOf(y)==0&&(b=b.substring(y.length)),Ct(b)}};function qf(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Wt(y){const b={};y=(y.g&&2<=ds(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<y.length;K++){if(I(y[K]))continue;var P=G(y[K]);const re=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ae=b[re]||[];b[re]=ae,ae.push(P)}S(b,function(K){return K.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(y,b,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||b}function il(y){this.Aa=0,this.i=[],this.j=new no,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,y),this.cb=Ho("retryDelaySeedMs",1e4,y),this.Wa=Ho("forwardChannelMaxRetries",2,y),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new kt(y&&y.concurrentRequestLimit),this.Da=new tr,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=il.prototype,t.la=8,t.G=1,t.connect=function(y,b,P,K){ln(0),this.W=y,this.H=b||{},P&&K!==void 0&&(this.H.OSID=P,this.H.OAID=K),this.F=this.X,this.I=Ge(this,null,this.W),st(this)};function Hi(y){if(oe(y),y.G==3){var b=y.U++,P=bt(y.I);if(Re(P,"SID",y.K),Re(P,"RID",b),Re(P,"TYPE","terminate"),Go(y,P),b=new bi(y,y.j,b),b.L=2,b.v=Cn(bt(P)),P=!1,h.navigator&&h.navigator.sendBeacon)try{P=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!P&&h.Image&&(new Image().src=b.v,P=!0),P||(b.g=Yf(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ai(b)}Ht(y)}function mc(y){y.g&&(ol(y),y.g.cancel(),y.g=null)}function oe(y){mc(y),y.u&&(h.clearTimeout(y.u),y.u=null),qo(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&h.clearTimeout(y.s),y.s=null)}function st(y){if(!Pt(y.h)&&!y.s){y.s=!0;var b=y.Ga;de||Ce(),ne||(de(),ne=!0),ce.add(b,y),y.B=0}}function nr(y,b){return yt(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=b.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Ci(C(y.Ga,y,b),al(y,y.B)),y.B++,!0)}t.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const re=new bi(this,this.j,y);let ae=this.o;if(this.S&&(ae?(ae=M(ae),W(ae,this.S)):ae=this.S),this.m!==null||this.O||(re.H=ae,ae=null),this.P)e:{for(var b=0,P=0;P<this.i.length;P++){t:{var K=this.i[P];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(b+=K,4096<b){b=P;break e}if(b===4096||P===this.i.length-1){b=P+1;break e}}b=1e3}else b=1e3;b=Kf(this,re,b),P=bt(this.I),Re(P,"RID",y),Re(P,"CVER",22),this.D&&Re(P,"X-HTTP-Session-Id",this.D),Go(this,P),ae&&(this.O?b="headers="+encodeURIComponent(String(Wo(ae)))+"&"+b:this.m&&oo(P,this.m,ae)),Qa(this.h,re),this.Ua&&Re(P,"TYPE","init"),this.P?(Re(P,"$req",b),Re(P,"SID","null"),re.T=!0,si(re,P,null)):si(re,P,b),this.G=2}}else this.G==3&&(y?sl(this,y):this.i.length==0||Pt(this.h)||sl(this))};function sl(y,b){var P;b?P=b.l:P=y.U++;const K=bt(y.I);Re(K,"SID",y.K),Re(K,"RID",P),Re(K,"AID",y.T),Go(y,K),y.m&&y.o&&oo(K,y.m,y.o),P=new bi(y,y.j,P,y.B+1),y.m===null&&(P.H=y.o),b&&(y.i=b.D.concat(y.i)),b=Kf(y,P,1e3),P.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Qa(y.h,P),si(P,K,b)}function Go(y,b){y.H&&X(y.H,function(P,K){Re(b,K,P)}),y.l&&wn({},function(P,K){Re(b,K,P)})}function Kf(y,b,P){P=Math.min(y.i.length,P);var K=y.l?C(y.l.Na,y.l,y):null;e:{var re=y.i;let ae=-1;for(;;){const Te=["count="+P];ae==-1?0<P?(ae=re[0].g,Te.push("ofs="+ae)):ae=0:Te.push("ofs="+ae);let Kt=!0;for(let bn=0;bn<P;bn++){let Nt=re[bn].g;const pn=re[bn].map;if(Nt-=ae,0>Nt)ae=Math.max(0,re[bn].g-100),Kt=!1;else try{Xg(pn,Te,"req"+Nt+"_")}catch{K&&K(pn)}}if(Kt){K=Te.join("&");break e}}}return y=y.i.splice(0,P),b.D=y,K}function Xf(y){if(!y.g&&!y.u){y.Y=1;var b=y.Fa;de||Ce(),ne||(de(),ne=!0),ce.add(b,y),y.v=0}}function _d(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Ci(C(y.Fa,y),al(y,y.v)),y.v++,!0)}t.Fa=function(){if(this.u=null,Pn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Ci(C(this.ab,this),y)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),mc(this),Pn(this))};function ol(y){y.A!=null&&(h.clearTimeout(y.A),y.A=null)}function Pn(y){y.g=new bi(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var b=bt(y.qa);Re(b,"RID","rpc"),Re(b,"SID",y.K),Re(b,"AID",y.T),Re(b,"CI",y.F?"0":"1"),!y.F&&y.ja&&Re(b,"TO",y.ja),Re(b,"TYPE","xmlhttp"),Go(y,b),y.m&&y.o&&oo(b,y.m,y.o),y.L&&(y.g.I=y.L);var P=y.g;y=y.ia,P.L=1,P.v=Cn(bt(b)),P.m=null,P.P=!0,ar(P,y)}t.Za=function(){this.C!=null&&(this.C=null,mc(this),_d(this),ln(19))};function qo(y){y.C!=null&&(h.clearTimeout(y.C),y.C=null)}function fn(y,b){var P=null;if(y.g==b){qo(y),ol(y),y.g=null;var K=2}else if(Ya(y.h,b))P=b.D,pc(y.h,b),K=1;else return;if(y.G!=0){if(b.o)if(K==1){P=b.m?b.m.length:0,b=Date.now()-b.F;var re=y.B;K=Uo(),en(K,new jf(K,P)),st(y)}else Xf(y);else if(re=b.s,re==3||re==0&&0<b.X||!(K==1&&nr(y,b)||K==2&&_d(y)))switch(P&&0<P.length&&(b=y.h,b.i=b.i.concat(P)),re){case 1:Wr(y,5);break;case 4:Wr(y,10);break;case 3:Wr(y,6);break;default:Wr(y,2)}}}function al(y,b){let P=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(P*=2),P*b}function Wr(y,b){if(y.j.info("Error code "+b),b==2){var P=C(y.fb,y),K=y.Xa;const re=!K;K=new oi(K||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Vn(K,"https"),Cn(K),re?Ze(K.toString(),P):Kg(K.toString(),P)}else ln(2);y.G=0,y.l&&y.l.sa(b),Ht(y),oe(y)}t.fb=function(y){y?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function Ht(y){if(y.G=0,y.ka=[],y.l){const b=Rn(y.h);(b.length!=0||y.i.length!=0)&&(U(y.ka,b),U(y.ka,y.i),y.h.i.length=0,O(y.i),y.i.length=0),y.l.ra()}}function Ge(y,b,P){var K=P instanceof oi?bt(P):new oi(P);if(K.g!="")b&&(K.g=b+"."+K.g),ie(K,K.s);else{var re=h.location;K=re.protocol,b=b?b+"."+re.hostname:re.hostname,re=+re.port;var ae=new oi(null);K&&Vn(ae,K),b&&(ae.g=b),re&&ie(ae,re),P&&(ae.l=P),K=ae}return P=y.D,b=y.ya,P&&b&&Re(K,P,b),Re(K,"VER",y.la),Go(y,K),K}function Yf(y,b,P){if(b&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=y.Ca&&!y.pa?new hn(new $o({eb:P})):new hn(y.pa),b.Ha(y.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tn(){}t=tn.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gi(){}Gi.prototype.g=function(y,b){return new Gn(y,b)};function Gn(y,b){vt.call(this),this.g=new il(b),this.l=y,this.h=b&&b.messageUrlParams||null,y=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(y?y["X-WebChannel-Content-Type"]=b.messageContentType:y={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(y?y["X-WebChannel-Client-Profile"]=b.va:y={"X-WebChannel-Client-Profile":b.va}),this.g.S=y,(y=b&&b.Sb)&&!I(y)&&(this.g.m=y),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.D=b,y=this.h,y!==null&&b in y&&(y=this.h,b in y&&delete y[b])),this.j=new Ms(this)}k(Gn,vt),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Hi(this.g)},Gn.prototype.o=function(y){var b=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.u&&(P={},P.__data__=ut(y),y=P);b.i.push(new Wg(b.Ya++,y)),b.G==3&&st(b)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Hi(this.g),delete this.g,Gn.aa.N.call(this)};function Qf(y){ls.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var b=y.__sm__;if(b){e:{for(const P in b){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,b=b!==null&&y in b?b[y]:void 0),this.data=b}else this.data=y}k(Qf,ls);function Si(){hc.call(this),this.status=1}k(Si,hc);function Ms(y){this.g=y}k(Ms,tn),Ms.prototype.ua=function(){en(this.g,"a")},Ms.prototype.ta=function(y){en(this.g,new Qf(y))},Ms.prototype.sa=function(y){en(this.g,new Si)},Ms.prototype.ra=function(){en(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,n3=function(){return new Gi},t3=function(){return Uo()},e3=Rs,Iv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zo.NO_ERROR=0,zo.TIMEOUT=8,zo.HTTP_ERROR=6,t0=zo,yr.COMPLETE="complete",JR=yr,yd.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Jd=yd,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,ZR=hn}).apply(typeof Cp<"u"?Cp:typeof self<"u"?self:typeof window<"u"?window:{});const yC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new b2("@firebase/firestore");function Ld(){return Xl.logLevel}function je(t,...e){if(Xl.logLevel<=Rt.DEBUG){const n=e.map(L2);Xl.debug(`Firestore (${dd}): ${t}`,...n)}}function Mo(t,...e){if(Xl.logLevel<=Rt.ERROR){const n=e.map(L2);Xl.error(`Firestore (${dd}): ${t}`,...n)}}function Ou(t,...e){if(Xl.logLevel<=Rt.WARN){const n=e.map(L2);Xl.warn(`Firestore (${dd}): ${t}`,...n)}}function L2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t="Unexpected state"){const e=`FIRESTORE (${dd}) INTERNAL ASSERTION FAILED: `+t;throw Mo(e),new Error(e)}function Qt(t,e){t||it()}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Bo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dr.UNAUTHENTICATED))}shutdown(){}}class bF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IF{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qt(this.o===void 0);let r=this.i;const i=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let o=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bo,e.enqueueRetryable(()=>i(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},h=p=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bo)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string"),new r3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string"),new Dr(e)}}class AF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qt(this.o===void 0);const r=o=>{o.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qt(typeof n.token=="string"),this.R=n.token,new SF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ut(t,e){return t<e?-1:t>e?1:0}function ku(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Be(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Be(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new nn(0,0))}static max(){return new ot(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r){n===void 0?n=0:n>e.length&&it(),r===void 0?r=e.length-n:r>e.length-n&&it(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),c=n.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yn extends Zh{construct(e,n,r){return new yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yn(n)}static emptyPath(){return new yn([])}}const NF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends Zh{construct(e,n,r){return new Cr(e,n,r)}static isValidIdentifier(e){return NF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Be(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new Be(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Be(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else h==="`"?(c=!c,i++):h!=="."||c?(r+=h,i++):(o(),i++)}if(o(),c)throw new Be(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(n)}static emptyPath(){return new Cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(yn.fromString(e))}static fromName(e){return new qe(yn.fromString(e).popFirst(5))}static empty(){return new qe(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new yn(e.slice()))}}function OF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new Ba(i,qe.empty(),e)}function kF(t){return new Ba(t.readTime,t.key,-1)}class Ba{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ba(ot.min(),qe.empty(),-1)}static max(){return new Ba(ot.max(),qe.empty(),-1)}}function DF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:Ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==MF)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,o=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++o,c&&o===i&&n()},p=>r(p))}),c=!0,o===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const o=e.length,c=new Array(o);let h=0;for(let p=0;p<o;p++){const g=p;n(e[g]).next(x=>{c[g]=x,++h,h===o&&r(c)},x=>i(x))}})}static doWhile(e,n){return new ve((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function FF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Df(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}F2.oe=-1;function mg(t){return t==null}function q0(t){return t===0&&1/t==-1/0}function BF(t){return typeof t=="number"&&Number.isInteger(t)&&!q0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new Sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bp(this.root,e,this.comparator,!0)}}class bp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=o??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xC(this.data.getIterator())}getIteratorFrom(e){return new xC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ir(this.comparator);return n.data=e,n}}class xC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new ws([])}unionWith(e){let n=new Ir(Cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ws(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ku(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new o3("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const VF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(t){if(Qt(!!t),typeof t=="string"){let e=0;const n=VF.exec(t);if(Qt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(t.seconds),nanos:zn(t.nanos)}}function zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yl(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function V2(t){const e=t.mapValue.fields.__previous_value__;return B2(e)?V2(e):e}function Jh(t){const e=Va(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,r,i,o,c,h,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g}}class ef{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ef("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ef&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip={mapValue:{}};function Ql(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B2(t)?4:zF(t)?9007199254740991:jF(t)?10:11:it()}function Zs(t,e){if(t===e)return!0;const n=Ql(t);if(n!==Ql(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jh(t).isEqual(Jh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Va(i.timestampValue),h=Va(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Yl(i.bytesValue).isEqual(Yl(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return zn(i.geoPointValue.latitude)===zn(o.geoPointValue.latitude)&&zn(i.geoPointValue.longitude)===zn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return zn(i.integerValue)===zn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=zn(i.doubleValue),h=zn(o.doubleValue);return c===h?q0(c)===q0(h):isNaN(c)&&isNaN(h)}return!1}(t,e);case 9:return ku(t.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:case 11:return function(i,o){const c=i.mapValue.fields||{},h=o.mapValue.fields||{};if(vC(c)!==vC(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Zs(c[p],h[p])))return!1;return!0}(t,e);default:return it()}}function tf(t,e){return(t.values||[]).find(n=>Zs(n,e))!==void 0}function Du(t,e){if(t===e)return 0;const n=Ql(t),r=Ql(e);if(n!==r)return Ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(t.booleanValue,e.booleanValue);case 2:return function(o,c){const h=zn(o.integerValue||o.doubleValue),p=zn(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(t,e);case 3:return wC(t.timestampValue,e.timestampValue);case 4:return wC(Jh(t),Jh(e));case 5:return Ut(t.stringValue,e.stringValue);case 6:return function(o,c){const h=Yl(o),p=Yl(c);return h.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),p=c.split("/");for(let g=0;g<h.length&&g<p.length;g++){const x=Ut(h[g],p[g]);if(x!==0)return x}return Ut(h.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Ut(zn(o.latitude),zn(c.latitude));return h!==0?h:Ut(zn(o.longitude),zn(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return EC(t.arrayValue,e.arrayValue);case 10:return function(o,c){var h,p,g,x;const w=o.fields||{},C=c.fields||{},A=(h=w.value)===null||h===void 0?void 0:h.arrayValue,k=(p=C.value)===null||p===void 0?void 0:p.arrayValue,O=Ut(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((x=k==null?void 0:k.values)===null||x===void 0?void 0:x.length)||0);return O!==0?O:EC(A,k)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===Ip.mapValue&&c===Ip.mapValue)return 0;if(o===Ip.mapValue)return 1;if(c===Ip.mapValue)return-1;const h=o.fields||{},p=Object.keys(h),g=c.fields||{},x=Object.keys(g);p.sort(),x.sort();for(let w=0;w<p.length&&w<x.length;++w){const C=Ut(p[w],x[w]);if(C!==0)return C;const A=Du(h[p[w]],g[x[w]]);if(A!==0)return A}return Ut(p.length,x.length)}(t.mapValue,e.mapValue);default:throw it()}}function wC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ut(t,e);const n=Va(t),r=Va(e),i=Ut(n.seconds,r.seconds);return i!==0?i:Ut(n.nanos,r.nanos)}function EC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Du(n[i],r[i]);if(o)return o}return Ut(n.length,r.length)}function Mu(t){return Av(t)}function Av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Va(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Av(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${Av(n.fields[c])}`;return i+"}"}(t.mapValue):it()}function _C(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tv(t){return!!t&&"integerValue"in t}function U2(t){return!!t&&"arrayValue"in t}function CC(t){return!!t&&"nullValue"in t}function bC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function n0(t){return!!t&&"mapValue"in t}function jF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function mh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!n0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=Cr.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,r,i),r={},i=[],n=h.popLast()}c?r[h.lastSegment()]=mh(c):i.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());n0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];n0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ki(mh(this.value))}}function a3(t){const e=[];return oc(t.fields,(n,r)=>{const i=new Cr([n]);if(n0(r)){const o=a3(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new ws(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,o,c,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Br(e,0,ot.min(),ot.min(),ot.min(),ki.empty(),0)}static newFoundDocument(e,n,r,i){return new Br(e,1,n,ot.min(),r,i,0)}static newNoDocument(e,n){return new Br(e,2,n,ot.min(),ot.min(),ki.empty(),0)}static newUnknownDocument(e,n){return new Br(e,3,n,ot.min(),ot.min(),ki.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.position=e,this.inclusive=n}}function IC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],c=t.position[i];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(c.referenceValue),n.key):r=Du(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function AC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function $F(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{}class Yn extends l3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HF(e,n,r):n==="array-contains"?new KF(e,r):n==="in"?new XF(e,r):n==="not-in"?new YF(e,r):n==="array-contains-any"?new QF(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GF(e,r):new qF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Du(n,this.value)):n!==null&&Ql(this.value)===Ql(n)&&this.matchesComparison(Du(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends l3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ts(e,n)}matches(e){return c3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function c3(t){return t.op==="and"}function u3(t){return WF(t)&&c3(t)}function WF(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function Sv(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+Mu(t.value);if(u3(t))return t.filters.map(e=>Sv(e)).join(",");{const e=t.filters.map(n=>Sv(n)).join(",");return`${t.op}(${e})`}}function d3(t,e){return t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&Zs(r.value,i.value)}(t,e):t instanceof Ts?function(r,i){return i instanceof Ts&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,c,h)=>o&&d3(c,i.filters[h]),!0):!1}(t,e):void it()}function h3(t){return t instanceof Yn?function(n){return`${n.field.canonicalString()} ${n.op} ${Mu(n.value)}`}(t):t instanceof Ts?function(n){return n.op.toString()+" {"+n.getFilters().map(h3).join(" ,")+"}"}(t):"Filter"}class HF extends Yn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class GF extends Yn{constructor(e,n){super(e,"in",n),this.keys=f3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qF extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=f3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class KF extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return U2(n)&&tf(n.arrayValue,this.value)}}class XF extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tf(this.value.arrayValue,n)}}class YF extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tf(this.value.arrayValue,n)}}class QF extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!U2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n=null,r=[],i=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=h,this.ue=null}}function TC(t,e=null,n=[],r=[],i=null,o=null,c=null){return new ZF(t,e,n,r,i,o,c)}function j2(t){const e=at(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mu(r)).join(",")),e.ue=n}return e.ue}function z2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$F(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!d3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AC(t.startAt,e.startAt)&&AC(t.endAt,e.endAt)}function Rv(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n=null,r=[],i=[],o=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function JF(t,e,n,r,i,o,c,h){return new hd(t,e,n,r,i,o,c,h)}function $2(t){return new hd(t)}function SC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p3(t){return t.collectionGroup!==null}function yh(t){const e=at(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ir(Cr.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new nf(o,r))}),n.has(Cr.keyField().canonicalString())||e.ce.push(new nf(Cr.keyField(),r))}return e.ce}function Ys(t){const e=at(t);return e.le||(e.le=eB(e,yh(t))),e.le}function eB(t,e){if(t.limitType==="F")return TC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new nf(i.field,o)});const n=t.endAt?new K0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new K0(t.startAt.position,t.startAt.inclusive):null;return TC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pv(t,e){const n=t.filters.concat([e]);return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nv(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yg(t,e){return z2(Ys(t),Ys(e))&&t.limitType===e.limitType}function g3(t){return`${j2(Ys(t))}|lt:${t.limitType}`}function Sc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>h3(i)).join(", ")}]`),mg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mu(i)).join(",")),`Target(${r})`}(Ys(t))}; limitType=${t.limitType})`}function vg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of yh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(c,h,p){const g=IC(c,h,p);return c.inclusive?g<=0:g<0}(r.startAt,yh(r),i)||r.endAt&&!function(c,h,p){const g=IC(c,h,p);return c.inclusive?g>=0:g>0}(r.endAt,yh(r),i))}(t,e)}function tB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function m3(t){return(e,n)=>{let r=!1;for(const i of yh(t)){const o=nB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nB(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(o,c,h){const p=c.data.field(o),g=h.data.field(o);return p!==null&&g!==null?Du(p,g):it()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return s3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=new Sn(qe.comparator);function Lo(){return rB}const y3=new Sn(qe.comparator);function eh(...t){let e=y3;for(const n of t)e=e.insert(n.key,n);return e}function v3(t){let e=y3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function El(){return vh()}function x3(){return vh()}function vh(){return new fd(t=>t.toString(),(t,e)=>t.isEqual(e))}const iB=new Sn(qe.comparator),sB=new Ir(qe.comparator);function Tt(...t){let e=sB;for(const n of t)e=e.add(n);return e}const oB=new Ir(Ut);function aB(){return oB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q0(e)?"-0":e}}function w3(t){return{integerValue:""+t}}function lB(t,e){return BF(e)?w3(e):W2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this._=void 0}}function cB(t,e,n){return t instanceof X0?function(i,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&B2(o)&&(o=V2(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof rf?_3(t,e):t instanceof sf?C3(t,e):function(i,o){const c=E3(i,o),h=RC(c)+RC(i.Pe);return Tv(c)&&Tv(i.Pe)?w3(h):W2(i.serializer,h)}(t,e)}function uB(t,e,n){return t instanceof rf?_3(t,e):t instanceof sf?C3(t,e):n}function E3(t,e){return t instanceof Y0?function(r){return Tv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class X0 extends xg{}class rf extends xg{constructor(e){super(),this.elements=e}}function _3(t,e){const n=b3(e);for(const r of t.elements)n.some(i=>Zs(i,r))||n.push(r);return{arrayValue:{values:n}}}class sf extends xg{constructor(e){super(),this.elements=e}}function C3(t,e){let n=b3(e);for(const r of t.elements)n=n.filter(i=>!Zs(i,r));return{arrayValue:{values:n}}}class Y0 extends xg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function RC(t){return zn(t.integerValue||t.doubleValue)}function b3(t){return U2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rf&&i instanceof rf||r instanceof sf&&i instanceof sf?ku(r.elements,i.elements,Zs):r instanceof Y0&&i instanceof Y0?Zs(r.Pe,i.Pe):r instanceof X0&&i instanceof X0}(t.transform,e.transform)}class hB{constructor(e,n){this.version=e,this.transformResults=n}}class Io{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Io}static exists(e){return new Io(void 0,e)}static updateTime(e){return new Io(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function r0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wg{}function I3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new T3(t.key,Io.none()):new Eg(t.key,t.data,Io.none());{const n=t.data,r=ki.empty();let i=new Ir(Cr.comparator);for(let o of e.fields)if(!i.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new ac(t.key,r,new ws(i.toArray()),Io.none())}}function fB(t,e,n){t instanceof Eg?function(i,o,c){const h=i.value.clone(),p=NC(i.fieldTransforms,o,c.transformResults);h.setAll(p),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ac?function(i,o,c){if(!r0(i.precondition,o))return void o.convertToUnknownDocument(c.version);const h=NC(i.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(A3(i)),p.setAll(h),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function xh(t,e,n,r){return t instanceof Eg?function(o,c,h,p){if(!r0(o.precondition,c))return h;const g=o.value.clone(),x=OC(o.fieldTransforms,p,c);return g.setAll(x),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,r):t instanceof ac?function(o,c,h,p){if(!r0(o.precondition,c))return h;const g=OC(o.fieldTransforms,p,c),x=c.data;return x.setAll(A3(o)),x.setAll(g),c.convertToFoundDocument(c.version,x).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(o,c,h){return r0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(t,e,n)}function pB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=E3(r.transform,i||null);o!=null&&(n===null&&(n=ki.empty()),n.set(r.field,o))}return n||null}function PC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ku(r,i,(o,c)=>dB(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eg extends wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ac extends wg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function A3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NC(t,e,n){const r=new Map;Qt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],c=o.transform,h=e.data.field(o.field);r.set(o.field,uB(c,h,n[i]))}return r}function OC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,c=n.data.field(i.field);r.set(i.field,cB(o,c,e))}return r}class T3 extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gB extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x3();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=n.has(i.key)?null:h;const p=I3(c,h);p!==null&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&ku(this.mutations,e.mutations,(n,r)=>PC(n,r))&&ku(this.baseMutations,e.baseMutations,(n,r)=>PC(n,r))}}class H2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qt(e.mutations.length===r.length);let i=function(){return iB}();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new H2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn,Ot;function xB(t){switch(t){default:return it();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function S3(t){if(t===void 0)return Mo("GRPC error has no .code"),fe.UNKNOWN;switch(t){case qn.OK:return fe.OK;case qn.CANCELLED:return fe.CANCELLED;case qn.UNKNOWN:return fe.UNKNOWN;case qn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case qn.INTERNAL:return fe.INTERNAL;case qn.UNAVAILABLE:return fe.UNAVAILABLE;case qn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case qn.NOT_FOUND:return fe.NOT_FOUND;case qn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case qn.ABORTED:return fe.ABORTED;case qn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case qn.DATA_LOSS:return fe.DATA_LOSS;default:return it()}}(Ot=qn||(qn={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=new Fl([4294967295,4294967295],0);function kC(t){const e=wB().encode(t),n=new QR;return n.update(e),new Uint8Array(n.digest())}function DC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fl([n,r],0),new Fl([i,o],0)]}class G2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new th(`Invalid padding: ${n}`);if(r<0)throw new th(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new th(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new th(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fl.fromNumber(r)));return i.compare(EB)===1&&(i=new Fl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=kC(e),[r,i]=DC(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new G2(o,i,n);return r.forEach(h=>c.insert(h)),c}insert(e){if(this.Ie===0)return;const n=kC(e),[r,i]=DC(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,i,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _g(ot.min(),i,new Sn(Ut),Lo(),Tt())}}class Mf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mf(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class R3{constructor(e,n){this.targetId=e,this.me=n}}class P3{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MC{constructor(){this.fe=0,this.ge=FC(),this.pe=Tr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Tt(),n=Tt(),r=Tt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:it()}}),new Mf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=FC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _B{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lo(),this.qe=LC(),this.Qe=new Sn(Ut)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:it()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Rv(o))if(r===0){const c=new qe(o.path);this.Ue(n,c,Br.newNoDocument(c,ot.min()))}else Qt(r===1);else{const c=this.Ye(n);if(c!==r){const h=this.Ze(e),p=h?this.Xe(h,e,c):1;if(p!==0){this.je(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let c,h;try{c=Yl(r).toUint8Array()}catch(p){if(p instanceof o3)return Ou("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new G2(c,i,o)}catch(p){return Ou(p instanceof th?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ie===0?null:h}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,c)=>{const h=this.Je(c);if(h){if(o.current&&Rv(h.target)){const p=new qe(h.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,Br.newNoDocument(p,e))}o.be&&(n.set(c,o.ve()),o.Ce())}});let r=Tt();this.qe.forEach((o,c)=>{let h=!0;c.forEachWhile(p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const i=new _g(e,n,this.Qe,this.ke,r);return this.ke=Lo(),this.qe=LC(),this.Qe=new Sn(Ut),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new MC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ir(Ut),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new MC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function LC(){return new Sn(qe.comparator)}function FC(){return new Sn(qe.comparator)}const CB={asc:"ASCENDING",desc:"DESCENDING"},bB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IB={and:"AND",or:"OR"};class AB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ov(t,e){return t.useProto3Json||mg(e)?e:{value:e}}function Q0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TB(t,e){return Q0(t,e.toTimestamp())}function Qs(t){return Qt(!!t),ot.fromTimestamp(function(n){const r=Va(n);return new nn(r.seconds,r.nanos)}(t))}function q2(t,e){return kv(t,e).canonicalString()}function kv(t,e){const n=function(i){return new yn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O3(t){const e=yn.fromString(t);return Qt(F3(e)),e}function Dv(t,e){return q2(t.databaseId,e.path)}function jm(t,e){const n=O3(e);if(n.get(1)!==t.databaseId.projectId)throw new Be(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Be(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(D3(n))}function k3(t,e){return q2(t.databaseId,e)}function SB(t){const e=O3(t);return e.length===4?yn.emptyPath():D3(e)}function Mv(t){return new yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D3(t){return Qt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BC(t,e,n){return{name:Dv(t,e),fields:n.value.mapValue.fields}}function RB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:it()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(g,x){return g.useProto3Json?(Qt(x===void 0||typeof x=="string"),Tr.fromBase64String(x||"")):(Qt(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Tr.fromUint8Array(x||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const x=g.code===void 0?fe.UNKNOWN:S3(g.code);return new Be(x,g.message||"")}(c);n=new P3(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jm(t,r.document.name),o=Qs(r.document.updateTime),c=r.document.createTime?Qs(r.document.createTime):ot.min(),h=new ki({mapValue:{fields:r.document.fields}}),p=Br.newFoundDocument(i,o,c,h),g=r.targetIds||[],x=r.removedTargetIds||[];n=new i0(g,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jm(t,r.document),o=r.readTime?Qs(r.readTime):ot.min(),c=Br.newNoDocument(i,o),h=r.removedTargetIds||[];n=new i0([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jm(t,r.document),o=r.removedTargetIds||[];n=new i0([],o,i,null)}else{if(!("filter"in e))return it();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new vB(i,o),h=r.targetId;n=new R3(h,c)}}return n}function PB(t,e){let n;if(e instanceof Eg)n={update:BC(t,e.key,e.value)};else if(e instanceof T3)n={delete:Dv(t,e.key)};else if(e instanceof ac)n={update:BC(t,e.key,e.data),updateMask:VB(e.fieldMask)};else{if(!(e instanceof gB))return it();n={verify:Dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const h=c.transform;if(h instanceof X0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof rf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof sf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Y0)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw it()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:TB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:it()}(t,e.precondition)),n}function NB(t,e){return t&&t.length>0?(Qt(e!==void 0),t.map(n=>function(i,o){let c=i.updateTime?Qs(i.updateTime):Qs(o);return c.isEqual(ot.min())&&(c=Qs(o)),new hB(c,i.transformResults||[])}(n,e))):[]}function OB(t,e){return{documents:[k3(t,e.path)]}}function kB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k3(t,i);const o=function(g){if(g.length!==0)return L3(Ts.create(g,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(x=>function(C){return{field:Rc(C.field),direction:LB(C.dir)}}(x))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Ov(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:n,parent:i}}function DB(t){let e=SB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qt(r===1);const x=n.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let o=[];n.where&&(o=function(w){const C=M3(w);return C instanceof Ts&&u3(C)?C.getFilters():[C]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(C=>function(k){return new nf(Pc(k.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(C))}(n.orderBy));let h=null;n.limit&&(h=function(w){let C;return C=typeof w=="object"?w.value:w,mg(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(w){const C=!!w.before,A=w.values||[];return new K0(A,C)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const C=!w.before,A=w.values||[];return new K0(A,C)}(n.endAt)),JF(e,i,c,o,h,"F",p,g)}function MB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pc(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pc(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pc(n.unaryFilter.field);return Yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pc(n.unaryFilter.field);return Yn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(t):t.fieldFilter!==void 0?function(n){return Yn.create(Pc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ts.create(n.compositeFilter.filters.map(r=>M3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it()}}(n.compositeFilter.op))}(t):it()}function LB(t){return CB[t]}function FB(t){return bB[t]}function BB(t){return IB[t]}function Rc(t){return{fieldPath:t.canonicalString()}}function Pc(t){return Cr.fromServerFormat(t.fieldPath)}function L3(t){return t instanceof Yn?function(n){if(n.op==="=="){if(bC(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NAN"}};if(CC(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bC(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NOT_NAN"}};if(CC(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(n.field),op:FB(n.op),value:n.value}}}(t):t instanceof Ts?function(n){const r=n.getFilters().map(i=>L3(i));return r.length===1?r[0]:{compositeFilter:{op:BB(n.op),filters:r}}}(t):it()}function VB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function F3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,r,i,o=ot.min(),c=ot.min(),h=Tr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.ct=e}}function jB(t){const e=DB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.un=new $B}addToCollectionParentIndex(e,n){return this.un.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(Ba.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(Ba.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class $B{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ir(yn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ir(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Lu(0)}static kn(){return new Lu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.changes=new fd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xh(r.mutation,i,ws.empty(),nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=El();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let c=eh();return o.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=El();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,h)=>{n.set(c,h)})})}computeViews(e,n,r,i){let o=Lo();const c=vh(),h=function(){return vh()}();return n.forEach((p,g)=>{const x=r.get(g.key);i.has(g.key)&&(x===void 0||x.mutation instanceof ac)?o=o.insert(g.key,g):x!==void 0?(c.set(g.key,x.mutation.getFieldMask()),xh(x.mutation,g,x.mutation.getFieldMask(),nn.now())):c.set(g.key,ws.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((g,x)=>c.set(g,x)),n.forEach((g,x)=>{var w;return h.set(g,new HB(x,(w=c.get(g))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,n){const r=vh();let i=new Sn((c,h)=>c-h),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const h of c)h.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let x=r.get(p)||ws.empty();x=h.applyToLocalView(g,x),r.set(p,x);const w=(i.get(h.batchId)||Tt()).add(p);i=i.insert(h.batchId,w)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,x=p.value,w=x3();x.forEach(C=>{if(!o.has(C)){const A=I3(n.get(C),r.get(C));A!==null&&w.set(C,A),o=o.add(C)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ve.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(c){return qe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ve.resolve(El());let h=-1,p=o;return c.next(g=>ve.forEach(g,(x,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),o.get(x)?ve.resolve():this.remoteDocumentCache.getEntry(e,x).next(C=>{p=p.insert(x,C)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,p,g,Tt())).next(x=>({batchId:h,changes:v3(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let i=eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let c=eh();return this.indexManager.getCollectionParents(e,o).next(h=>ve.forEach(h,p=>{const g=function(w,C){return new hd(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next(x=>{x.forEach((w,C)=>{c=c.insert(w,C)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(c=>{o.forEach((p,g)=>{const x=g.getKey();c.get(x)===null&&(c=c.insert(x,Br.newInvalidDocument(x)))});let h=eh();return c.forEach((p,g)=>{const x=o.get(p);x!==void 0&&xh(x.mutation,g,ws.empty(),nn.now()),vg(n,g)&&(h=h.insert(p,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ve.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qs(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:jB(i.bundledQuery),readTime:Qs(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.overlays=new Sn(qe.comparator),this.Ir=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=El();return ve.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=El(),o=n.length+1,c=new qe(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===o&&p.largestBatchId>r&&i.set(p.getKey(),p)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Sn((g,x)=>g-x);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let x=o.get(g.largestBatchId);x===null&&(x=El(),o=o.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const h=El(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,x)=>h.set(g,x)),!(h.size()>=i)););return ve.resolve(h)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new yB(n,r));let o=this.Ir.get(n);o===void 0&&(o=Tt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.Tr=new Ir(ur.Er),this.dr=new Ir(ur.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ur(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ur(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new qe(new yn([])),r=new ur(n,e),i=new ur(n,e+1),o=[];return this.dr.forEachInRange([r,i],c=>{this.Vr(c),o.push(c.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new qe(new yn([])),r=new ur(n,e),i=new ur(n,e+1);let o=Tt();return this.dr.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new ur(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ur{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return qe.comparator(e.key,n.key)||Ut(e.wr,n.wr)}static Ar(e,n){return Ut(e.wr,n.wr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ir(ur.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new mB(o,n,r,i);this.mutationQueue.push(c);for(const h of i)this.br=this.br.add(new ur(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ve.resolve(c)}lookupMutationBatch(e,n){return ve.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],c=>{const h=this.Dr(c.wr);o.push(h)}),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ir(Ut);return n.forEach(i=>{const o=new ur(i,0),c=new ur(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,c],h=>{r=r.add(h.wr)})}),ve.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const c=new ur(new qe(o),0);let h=new Ir(Ut);return this.br.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(p.wr)),!0)},c),ve.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ve.forEach(n.mutations,i=>{const o=new ur(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ur(n,0),i=this.br.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.Mr=e,this.docs=function(){return new Sn(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(n))}getEntries(e,n){let r=Lo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Br.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Lo();const c=n.path,h=new qe(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:x}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||DF(kF(x),r)<=0||(i.has(x.key)||vg(n,x))&&(o=o.insert(x.key,x.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(e,n,r,i){it()}Or(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZB(this)}getSize(e){return ve.resolve(this.size)}}class ZB extends WB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.persistence=e,this.Nr=new fd(n=>j2(n),z2),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Lr=0,this.Br=new K2,this.targetCount=0,this.kr=Lu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ve.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Lu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Kn(n),ve.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((c,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Nr.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ve.waitFor(o).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),ve.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new F2(0),this.Kr=!1,this.Kr=!0,this.$r=new XB,this.referenceDelegate=e(this),this.Ur=new JB(this),this.indexManager=new zB,this.remoteDocumentCache=function(i){return new QB(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new UB(n),this.Gr=new qB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YB(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new tV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ve.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class tV extends LF{constructor(e){super(),this.currentSequenceNumber=e}}class X2{constructor(e){this.persistence=e,this.Jr=new K2,this.Yr=null}static Zr(e){return new X2(e)}get Xr(){if(this.Yr)return this.Yr;throw it()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,r=>{const i=qe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ot.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ve.or([()=>ve.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Tt(),i=Tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Y2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return G5()?8:FF(jr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new nV;return this.Xi(e,n,c).next(h=>{if(o.result=h,this.zi)return this.es(e,n,c,h.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ld()<=Rt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",Sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(Ld()<=Rt.DEBUG&&je("QueryEngine","Query:",Sc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ld()<=Rt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",Sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ys(n))):ve.resolve())}Yi(e,n){if(SC(n))return ve.resolve(null);let r=Ys(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nv(n,null,"F"),r=Ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Tt(...o);return this.Ji.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const g=this.ts(n,h);return this.ns(n,g,c,p.readTime)?this.Yi(e,Nv(n,null,"F")):this.rs(e,g,n,p)}))})))}Zi(e,n,r,i){return SC(n)||i.isEqual(ot.min())?ve.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const c=this.ts(n,o);return this.ns(n,c,r,i)?ve.resolve(null):(Ld()<=Rt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sc(n)),this.rs(e,c,n,OF(i,-1)).next(h=>h))})}ts(e,n){let r=new Ir(m3(e));return n.forEach((i,o)=>{vg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ld()<=Rt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Sc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ba.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Sn(Ut),this._s=new fd(o=>j2(o),z2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function sV(t,e,n,r){return new iV(t,e,n,r)}async function B3(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],h=[];let p=Tt();for(const g of i){c.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}for(const g of o){h.push(g.batchId);for(const x of g.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(r,p).next(g=>({hs:g,removedBatchIds:c,addedBatchIds:h}))})})}function oV(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(h,p,g,x){const w=g.batch,C=w.keys();let A=ve.resolve();return C.forEach(k=>{A=A.next(()=>x.getEntry(p,k)).next(O=>{const U=g.docVersions.get(k);Qt(U!==null),O.version.compareTo(U)<0&&(w.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),x.addEntry(O)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(p,w))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let p=Tt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(p=p.add(h.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function V3(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function aV(t,e){const n=at(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const h=[];e.targetChanges.forEach((x,w)=>{const C=i.get(w);if(!C)return;h.push(n.Ur.removeMatchingKeys(o,x.removedDocuments,w).next(()=>n.Ur.addMatchingKeys(o,x.addedDocuments,w)));let A=C.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Tr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):x.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(x.resumeToken,r)),i=i.insert(w,A),function(O,U,D){return O.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(C,A,x)&&h.push(n.Ur.updateTargetData(o,A))});let p=Lo(),g=Tt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,x))}),h.push(lV(o,c,e.documentUpdates).next(x=>{p=x.Ps,g=x.Is})),!r.isEqual(ot.min())){const x=n.Ur.getLastRemoteSnapshotVersion(o).next(w=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(x)}return ve.waitFor(h).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,p,g)).next(()=>p)}).then(o=>(n.os=i,o))}function lV(t,e,n){let r=Tt(),i=Tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=Lo();return n.forEach((h,p)=>{const g=o.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(ot.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{Ps:c,Is:i}})}function cV(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uV(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ve.resolve(i)):n.Ur.allocateTargetId(r).next(c=>(i=new wa(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Lv(t,e,n){const r=at(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i))}catch(c){if(!Df(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function VC(t,e,n){const r=at(t);let i=ot.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,x){const w=at(p),C=w._s.get(x);return C!==void 0?ve.resolve(w.os.get(C)):w.Ur.getTargetData(g,x)}(r,c,Ys(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,h.targetId).next(p=>{o=p})}).next(()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:ot.min(),n?o:Tt())).next(h=>(dV(r,tB(e),h),{documents:h,Ts:o})))}function dV(t,e,n){let r=t.us.get(e)||ot.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class UC{constructor(){this.activeTargetIds=aB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hV{constructor(){this.so=new UC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new UC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap=null;function zm(){return Ap===null?Ap=function(){return 268435456+Math.round(2147483648*Math.random())}():Ap++,"0x"+Ap.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class mV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,c){const h=zm(),p=this.xo(n,r.toUriEncodedString());je("RestConnection",`Sending RPC '${n}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,o,c),this.No(n,p,g,i).then(x=>(je("RestConnection",`Received RPC '${n}' ${h}: `,x),x),x=>{throw Ou("RestConnection",`RPC '${n}' ${h} failed with error: `,x,"url: ",p,"request:",i),x})}Lo(n,r,i,o,c,h){return this.Mo(n,r,i,o,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>n[c]=o),i&&i.headers.forEach((o,c)=>n[c]=o)}xo(n,r){const i=pV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=zm();return new Promise((c,h)=>{const p=new ZR;p.setWithCredentials(!0),p.listenOnce(JR.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case t0.NO_ERROR:const x=p.getResponseJson();je(Or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(x)),c(x);break;case t0.TIMEOUT:je(Or,`RPC '${e}' ${o} timed out`),h(new Be(fe.DEADLINE_EXCEEDED,"Request time out"));break;case t0.HTTP_ERROR:const w=p.getStatus();if(je(Or,`RPC '${e}' ${o} failed with status:`,w,"response text:",p.getResponseText()),w>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const A=C==null?void 0:C.error;if(A&&A.status&&A.message){const k=function(U){const D=U.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(D)>=0?D:fe.UNKNOWN}(A.status);h(new Be(k,A.message))}else h(new Be(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Be(fe.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{je(Or,`RPC '${e}' ${o} completed.`)}});const g=JSON.stringify(i);je(Or,`RPC '${e}' ${o} sending request:`,i),p.send(n,"POST",g,r,15)})}Bo(e,n,r){const i=zm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=n3(),h=t3(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const x=o.join("");je(Or,`Creating RPC '${e}' stream ${i}: ${x}`,p);const w=c.createWebChannel(x,p);let C=!1,A=!1;const k=new gV({Io:U=>{A?je(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(C||(je(Or,`Opening RPC '${e}' stream ${i} transport.`),w.open(),C=!0),je(Or,`RPC '${e}' stream ${i} sending:`,U),w.send(U))},To:()=>w.close()}),O=(U,D,I)=>{U.listen(D,R=>{try{I(R)}catch(V){setTimeout(()=>{throw V},0)}})};return O(w,Jd.EventType.OPEN,()=>{A||(je(Or,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),O(w,Jd.EventType.CLOSE,()=>{A||(A=!0,je(Or,`RPC '${e}' stream ${i} transport closed`),k.So())}),O(w,Jd.EventType.ERROR,U=>{A||(A=!0,Ou(Or,`RPC '${e}' stream ${i} transport errored:`,U),k.So(new Be(fe.UNAVAILABLE,"The operation could not be completed")))}),O(w,Jd.EventType.MESSAGE,U=>{var D;if(!A){const I=U.data[0];Qt(!!I);const R=I,V=R.error||((D=R[0])===null||D===void 0?void 0:D.error);if(V){je(Or,`RPC '${e}' stream ${i} received error:`,V);const H=V.status;let X=function(N){const W=qn[N];if(W!==void 0)return S3(W)}(H),S=V.message;X===void 0&&(X=fe.INTERNAL,S="Unknown error status: "+H+" with message "+V.message),A=!0,k.So(new Be(X,S)),w.close()}else je(Or,`RPC '${e}' stream ${i} received:`,I),k.bo(I)}}),O(h,e3.STAT_EVENT,U=>{U.stat===Iv.PROXY?je(Or,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===Iv.NOPROXY&&je(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t){return new AB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,i,o,c,h,p){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new U3(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Mo(n.toString()),Mo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Be(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yV extends j3{constructor(e,n,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=RB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ot.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?ot.min():c.readTime?Qs(c.readTime):ot.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Mv(this.serializer),n.addTarget=function(o,c){let h;const p=c.target;if(h=Rv(p)?{documents:OB(o,p)}:{query:kB(o,p)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=N3(o,c.resumeToken);const g=Ov(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(ot.min())>0){h.readTime=Q0(o,c.snapshotVersion.toTimestamp());const g=Ov(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const r=MB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Mv(this.serializer),n.removeTarget=e,this.a_(n)}}class vV extends j3{constructor(e,n,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=NB(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Mv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Be(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Mo(e,kv(n,r),i,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(fe.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Lo(e,kv(n,r),i,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Be(fe.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class wV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mo(n),this.D_=!1):je("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(c=>{r.enqueueAndForget(async()=>{lc(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=at(p);g.L_.add(4),await Lf(g),g.q_.set("Unknown"),g.L_.delete(4),await bg(g)}(this))})}),this.q_=new wV(r,i)}}async function bg(t){if(lc(t))for(const e of t.B_)await e(!0)}async function Lf(t){for(const e of t.B_)await e(!1)}function z3(t,e){const n=at(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ew(n)?J2(n):pd(n).r_()&&Z2(n,e))}function Q2(t,e){const n=at(t),r=pd(n);n.N_.delete(e),r.r_()&&$3(n,e),n.N_.size===0&&(r.r_()?r.o_():lc(n)&&n.q_.set("Unknown"))}function Z2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pd(t).A_(e)}function $3(t,e){t.Q_.xe(e),pd(t).R_(e)}function J2(t){t.Q_=new _B({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pd(t).start(),t.q_.v_()}function ew(t){return lc(t)&&!pd(t).n_()&&t.N_.size>0}function lc(t){return at(t).L_.size===0}function W3(t){t.Q_=void 0}async function _V(t){t.q_.set("Online")}async function CV(t){t.N_.forEach((e,n)=>{Z2(t,e)})}async function bV(t,e){W3(t),ew(t)?(t.q_.M_(e),J2(t)):t.q_.set("Unknown")}async function IV(t,e,n){if(t.q_.set("Online"),e instanceof P3&&e.state===2&&e.cause)try{await async function(i,o){const c=o.cause;for(const h of o.targetIds)i.N_.has(h)&&(await i.remoteSyncer.rejectListen(h,c),i.N_.delete(h),i.Q_.removeTarget(h))}(t,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Z0(t,r)}else if(e instanceof i0?t.Q_.Ke(e):e instanceof R3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ot.min()))try{const r=await V3(t.localStore);n.compareTo(r)>=0&&await function(o,c){const h=o.Q_.rt(c);return h.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const x=o.N_.get(g);x&&o.N_.set(g,x.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,g)=>{const x=o.N_.get(p);if(!x)return;o.N_.set(p,x.withResumeToken(Tr.EMPTY_BYTE_STRING,x.snapshotVersion)),$3(o,p);const w=new wa(x.target,p,g,x.sequenceNumber);Z2(o,w)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){je("RemoteStore","Failed to raise snapshot:",r),await Z0(t,r)}}async function Z0(t,e,n){if(!Df(e))throw e;t.L_.add(1),await Lf(t),t.q_.set("Offline"),n||(n=()=>V3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bg(t)})}function H3(t,e){return e().catch(n=>Z0(t,n,e))}async function Ig(t){const e=at(t),n=Ua(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;AV(e);)try{const i=await cV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,TV(e,i)}catch(i){await Z0(e,i)}G3(e)&&q3(e)}function AV(t){return lc(t)&&t.O_.length<10}function TV(t,e){t.O_.push(e);const n=Ua(t);n.r_()&&n.V_&&n.m_(e.mutations)}function G3(t){return lc(t)&&!Ua(t).n_()&&t.O_.length>0}function q3(t){Ua(t).start()}async function SV(t){Ua(t).p_()}async function RV(t){const e=Ua(t);for(const n of t.O_)e.m_(n.mutations)}async function PV(t,e,n){const r=t.O_.shift(),i=H2.from(r,e,n);await H3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ig(t)}async function NV(t,e){e&&Ua(t).V_&&await async function(r,i){if(function(c){return xB(c)&&c!==fe.ABORTED}(i.code)){const o=r.O_.shift();Ua(r).s_(),await H3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ig(r)}}(t,e),G3(t)&&q3(t)}async function zC(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=lc(n);n.L_.add(3),await Lf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bg(n)}async function OV(t,e){const n=at(t);e?(n.L_.delete(2),await bg(n)):e||(n.L_.add(2),await Lf(n),n.q_.set("Unknown"))}function pd(t){return t.K_||(t.K_=function(n,r,i){const o=at(n);return o.w_(),new yV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:_V.bind(null,t),Ro:CV.bind(null,t),mo:bV.bind(null,t),d_:IV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ew(t)?J2(t):t.q_.set("Unknown")):(await t.K_.stop(),W3(t))})),t.K_}function Ua(t){return t.U_||(t.U_=function(n,r,i){const o=at(n);return o.w_(),new vV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:SV.bind(null,t),mo:NV.bind(null,t),f_:RV.bind(null,t),g_:PV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ig(t)):(await t.U_.stop(),t.O_.length>0&&(je("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const c=Date.now()+r,h=new tw(e,n,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nw(t,e){if(Mo("AsyncQueue",`${e}: ${t}`),Df(t))return new Be(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=eh(),this.sortedSet=new Sn(this.comparator)}static emptySet(e){return new su(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.W_=new Sn(qe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):it():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fu{constructor(e,n,r,i,o,c,h,p,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,i,o){const c=[];return n.forEach(h=>{c.push({type:0,doc:h})}),new Fu(e,n,su.emptySet(n),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DV{constructor(){this.queries=WC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=at(n),o=i.queries;i.queries=WC(),o.forEach((c,h)=>{for(const p of h.j_)p.onError(r)})})(this,new Be(fe.ABORTED,"Firestore shutting down"))}}function WC(){return new fd(t=>g3(t),yg)}async function K3(t,e){const n=at(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new kV,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const h=nw(c,`Initialization of query '${Sc(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&rw(n)}async function X3(t,e){const n=at(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const c=o.j_.indexOf(e);c>=0&&(o.j_.splice(c,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MV(t,e){const n=at(t);let r=!1;for(const i of e){const o=i.query,c=n.queries.get(o);if(c){for(const h of c.j_)h.X_(i)&&(r=!0);c.z_=i}}r&&rw(n)}function LV(t,e,n){const r=at(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function rw(t){t.Y_.forEach(e=>{e.next()})}var Fv,HC;(HC=Fv||(Fv={})).ea="default",HC.Cache="cache";class Y3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.key=e}}class Z3{constructor(e){this.key=e}}class FV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Tt(),this.mutatedKeys=Tt(),this.Aa=m3(e),this.Ra=new su(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new $C,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,c=i,h=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,w)=>{const C=i.get(x),A=vg(this.query,w)?w:null,k=!!C&&this.mutatedKeys.has(C.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let U=!1;C&&A?C.data.isEqual(A.data)?k!==O&&(r.track({type:3,doc:A}),U=!0):this.ga(C,A)||(r.track({type:2,doc:A}),U=!0,(p&&this.Aa(A,p)>0||g&&this.Aa(A,g)<0)&&(h=!0)):!C&&A?(r.track({type:0,doc:A}),U=!0):C&&!A&&(r.track({type:1,doc:C}),U=!0,(p||g)&&(h=!0)),U&&(A?(c=c.add(A),o=O?o.add(x):o.delete(x)):(c=c.delete(x),o=o.delete(x)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const x=this.query.limitType==="F"?c.last():c.first();c=c.delete(x.key),o=o.delete(x.key),r.track({type:1,doc:x})}return{Ra:c,fa:r,ns:h,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort((x,w)=>function(A,k){const O=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return O(A)-O(k)}(x.type,w.type)||this.Aa(x.doc,w.doc)),this.pa(r),i=i!=null&&i;const h=n&&!i?this.ya():[],p=this.da.size===0&&this.current&&!i?1:0,g=p!==this.Ea;return this.Ea=p,c.length!==0||g?{snapshot:new Fu(this.query,e.Ra,o,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $C,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Tt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Z3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Q3(r))}),n}ba(e){this.Ta=e.Ts,this.da=Tt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Fu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class BV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VV{constructor(e){this.key=e,this.va=!1}}class UV{constructor(e,n,r,i,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new fd(h=>g3(h),yg),this.Ma=new Map,this.xa=new Set,this.Oa=new Sn(qe.comparator),this.Na=new Map,this.La=new K2,this.Ba={},this.ka=new Map,this.qa=Lu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function jV(t,e,n=!0){const r=i4(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await J3(r,e,n,!0),i}async function zV(t,e){const n=i4(t);await J3(n,e,!0,!1)}async function J3(t,e,n,r){const i=await uV(t.localStore,Ys(e)),o=i.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await $V(t,e,o,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&z3(t.remoteStore,i),h}async function $V(t,e,n,r,i){t.Ka=(w,C,A)=>async function(O,U,D,I){let R=U.view.ma(D);R.ns&&(R=await VC(O.localStore,U.query,!1).then(({documents:S})=>U.view.ma(S,R)));const V=I&&I.targetChanges.get(U.targetId),H=I&&I.targetMismatches.get(U.targetId)!=null,X=U.view.applyChanges(R,O.isPrimaryClient,V,H);return qC(O,U.targetId,X.wa),X.snapshot}(t,w,C,A);const o=await VC(t.localStore,e,!0),c=new FV(e,o.Ts),h=c.ma(o.documents),p=Mf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),g=c.applyChanges(h,t.isPrimaryClient,p);qC(t,n,g.wa);const x=new BV(e,n,c);return t.Fa.set(e,x),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),g.snapshot}async function WV(t,e,n){const r=at(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(c=>!yg(c,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Q2(r.remoteStore,i.targetId),Bv(r,i.targetId)}).catch(kf)):(Bv(r,i.targetId),await Lv(r.localStore,i.targetId,!0))}async function HV(t,e){const n=at(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Q2(n.remoteStore,r.targetId))}async function GV(t,e,n){const r=JV(t);try{const i=await function(c,h){const p=at(c),g=nn.now(),x=h.reduce((A,k)=>A.add(k.key),Tt());let w,C;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let k=Lo(),O=Tt();return p.cs.getEntries(A,x).next(U=>{k=U,k.forEach((D,I)=>{I.isValidDocument()||(O=O.add(D))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,k)).next(U=>{w=U;const D=[];for(const I of h){const R=pB(I,w.get(I.key).overlayedDocument);R!=null&&D.push(new ac(I.key,R,a3(R.value.mapValue),Io.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,D,h)}).next(U=>{C=U;const D=U.applyToLocalDocumentSet(w,O);return p.documentOverlayCache.saveOverlays(A,U.batchId,D)})}).then(()=>({batchId:C.batchId,changes:v3(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){let g=c.Ba[c.currentUser.toKey()];g||(g=new Sn(Ut)),g=g.insert(h,p),c.Ba[c.currentUser.toKey()]=g}(r,i.batchId,n),await Ff(r,i.changes),await Ig(r.remoteStore)}catch(i){const o=nw(i,"Failed to persist write");n.reject(o)}}async function e4(t,e){const n=at(t);try{const r=await aV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const c=n.Na.get(o);c&&(Qt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?Qt(c.va):i.removedDocuments.size>0&&(Qt(c.va),c.va=!1))}),await Ff(n,r,e)}catch(r){await kf(r)}}function GC(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,c)=>{const h=c.view.Z_(e);h.snapshot&&i.push(h.snapshot)}),function(c,h){const p=at(c);p.onlineState=h;let g=!1;p.queries.forEach((x,w)=>{for(const C of w.j_)C.Z_(h)&&(g=!0)}),g&&rw(p)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qV(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let c=new Sn(qe.comparator);c=c.insert(o,Br.newNoDocument(o,ot.min()));const h=Tt().add(o),p=new _g(ot.min(),new Map,new Sn(Ut),c,h);await e4(r,p),r.Oa=r.Oa.remove(o),r.Na.delete(e),iw(r)}else await Lv(r.localStore,e,!1).then(()=>Bv(r,e,n)).catch(kf)}async function KV(t,e){const n=at(t),r=e.batch.batchId;try{const i=await oV(n.localStore,e);n4(n,r,null),t4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(n,i)}catch(i){await kf(i)}}async function XV(t,e,n){const r=at(t);try{const i=await function(c,h){const p=at(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let x;return p.mutationQueue.lookupMutationBatch(g,h).next(w=>(Qt(w!==null),x=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,x,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x)).next(()=>p.localDocuments.getDocuments(g,x))})}(r.localStore,e);n4(r,e,n),t4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ff(r,i)}catch(i){await kf(i)}}function t4(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function n4(t,e,n){const r=at(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Bv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||r4(t,r)})}function r4(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Q2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),iw(t))}function qC(t,e,n){for(const r of n)r instanceof Q3?(t.La.addReference(r.key,e),YV(t,r)):r instanceof Z3?(je("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||r4(t,r.key)):it()}function YV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(je("SyncEngine","New document in limbo: "+n),t.xa.add(r),iw(t))}function iw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new qe(yn.fromString(e)),r=t.qa.next();t.Na.set(r,new VV(n)),t.Oa=t.Oa.insert(n,r),z3(t.remoteStore,new wa(Ys($2(n.path)),r,"TargetPurposeLimboResolution",F2.oe))}}async function Ff(t,e,n){const r=at(t),i=[],o=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach((h,p)=>{c.push(r.Ka(p,e,n).then(g=>{var x;if((g||n)&&r.isPrimaryClient){const w=g?!g.fromCache:(x=n==null?void 0:n.targetChanges.get(p.targetId))===null||x===void 0?void 0:x.current;r.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){i.push(g);const w=Y2.Wi(p.targetId,g);o.push(w)}}))}),await Promise.all(c),r.Ca.d_(i),await async function(p,g){const x=at(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ve.forEach(g,C=>ve.forEach(C.$i,A=>x.persistence.referenceDelegate.addReference(w,C.targetId,A)).next(()=>ve.forEach(C.Ui,A=>x.persistence.referenceDelegate.removeReference(w,C.targetId,A)))))}catch(w){if(!Df(w))throw w;je("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const C=w.targetId;if(!w.fromCache){const A=x.os.get(C),k=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(k);x.os=x.os.insert(C,O)}}}(r.localStore,o))}async function QV(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=await B3(n.localStore,e);n.currentUser=e,function(o,c){o.ka.forEach(h=>{h.forEach(p=>{p.reject(new Be(fe.CANCELLED,c))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ff(n,r.hs)}}function ZV(t,e){const n=at(t),r=n.Na.get(e);if(r&&r.va)return Tt().add(r.key);{let i=Tt();const o=n.Ma.get(e);if(!o)return i;for(const c of o){const h=n.Fa.get(c);i=i.unionWith(h.view.Va)}return i}}function i4(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qV.bind(null,e),e.Ca.d_=MV.bind(null,e.eventManager),e.Ca.$a=LV.bind(null,e.eventManager),e}function JV(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XV.bind(null,e),e}class J0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return sV(this.persistence,new rV,e.initialUser,this.serializer)}Ga(e){return new eV(X2.Zr,this.serializer)}Wa(e){return new hV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}J0.provider={build:()=>new J0};class Vv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QV.bind(null,this.syncEngine),await OV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DV}()}createDatastore(e){const n=Cg(e.databaseInfo.databaseId),r=function(o){return new mV(o)}(e.databaseInfo);return function(o,c,h,p){return new xV(o,c,h,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,c,h){return new EV(r,i,o,c,h)}(this.localStore,this.datastore,e.asyncQueue,n=>GC(this.syncEngine,n,0),function(){return jC.D()?new jC:new fV}())}createSyncEngine(e,n){return function(i,o,c,h,p,g,x){const w=new UV(i,o,c,h,p,g);return x&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=at(i);je("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Lf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vv.provider={build:()=>new Vv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Mo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dr.UNAUTHENTICATED,this.clientId=i3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{je("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wm(t,e){t.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await B3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function KC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tU(t);je("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zC(e.remoteStore,i)),t._onlineComponents=e}async function tU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ou("Error using user provided cache. Falling back to memory cache: "+n),await Wm(t,new J0)}}else je("FirestoreClient","Using default OfflineComponentProvider"),await Wm(t,new J0);return t._offlineComponents}async function o4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),await KC(t,t._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),await KC(t,new Vv))),t._onlineComponents}function nU(t){return o4(t).then(e=>e.syncEngine)}async function a4(t){const e=await o4(t),n=e.eventManager;return n.onListen=jV.bind(null,e.syncEngine),n.onUnlisten=WV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HV.bind(null,e.syncEngine),n}function rU(t,e,n={}){const r=new bo;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,h,p,g){const x=new s4({next:C=>{x.Za(),c.enqueueAndForget(()=>X3(o,w));const A=C.docs.has(h);!A&&C.fromCache?g.reject(new Be(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&C.fromCache&&p&&p.source==="server"?g.reject(new Be(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(C)},error:C=>g.reject(C)}),w=new Y3($2(h.path),x,{includeMetadataChanges:!0,_a:!0});return K3(o,w)}(await a4(t),t.asyncQueue,e,n,r)),r.promise}function iU(t,e,n={}){const r=new bo;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,h,p,g){const x=new s4({next:C=>{x.Za(),c.enqueueAndForget(()=>X3(o,w)),C.fromCache&&p.source==="server"?g.reject(new Be(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),w=new Y3(h,x,{includeMetadataChanges:!0,_a:!0});return K3(o,w)}(await a4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t,e,n){if(!n)throw new Be(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sU(t,e,n,r){if(e===!0&&r===!0)throw new Be(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YC(t){if(!qe.isDocumentKey(t))throw new Be(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QC(t){if(qe.isDocumentKey(t))throw new Be(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it()}function Zl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ag(t);throw new Be(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Be(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CF;switch(r.type){case"firstParty":return new TF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XC.get(n);r&&(je("ComponentProvider","Removing Datastore"),XC.delete(n),r.terminate())}(this),Promise.resolve()}}function oU(t,e,n,r={}){var i;const o=(t=Zl(t,Tg))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&Ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Dr.MOCK_USER;else{h=V5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Be(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Dr(g)}t._authCredentials=new bF(new r3(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class vi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class Da extends cc{constructor(e,n,r){super(e,n,$2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new qe(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Sg(t,e,...n){if(t=fr(t),c4("collection","path",e),t instanceof Tg){const r=yn.fromString(e,...n);return QC(r),new Da(t,null,r)}{if(!(t instanceof vi||t instanceof Da))throw new Be(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return QC(r),new Da(t.firestore,null,r)}}function gd(t,e,...n){if(t=fr(t),arguments.length===1&&(e=i3.newId()),c4("doc","path",e),t instanceof Tg){const r=yn.fromString(e,...n);return YC(r),new vi(t,null,new qe(r))}{if(!(t instanceof vi||t instanceof Da))throw new Be(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return YC(r),new vi(t.firestore,t instanceof Da?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new U3(this,"async_queue_retry"),this.Vu=()=>{const r=$m();r&&je("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new bo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Df(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(r);throw Mo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=tw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&it()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Rg extends Tg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JC(e),this._firestoreClient=void 0,await e}}}function aU(t,e){const n=typeof t=="object"?t:gR(),r=typeof t=="string"?t:"(default)",i=A2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=F5("firestore");o&&oU(i,...o)}return i}function sw(t){if(t._terminated)throw new Be(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lU(t),t._firestoreClient}function lU(t){var e,n,r;const i=t._freezeSettings(),o=function(h,p,g,x){return new UF(h,p,g,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,l4(x.experimentalLongPollingOptions),x.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eU(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bu(Tr.fromBase64String(e))}catch(n){throw new Be(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bu(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Be(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Be(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Be(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=/^__.*__$/;class u4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ac(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function d4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class cw{constructor(e,n,r,i,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return e1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(d4(this.Cu)&&cU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cg(e)}Qu(e,n,r,i=!1){return new cw({Cu:e,methodName:n,qu:r,path:Cr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h4(t){const e=t._freezeSettings(),n=Cg(t._databaseId);return new uU(t._databaseId,!!e.ignoreUndefinedProperties,n)}class Ng extends ow{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ng}}function dU(t,e,n,r){const i=t.Qu(1,e,n);p4("Data must be an object, but it was:",i,r);const o=[],c=ki.empty();oc(r,(p,g)=>{const x=uw(e,p,n);g=fr(g);const w=i.Nu(x);if(g instanceof Ng)o.push(x);else{const C=Bf(g,w);C!=null&&(o.push(x),c.set(x,C))}});const h=new ws(o);return new u4(c,h,i.fieldTransforms)}function hU(t,e,n,r,i,o){const c=t.Qu(1,e,n),h=[eb(e,r,n)],p=[i];if(o.length%2!=0)throw new Be(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)h.push(eb(e,o[C])),p.push(o[C+1]);const g=[],x=ki.empty();for(let C=h.length-1;C>=0;--C)if(!mU(g,h[C])){const A=h[C];let k=p[C];k=fr(k);const O=c.Nu(A);if(k instanceof Ng)g.push(A);else{const U=Bf(k,O);U!=null&&(g.push(A),x.set(A,U))}}const w=new ws(g);return new u4(x,w,c.fieldTransforms)}function fU(t,e,n,r=!1){return Bf(n,t.Qu(r?4:3,e))}function Bf(t,e){if(f4(t=fr(t)))return p4("Unsupported field value:",e,t),pU(t,e);if(t instanceof ow)return function(r,i){if(!d4(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let c=0;for(const h of r){let p=Bf(h,i.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=fr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=nn.fromDate(r);return{timestampValue:Q0(i.serializer,o)}}if(r instanceof nn){const o=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Q0(i.serializer,o)}}if(r instanceof aw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bu)return{bytesValue:N3(i.serializer,r._byteString)};if(r instanceof vi){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:q2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lw)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.Bu("VectorValues must only contain numeric values.");return W2(h.serializer,p)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ag(r)}`)}(t,e)}function pU(t,e){const n={};return s3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oc(t,(r,i)=>{const o=Bf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function f4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof aw||t instanceof Bu||t instanceof vi||t instanceof ow||t instanceof lw)}function p4(t,e,n){if(!f4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ag(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function eb(t,e,n){if((e=fr(e))instanceof Pg)return e._internalPath;if(typeof e=="string")return uw(t,e);throw e1("Field path arguments must be of type string or ",t,!1,void 0,n)}const gU=new RegExp("[~\\*/\\[\\]]");function uw(t,e,n){if(e.search(gU)>=0)throw e1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pg(...e.split("."))._internalPath}catch{throw e1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function e1(t,e,n,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new Be(fe.INVALID_ARGUMENT,h+t+p)}function mU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yU extends g4{data(){return super.data()}}function Og(t,e){return typeof e=="string"?uw(t,e):e instanceof Pg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dw{}class m4 extends dw{}function t1(t,e,...n){let r=[];e instanceof dw&&r.push(e),r=r.concat(n),function(o){const c=o.filter(p=>p instanceof hw).length,h=o.filter(p=>p instanceof kg).length;if(c>1||c>0&&h>0)throw new Be(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kg extends m4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kg(e,n,r)}_apply(e){const n=this._parse(e);return y4(e._query,n),new cc(e.firestore,e.converter,Pv(e._query,n))}_parse(e){const n=h4(e.firestore);return function(o,c,h,p,g,x,w){let C;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Be(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){nb(w,x);const A=[];for(const k of w)A.push(tb(p,o,k));C={arrayValue:{values:A}}}else C=tb(p,o,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||nb(w,x),C=fU(h,c,w,x==="in"||x==="not-in");return Yn.create(g,x,C)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Uv(t,e,n){const r=e,i=Og("where",t);return kg._create(i,r,n)}class hw extends dw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let c=i;const h=o.getFlattenedFilters();for(const p of h)y4(c,p),c=Pv(c,p)}(e._query,n),new cc(e.firestore,e.converter,Pv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fw extends m4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fw(e,n)}_apply(e){const n=function(i,o,c){if(i.startAt!==null)throw new Be(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Be(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nf(o,c)}(e._query,this._field,this._direction);return new cc(e.firestore,e.converter,function(i,o){const c=i.explicitOrderBy.concat([o]);return new hd(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function xU(t,e="asc"){const n=e,r=Og("orderBy",t);return fw._create(r,n)}function tb(t,e,n){if(typeof(n=fr(n))=="string"){if(n==="")throw new Be(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p3(e)&&n.indexOf("/")!==-1)throw new Be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yn.fromString(n));if(!qe.isDocumentKey(r))throw new Be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _C(t,new qe(r))}if(n instanceof vi)return _C(t,n._key);throw new Be(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ag(n)}.`)}function nb(t,e){if(!Array.isArray(t)||t.length===0)throw new Be(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y4(t,e){const n=function(i,o){for(const c of i)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Be(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wU{convertValue(e,n="none"){switch(Ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw it()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(c=>zn(c.doubleValue));return new lw(o)}convertGeoPoint(e){return new aw(zn(e.latitude),zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=V2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jh(e));default:return null}}convertTimestamp(e){const n=Va(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yn.fromString(e);Qt(F3(r));const i=new ef(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return i.isEqual(n)||Mo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v4 extends g4{constructor(e,n,r,i,o,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new s0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class s0 extends v4{data(e={}){return super.data(e)}}class EU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new s0(this._firestore,this._userDataWriter,r.key,r,new nh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(h=>{const p=new s0(i._firestore,i._userDataWriter,h.doc.key,h.doc,new nh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const p=new s0(i._firestore,i._userDataWriter,h.doc.key,h.doc,new nh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,x=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),x=c.indexOf(h.doc.key)),{type:_U(h.type),doc:p,oldIndex:g,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _U(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){t=Zl(t,vi);const e=Zl(t.firestore,Rg);return rU(sw(e),t._key).then(n=>bU(e,t,n))}class w4 extends wU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,n)}}function Vu(t){t=Zl(t,cc);const e=Zl(t.firestore,Rg),n=sw(e),r=new w4(e);return vU(t._query),iU(n,t._query).then(i=>new EU(e,r,t,i))}function Vf(t,e,n,...r){t=Zl(t,vi);const i=Zl(t.firestore,Rg),o=h4(i);let c;return c=typeof(e=fr(e))=="string"||e instanceof Pg?hU(o,"updateDoc",t._key,e,n,r):dU(o,"updateDoc",t._key,e),CU(i,[c.toMutation(t._key,Io.exists(!0))])}function CU(t,e){return function(r,i){const o=new bo;return r.asyncQueue.enqueueAndForget(async()=>GV(await nU(r),i,o)),o.promise}(sw(t),e)}function bU(t,e,n){const r=n.docs.get(e._key),i=new w4(t);return new v4(t,i,e._key,r,new nh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){dd=i})(ld),Pu(new ql("firestore",(r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new Rg(new IF(r.getProvider("auth-internal")),new RF(r.getProvider("app-check-internal")),function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Be(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ef(g.options.projectId,x)}(c,i),c);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Oa(yC,"4.7.3",e),Oa(yC,"4.7.3","esm2017")})();const IU={apiKey:"AIzaSyCFtUVHKtADWllccdnlbougsnsntEUHQDA",authDomain:"simplipharma.firebaseapp.com",projectId:"simplipharma",storageBucket:"simplipharma.firebasestorage.app",messagingSenderId:"343720215451",appId:"1:343720215451:android:d2576ba41a99a5681e973e"},E4=pR(IU),of=EF(E4),Js=aU(E4),AU=async(t,e)=>await oL(of,t,e),TU=async()=>await uL(of),_4=t=>cL(of,t),SU=async t=>{const e=gd(Js,"users",t),n=await x4(e);return n.exists()?{id:n.id,...n.data()}:null},jv=async t=>{try{const e=await SU(t);return(e==null?void 0:e.role)==="admin"}catch(e){return console.error("Error checking admin status:",e),!1}};function RU(t){return He("MuiSvgIcon",t)}Ke("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const PU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],NU=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ge(e)}`,`fontSize${ge(n)}`]};return Xe(i,RU,r)},OU=xe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ge(n.color)}`],e[`fontSize${ge(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,c,h,p,g,x,w,C,A,k;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(c=o.pxToRem)==null?void 0:c.call(o,20))||"1.25rem",medium:((h=t.typography)==null||(p=h.pxToRem)==null?void 0:p.call(h,24))||"1.5rem",large:((g=t.typography)==null||(x=g.pxToRem)==null?void 0:x.call(g,35))||"2.1875rem"}[e.fontSize],color:(w=(C=(t.vars||t).palette)==null||(C=C[e.color])==null?void 0:C.main)!=null?w:{action:(A=(t.vars||t).palette)==null||(A=A.action)==null?void 0:A.active,disabled:(k=(t.vars||t).palette)==null||(k=k.action)==null?void 0:k.disabled,inherit:void 0}[e.color]}}),zv=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:c="inherit",component:h="svg",fontSize:p="medium",htmlColor:g,inheritViewBox:x=!1,titleAccess:w,viewBox:C="0 0 24 24"}=r,A=Ie(r,PU),k=B.isValidElement(i)&&i.type==="svg",O=$({},r,{color:c,component:h,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:C,hasSvgAsChild:k}),U={};x||(U.viewBox=C);const D=NU(O);return _.jsxs(OU,$({as:h,className:Se(D.root,o),focusable:"false",color:g,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:n},U,A,k&&i.props,{ownerState:O,children:[k?i.props.children:i,w?_.jsx("title",{children:w}):null]}))});zv.muiName="SvgIcon";function xn(t,e){function n(r,i){return _.jsx(zv,$({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=zv.muiName,B.memo(B.forwardRef(n))}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$v(t,e)}function C4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$v(t,e)}const rb={disabled:!1},n1=xs.createContext(null);var kU=function(e){return e.scrollTop},rh="unmounted",fl="exited",pl="entering",Nc="entered",Wv="exiting",Ss=function(t){C4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var c=i,h=c&&!c.isMounting?r.enter:r.appear,p;return o.appearStatus=null,r.in?h?(p=fl,o.appearStatus=pl):p=Nc:r.unmountOnExit||r.mountOnEnter?p=rh:p=fl,o.state={status:p},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var c=i.in;return c&&o.status===rh?{status:fl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var c=this.state.status;this.props.in?c!==pl&&c!==Nc&&(o=pl):(c===pl||c===Nc)&&(o=Wv)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,c,h;return o=c=h=i,i!=null&&typeof i!="number"&&(o=i.exit,c=i.enter,h=i.appear!==void 0?i.appear:c),{exit:o,enter:c,appear:h}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===pl){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:yp.findDOMNode(this);c&&kU(c)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fl&&this.setState({status:rh})},n.performEnter=function(i){var o=this,c=this.props.enter,h=this.context?this.context.isMounting:i,p=this.props.nodeRef?[h]:[yp.findDOMNode(this),h],g=p[0],x=p[1],w=this.getTimeouts(),C=h?w.appear:w.enter;if(!i&&!c||rb.disabled){this.safeSetState({status:Nc},function(){o.props.onEntered(g)});return}this.props.onEnter(g,x),this.safeSetState({status:pl},function(){o.props.onEntering(g,x),o.onTransitionEnd(C,function(){o.safeSetState({status:Nc},function(){o.props.onEntered(g,x)})})})},n.performExit=function(){var i=this,o=this.props.exit,c=this.getTimeouts(),h=this.props.nodeRef?void 0:yp.findDOMNode(this);if(!o||rb.disabled){this.safeSetState({status:fl},function(){i.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Wv},function(){i.props.onExiting(h),i.onTransitionEnd(c.exit,function(){i.safeSetState({status:fl},function(){i.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,c=!0;return this.nextCallback=function(h){c&&(c=!1,o.nextCallback=null,i(h))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:yp.findDOMNode(this),h=i==null&&!this.props.addEndListener;if(!c||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],x=p[1];this.props.addEndListener(g,x)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===rh)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var h=Ie(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xs.createElement(n1.Provider,{value:null},typeof c=="function"?c(i,h):xs.cloneElement(xs.Children.only(c),h))},e}(xs.Component);Ss.contextType=n1;Ss.propTypes={};function Ic(){}Ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ic,onEntering:Ic,onEntered:Ic,onExit:Ic,onExiting:Ic,onExited:Ic};Ss.UNMOUNTED=rh;Ss.EXITED=fl;Ss.ENTERING=pl;Ss.ENTERED=Nc;Ss.EXITING=Wv;function DU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pw(t,e){var n=function(o){return e&&B.isValidElement(o)?e(o):o},r=Object.create(null);return t&&B.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function MU(t,e){t=t||{},e=e||{};function n(x){return x in e?e[x]:t[x]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var c,h={};for(var p in e){if(r[p])for(c=0;c<r[p].length;c++){var g=r[p][c];h[r[p][c]]=n(g)}h[p]=n(p)}for(c=0;c<i.length;c++)h[i[c]]=n(i[c]);return h}function _l(t,e,n){return n[e]!=null?n[e]:t.props[e]}function LU(t,e){return pw(t.children,function(n){return B.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:_l(n,"appear",t),enter:_l(n,"enter",t),exit:_l(n,"exit",t)})})}function FU(t,e,n){var r=pw(t.children),i=MU(e,r);return Object.keys(i).forEach(function(o){var c=i[o];if(B.isValidElement(c)){var h=o in e,p=o in r,g=e[o],x=B.isValidElement(g)&&!g.props.in;p&&(!h||x)?i[o]=B.cloneElement(c,{onExited:n.bind(null,c),in:!0,exit:_l(c,"exit",t),enter:_l(c,"enter",t)}):!p&&h&&!x?i[o]=B.cloneElement(c,{in:!1}):p&&h&&B.isValidElement(g)&&(i[o]=B.cloneElement(c,{onExited:n.bind(null,c),in:g.props.in,exit:_l(c,"exit",t),enter:_l(c,"enter",t)}))}}),i}var BU=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},VU={component:"div",childFactory:function(e){return e}},gw=function(t){C4(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var c=o.handleExited.bind(DU(o));return o.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var c=o.children,h=o.handleExited,p=o.firstRender;return{children:p?LU(i,h):FU(i,c,h),firstRender:!1}},n.handleExited=function(i,o){var c=pw(this.props.children);i.key in c||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(h){var p=$({},h.children);return delete p[i.key],{children:p}}))},n.render=function(){var i=this.props,o=i.component,c=i.childFactory,h=Ie(i,["component","childFactory"]),p=this.state.contextValue,g=BU(this.state.children).map(c);return delete h.appear,delete h.enter,delete h.exit,o===null?xs.createElement(n1.Provider,{value:p},g):xs.createElement(n1.Provider,{value:p},xs.createElement(o,h,g))},e}(xs.Component);gw.propTypes={};gw.defaultProps=VU;const mw=t=>t.scrollTop;function Uu(t,e){var n,r;const{timeout:i,easing:o,style:c={}}=t;return{duration:(n=c.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=c.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:c.transitionDelay}}function UU(t){return He("MuiPaper",t)}Ke("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const jU=["className","component","elevation","square","variant"],zU=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Xe(o,UU,i)},$U=xe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return $({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&$({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${wt("#fff",V_(e.elevation))}, ${wt("#fff",V_(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Ei=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:c=1,square:h=!1,variant:p="elevation"}=r,g=Ie(r,jU),x=$({},r,{component:o,elevation:c,square:h,variant:p}),w=zU(x);return _.jsx($U,$({as:o,ownerState:x,className:Se(w.root,i),ref:n},g))}),WU=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],HU=["component","slots","slotProps"],GU=["component"];function ib(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:c,internalForwardedProps:h}=e,p=Ie(e,WU),{component:g,slots:x={[t]:void 0},slotProps:w={[t]:void 0}}=o,C=Ie(o,HU),A=x[t]||r,k=zS(w[t],i),O=jS($({className:n},p,{externalForwardedProps:t==="root"?C:void 0,externalSlotProps:k})),{props:{component:U},internalRef:D}=O,I=Ie(O.props,GU),R=Zn(D,k==null?void 0:k.ref,e.ref),V=c?c(I):{},H=$({},i,V),X=t==="root"?U||g:U,S=VS(A,$({},t==="root"&&!g&&!x[t]&&h,t!=="root"&&!x[t]&&h,I,X&&{as:X},{ref:R}),H);return Object.keys(V).forEach(M=>{delete S[M]}),[A,S]}function qU(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:c,in:h,onExited:p,timeout:g}=t,[x,w]=B.useState(!1),C=Se(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),A={width:c,height:c,top:-(c/2)+o,left:-(c/2)+i},k=Se(n.child,x&&n.childLeaving,r&&n.childPulsate);return!h&&!x&&w(!0),B.useEffect(()=>{if(!h&&p!=null){const O=setTimeout(p,g);return()=>{clearTimeout(O)}}},[p,h,g]),_.jsx("span",{className:C,style:A,children:_.jsx("span",{className:k})})}const Yi=Ke("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),KU=["center","classes","className"];let Dg=t=>t,sb,ob,ab,lb;const Hv=550,XU=80,YU=td(sb||(sb=Dg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),QU=td(ob||(ob=Dg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),ZU=td(ab||(ab=Dg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),JU=xe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ej=xe(qU,{name:"MuiTouchRipple",slot:"Ripple"})(lb||(lb=Dg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Yi.rippleVisible,YU,Hv,({theme:t})=>t.transitions.easing.easeInOut,Yi.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Yi.child,Yi.childLeaving,QU,Hv,({theme:t})=>t.transitions.easing.easeInOut,Yi.childPulsate,ZU,({theme:t})=>t.transitions.easing.easeInOut),tj=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:c}=r,h=Ie(r,KU),[p,g]=B.useState([]),x=B.useRef(0),w=B.useRef(null);B.useEffect(()=>{w.current&&(w.current(),w.current=null)},[p]);const C=B.useRef(!1),A=FS(),k=B.useRef(null),O=B.useRef(null),U=B.useCallback(V=>{const{pulsate:H,rippleX:X,rippleY:S,rippleSize:M,cb:N}=V;g(W=>[...W,_.jsx(ej,{classes:{ripple:Se(o.ripple,Yi.ripple),rippleVisible:Se(o.rippleVisible,Yi.rippleVisible),ripplePulsate:Se(o.ripplePulsate,Yi.ripplePulsate),child:Se(o.child,Yi.child),childLeaving:Se(o.childLeaving,Yi.childLeaving),childPulsate:Se(o.childPulsate,Yi.childPulsate)},timeout:Hv,pulsate:H,rippleX:X,rippleY:S,rippleSize:M},x.current)]),x.current+=1,w.current=N},[o]),D=B.useCallback((V={},H={},X=()=>{})=>{const{pulsate:S=!1,center:M=i||H.pulsate,fakeElement:N=!1}=H;if((V==null?void 0:V.type)==="mousedown"&&C.current){C.current=!1;return}(V==null?void 0:V.type)==="touchstart"&&(C.current=!0);const W=N?null:O.current,G=W?W.getBoundingClientRect():{width:0,height:0,left:0,top:0};let q,z,ue;if(M||V===void 0||V.clientX===0&&V.clientY===0||!V.clientX&&!V.touches)q=Math.round(G.width/2),z=Math.round(G.height/2);else{const{clientX:Z,clientY:me}=V.touches&&V.touches.length>0?V.touches[0]:V;q=Math.round(Z-G.left),z=Math.round(me-G.top)}if(M)ue=Math.sqrt((2*G.width**2+G.height**2)/3),ue%2===0&&(ue+=1);else{const Z=Math.max(Math.abs((W?W.clientWidth:0)-q),q)*2+2,me=Math.max(Math.abs((W?W.clientHeight:0)-z),z)*2+2;ue=Math.sqrt(Z**2+me**2)}V!=null&&V.touches?k.current===null&&(k.current=()=>{U({pulsate:S,rippleX:q,rippleY:z,rippleSize:ue,cb:X})},A.start(XU,()=>{k.current&&(k.current(),k.current=null)})):U({pulsate:S,rippleX:q,rippleY:z,rippleSize:ue,cb:X})},[i,U,A]),I=B.useCallback(()=>{D({},{pulsate:!0})},[D]),R=B.useCallback((V,H)=>{if(A.clear(),(V==null?void 0:V.type)==="touchend"&&k.current){k.current(),k.current=null,A.start(0,()=>{R(V,H)});return}k.current=null,g(X=>X.length>0?X.slice(1):X),w.current=H},[A]);return B.useImperativeHandle(n,()=>({pulsate:I,start:D,stop:R}),[I,D,R]),_.jsx(JU,$({className:Se(Yi.root,o.root,c),ref:O},h,{children:_.jsx(gw,{component:null,exit:!0,children:p})}))});function nj(t){return He("MuiButtonBase",t)}const rj=Ke("MuiButtonBase",["root","disabled","focusVisible"]),ij=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],sj=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,c=Xe({root:["root",e&&"disabled",n&&"focusVisible"]},nj,i);return n&&r&&(c.root+=` ${r}`),c},oj=xe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${rj.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ja=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:c,className:h,component:p="button",disabled:g=!1,disableRipple:x=!1,disableTouchRipple:w=!1,focusRipple:C=!1,LinkComponent:A="a",onBlur:k,onClick:O,onContextMenu:U,onDragLeave:D,onFocus:I,onFocusVisible:R,onKeyDown:V,onKeyUp:H,onMouseDown:X,onMouseLeave:S,onMouseUp:M,onTouchEnd:N,onTouchMove:W,onTouchStart:G,tabIndex:q=0,TouchRippleProps:z,touchRippleRef:ue,type:Z}=r,me=Ie(r,ij),de=B.useRef(null),ne=B.useRef(null),ce=Zn(ne,ue),{isFocusVisibleRef:Ce,onFocus:et,onBlur:Ue,ref:Qe}=KD(),[ze,gt]=B.useState(!1);g&&ze&&gt(!1),B.useImperativeHandle(i,()=>({focusVisible:()=>{gt(!0),de.current.focus()}}),[]);const[Ae,Jt]=B.useState(!1);B.useEffect(()=>{Jt(!0)},[]);const _t=Ae&&!x&&!g;B.useEffect(()=>{ze&&C&&!x&&Ae&&ne.current.pulsate()},[x,C,ze,Ae]);function qt(Le,zr,zi=w){return wl(_i=>(zr&&zr(_i),!zi&&ne.current&&ne.current[Le](_i),!0))}const un=qt("start",X),Je=qt("stop",U),Ft=qt("stop",D),De=qt("stop",M),ft=qt("stop",Le=>{ze&&Le.preventDefault(),S&&S(Le)}),pt=qt("start",G),gr=qt("stop",N),Bt=qt("stop",W),ct=qt("stop",Le=>{Ue(Le),Ce.current===!1&&gt(!1),k&&k(Le)},!1),nt=wl(Le=>{de.current||(de.current=Le.currentTarget),et(Le),Ce.current===!0&&(gt(!0),R&&R(Le)),I&&I(Le)}),Fn=()=>{const Le=de.current;return p&&p!=="button"&&!(Le.tagName==="A"&&Le.href)},be=B.useRef(!1),Sr=wl(Le=>{C&&!be.current&&ze&&ne.current&&Le.key===" "&&(be.current=!0,ne.current.stop(Le,()=>{ne.current.start(Le)})),Le.target===Le.currentTarget&&Fn()&&Le.key===" "&&Le.preventDefault(),V&&V(Le),Le.target===Le.currentTarget&&Fn()&&Le.key==="Enter"&&!g&&(Le.preventDefault(),O&&O(Le))}),Bn=wl(Le=>{C&&Le.key===" "&&ne.current&&ze&&!Le.defaultPrevented&&(be.current=!1,ne.current.stop(Le,()=>{ne.current.pulsate(Le)})),H&&H(Le),O&&Le.target===Le.currentTarget&&Fn()&&Le.key===" "&&!Le.defaultPrevented&&O(Le)});let mt=p;mt==="button"&&(me.href||me.to)&&(mt=A);const mr={};mt==="button"?(mr.type=Z===void 0?"button":Z,mr.disabled=g):(!me.href&&!me.to&&(mr.role="button"),g&&(mr["aria-disabled"]=g));const vt=Zn(n,Qe,de),en=$({},r,{centerRipple:o,component:p,disabled:g,disableRipple:x,disableTouchRipple:w,focusRipple:C,tabIndex:q,focusVisible:ze}),dt=sj(en);return _.jsxs(oj,$({as:mt,className:Se(dt.root,h),ownerState:en,onBlur:ct,onClick:O,onContextMenu:Je,onFocus:nt,onKeyDown:Sr,onKeyUp:Bn,onMouseDown:un,onMouseLeave:ft,onMouseUp:De,onDragLeave:Ft,onTouchEnd:gr,onTouchMove:Bt,onTouchStart:pt,ref:vt,tabIndex:g?-1:q,type:Z},mr,me,{children:[c,_t?_.jsx(tj,$({ref:ce,center:o},z)):null]}))});function aj(t){return He("MuiAlert",t)}const cb=Ke("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function lj(t){return He("MuiIconButton",t)}const cj=Ke("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),uj=["edge","children","className","color","disabled","disableFocusRipple","size"],dj=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,c={root:["root",n&&"disabled",r!=="default"&&`color${ge(r)}`,i&&`edge${ge(i)}`,`size${ge(o)}`]};return Xe(c,lj,e)},hj=xe(ja,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ge(n.color)}`],n.edge&&e[`edge${ge(n.edge)}`],e[`size${ge(n.size)}`]]}})(({theme:t,ownerState:e})=>$({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:wt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return $({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&$({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":$({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:wt(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${cj.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Ma=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:c,color:h="default",disabled:p=!1,disableFocusRipple:g=!1,size:x="medium"}=r,w=Ie(r,uj),C=$({},r,{edge:i,color:h,disabled:p,disableFocusRipple:g,size:x}),A=dj(C);return _.jsx(hj,$({className:Se(A.root,c),centerRipple:!0,focusRipple:!g,disabled:p,ref:n},w,{ownerState:C,children:o}))}),fj=xn(_.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),pj=xn(_.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),gj=xn(_.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),mj=xn(_.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),yj=xn(_.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),vj=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],xj=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${ge(n||r)}`,`${e}${ge(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Xe(o,aj,i)},wj=xe(Ei,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ge(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?Gh:qh,n=t.palette.mode==="light"?qh:Gh;return $({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${cb.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${cb.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:$({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),Ej=xe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),_j=xe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),ub=xe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),db={success:_.jsx(fj,{fontSize:"inherit"}),warning:_.jsx(pj,{fontSize:"inherit"}),error:_.jsx(gj,{fontSize:"inherit"}),info:_.jsx(mj,{fontSize:"inherit"})},Ao=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiAlert"}),{action:i,children:o,className:c,closeText:h="Close",color:p,components:g={},componentsProps:x={},icon:w,iconMapping:C=db,onClose:A,role:k="alert",severity:O="success",slotProps:U={},slots:D={},variant:I="standard"}=r,R=Ie(r,vj),V=$({},r,{color:p,severity:O,variant:I,colorSeverity:p||O}),H=xj(V),X={slots:$({closeButton:g.CloseButton,closeIcon:g.CloseIcon},D),slotProps:$({},x,U)},[S,M]=ib("closeButton",{elementType:Ma,externalForwardedProps:X,ownerState:V}),[N,W]=ib("closeIcon",{elementType:yj,externalForwardedProps:X,ownerState:V});return _.jsxs(wj,$({role:k,elevation:0,ownerState:V,className:Se(H.root,c),ref:n},R,{children:[w!==!1?_.jsx(Ej,{ownerState:V,className:H.icon,children:w||C[O]||db[O]}):null,_.jsx(_j,{ownerState:V,className:H.message,children:o}),i!=null?_.jsx(ub,{ownerState:V,className:H.action,children:i}):null,i==null&&A?_.jsx(ub,{ownerState:V,className:H.action,children:_.jsx(S,$({size:"small","aria-label":h,title:h,color:"inherit",onClick:A},M,{children:_.jsx(N,$({fontSize:"small"},W))}))}):null]}))});function Cj(t){return He("MuiTypography",t)}Ke("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const bj=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ij=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:c}=t,h={root:["root",o,t.align!=="inherit"&&`align${ge(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Xe(h,Cj,c)},Aj=xe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ge(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>$({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),hb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Tj={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Sj=t=>Tj[t]||t,ke=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTypography"}),i=Sj(r.color),o=Af($({},r,{color:i})),{align:c="inherit",className:h,component:p,gutterBottom:g=!1,noWrap:x=!1,paragraph:w=!1,variant:C="body1",variantMapping:A=hb}=o,k=Ie(o,bj),O=$({},o,{align:c,color:i,className:h,component:p,gutterBottom:g,noWrap:x,paragraph:w,variant:C,variantMapping:A}),U=p||(w?"p":A[C]||hb[C])||"span",D=Ij(O);return _.jsx(Aj,$({as:U,ref:n,ownerState:O,className:Se(D.root,h)},k))});function Rj(t){return He("MuiAppBar",t)}Ke("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Pj=["className","color","enableColorOnDark","position"],Nj=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${ge(e)}`,`position${ge(n)}`]};return Xe(i,Rj,r)},Tp=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Oj=xe(Ei,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ge(n.position)}`],e[`color${ge(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return $({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&$({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&$({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&$({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Tp(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Tp(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Tp(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Tp(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),kj=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:c=!1,position:h="fixed"}=r,p=Ie(r,Pj),g=$({},r,{color:o,position:h,enableColorOnDark:c}),x=Nj(g);return _.jsx(Oj,$({square:!0,component:"header",ownerState:g,elevation:4,className:Se(x.root,i,h==="fixed"&&"mui-fixed"),ref:n},p))});function Dj(t){return typeof t=="function"?t():t}const Mj=B.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[c,h]=B.useState(null),p=Zn(B.isValidElement(r)?id(r):null,n);if(Is(()=>{o||h(Dj(i)||document.body)},[i,o]),Is(()=>{if(c&&!o)return fv(n,c),()=>{fv(n,null)}},[n,c,o]),o){if(B.isValidElement(r)){const g={ref:p};return B.cloneElement(r,g)}return _.jsx(B.Fragment,{children:r})}return _.jsx(B.Fragment,{children:c&&qx.createPortal(r,c)})}),Lj=xn(_.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Fj(t){return He("MuiChip",t)}const Vt=Ke("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Bj=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Vj=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:c,clickable:h,variant:p}=t,g={root:["root",p,n&&"disabled",`size${ge(r)}`,`color${ge(i)}`,h&&"clickable",h&&`clickableColor${ge(i)}`,c&&"deletable",c&&`deletableColor${ge(i)}`,`${p}${ge(i)}`],label:["label",`label${ge(r)}`],avatar:["avatar",`avatar${ge(r)}`,`avatarColor${ge(i)}`],icon:["icon",`icon${ge(r)}`,`iconColor${ge(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ge(r)}`,`deleteIconColor${ge(i)}`,`deleteIcon${ge(p)}Color${ge(i)}`]};return Xe(g,Fj,e)},Uj=xe("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:c,size:h,variant:p}=n;return[{[`& .${Vt.avatar}`]:e.avatar},{[`& .${Vt.avatar}`]:e[`avatar${ge(h)}`]},{[`& .${Vt.avatar}`]:e[`avatarColor${ge(r)}`]},{[`& .${Vt.icon}`]:e.icon},{[`& .${Vt.icon}`]:e[`icon${ge(h)}`]},{[`& .${Vt.icon}`]:e[`iconColor${ge(i)}`]},{[`& .${Vt.deleteIcon}`]:e.deleteIcon},{[`& .${Vt.deleteIcon}`]:e[`deleteIcon${ge(h)}`]},{[`& .${Vt.deleteIcon}`]:e[`deleteIconColor${ge(r)}`]},{[`& .${Vt.deleteIcon}`]:e[`deleteIcon${ge(p)}Color${ge(r)}`]},e.root,e[`size${ge(h)}`],e[`color${ge(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${ge(r)})`],c&&e.deletable,c&&r!=="default"&&e[`deletableColor${ge(r)}`],e[p],e[`${p}${ge(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return $({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Vt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Vt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Vt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Vt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Vt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Vt.icon}`]:$({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&$({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${Vt.deleteIcon}`]:$({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:wt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:wt(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:wt(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Vt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:wt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Vt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>$({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:wt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Vt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:wt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Vt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>$({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Vt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Vt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Vt.avatar}`]:{marginLeft:4},[`& .${Vt.avatarSmall}`]:{marginLeft:2},[`& .${Vt.icon}`]:{marginLeft:4},[`& .${Vt.iconSmall}`]:{marginLeft:2},[`& .${Vt.deleteIcon}`]:{marginRight:5},[`& .${Vt.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:wt(t.palette[e.color].main,.7)}`,[`&.${Vt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:wt(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Vt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:wt(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Vt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:wt(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),jj=xe("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${ge(r)}`]]}})(({ownerState:t})=>$({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function fb(t){return t.key==="Backspace"||t.key==="Delete"}const es=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:c,color:h="default",component:p,deleteIcon:g,disabled:x=!1,icon:w,label:C,onClick:A,onDelete:k,onKeyDown:O,onKeyUp:U,size:D="medium",variant:I="filled",tabIndex:R,skipFocusWhenDisabled:V=!1}=r,H=Ie(r,Bj),X=B.useRef(null),S=Zn(X,n),M=ce=>{ce.stopPropagation(),k&&k(ce)},N=ce=>{ce.currentTarget===ce.target&&fb(ce)&&ce.preventDefault(),O&&O(ce)},W=ce=>{ce.currentTarget===ce.target&&(k&&fb(ce)?k(ce):ce.key==="Escape"&&X.current&&X.current.blur()),U&&U(ce)},G=c!==!1&&A?!0:c,q=G||k?ja:p||"div",z=$({},r,{component:q,disabled:x,size:D,color:h,iconColor:B.isValidElement(w)&&w.props.color||h,onDelete:!!k,clickable:G,variant:I}),ue=Vj(z),Z=q===ja?$({component:p||"div",focusVisibleClassName:ue.focusVisible},k&&{disableRipple:!0}):{};let me=null;k&&(me=g&&B.isValidElement(g)?B.cloneElement(g,{className:Se(g.props.className,ue.deleteIcon),onClick:M}):_.jsx(Lj,{className:Se(ue.deleteIcon),onClick:M}));let de=null;i&&B.isValidElement(i)&&(de=B.cloneElement(i,{className:Se(ue.avatar,i.props.className)}));let ne=null;return w&&B.isValidElement(w)&&(ne=B.cloneElement(w,{className:Se(ue.icon,w.props.className)})),_.jsxs(Uj,$({as:q,className:Se(ue.root,o),disabled:G&&x?!0:void 0,onClick:A,onKeyDown:N,onKeyUp:W,ref:S,tabIndex:V&&x?-1:R,ownerState:z},Z,H,{children:[de||ne,_.jsx(jj,{className:Se(ue.label),ownerState:z,children:C}),me]}))}),zj=["onChange","maxRows","minRows","style","value"];function Sp(t){return parseInt(t,10)||0}const $j={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Wj(t){for(const e in t)return!1;return!0}function pb(t){return Wj(t)||t.outerHeightStyle===0&&!t.overflowing}const Hj=B.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:c,value:h}=e,p=Ie(e,zj),{current:g}=B.useRef(h!=null),x=B.useRef(null),w=Zn(n,x),C=B.useRef(null),A=B.useRef(null),k=B.useCallback(()=>{const R=x.current,V=A.current;if(!R||!V)return;const X=Oo(R).getComputedStyle(R);if(X.width==="0px")return{outerHeightStyle:0,overflowing:!1};V.style.width=X.width,V.value=R.value||e.placeholder||"x",V.value.slice(-1)===`
`&&(V.value+=" ");const S=X.boxSizing,M=Sp(X.paddingBottom)+Sp(X.paddingTop),N=Sp(X.borderBottomWidth)+Sp(X.borderTopWidth),W=V.scrollHeight;V.value="x";const G=V.scrollHeight;let q=W;o&&(q=Math.max(Number(o)*G,q)),i&&(q=Math.min(Number(i)*G,q)),q=Math.max(q,G);const z=q+(S==="border-box"?M+N:0),ue=Math.abs(q-W)<=1;return{outerHeightStyle:z,overflowing:ue}},[i,o,e.placeholder]),O=wl(()=>{const R=x.current,V=k();if(!R||!V||pb(V))return!1;const H=V.outerHeightStyle;return C.current!=null&&C.current!==H}),U=B.useCallback(()=>{const R=x.current,V=k();if(!R||!V||pb(V))return;const H=V.outerHeightStyle;C.current!==H&&(C.current=H,R.style.height=`${H}px`),R.style.overflow=V.overflowing?"hidden":""},[k]),D=B.useRef(-1);Is(()=>{const R=v2(U),V=x==null?void 0:x.current;if(!V)return;const H=Oo(V);H.addEventListener("resize",R);let X;return typeof ResizeObserver<"u"&&(X=new ResizeObserver(()=>{O()&&(X.unobserve(V),cancelAnimationFrame(D.current),U(),D.current=requestAnimationFrame(()=>{X.observe(V)}))}),X.observe(V)),()=>{R.clear(),cancelAnimationFrame(D.current),H.removeEventListener("resize",R),X&&X.disconnect()}},[k,U,O]),Is(()=>{U()});const I=R=>{g||U(),r&&r(R)};return _.jsxs(B.Fragment,{children:[_.jsx("textarea",$({value:h,onChange:I,ref:w,rows:o,style:c},p)),_.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:A,tabIndex:-1,style:$({},$j.shadow,c,{paddingTop:0,paddingBottom:0})})]})});function uc({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Mg=B.createContext(void 0);function Vo(){return B.useContext(Mg)}function gb(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function r1(t,e=!1){return t&&(gb(t.value)&&t.value!==""||e&&gb(t.defaultValue)&&t.defaultValue!=="")}function Gj(t){return t.startAdornment}function qj(t){return He("MuiInputBase",t)}const ju=Ke("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Kj=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Lg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ge(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Fg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Xj=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:c,formControl:h,fullWidth:p,hiddenLabel:g,multiline:x,readOnly:w,size:C,startAdornment:A,type:k}=t,O={root:["root",`color${ge(n)}`,r&&"disabled",i&&"error",p&&"fullWidth",c&&"focused",h&&"formControl",C&&C!=="medium"&&`size${ge(C)}`,x&&"multiline",A&&"adornedStart",o&&"adornedEnd",g&&"hiddenLabel",w&&"readOnly"],input:["input",r&&"disabled",k==="search"&&"inputTypeSearch",x&&"inputMultiline",C==="small"&&"inputSizeSmall",g&&"inputHiddenLabel",A&&"inputAdornedStart",o&&"inputAdornedEnd",w&&"readOnly"]};return Xe(O,qj,e)},Bg=xe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Lg})(({theme:t,ownerState:e})=>$({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ju.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&$({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Vg=xe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Fg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=$({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ju.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${ju.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Yj=_.jsx(iR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),yw=B.forwardRef(function(e,n){var r;const i=Ye({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:c,autoFocus:h,className:p,components:g={},componentsProps:x={},defaultValue:w,disabled:C,disableInjectingGlobalStyles:A,endAdornment:k,fullWidth:O=!1,id:U,inputComponent:D="input",inputProps:I={},inputRef:R,maxRows:V,minRows:H,multiline:X=!1,name:S,onBlur:M,onChange:N,onClick:W,onFocus:G,onKeyDown:q,onKeyUp:z,placeholder:ue,readOnly:Z,renderSuffix:me,rows:de,slotProps:ne={},slots:ce={},startAdornment:Ce,type:et="text",value:Ue}=i,Qe=Ie(i,Kj),ze=I.value!=null?I.value:Ue,{current:gt}=B.useRef(ze!=null),Ae=B.useRef(),Jt=B.useCallback(dt=>{},[]),_t=Zn(Ae,R,I.ref,Jt),[qt,un]=B.useState(!1),Je=Vo(),Ft=uc({props:i,muiFormControl:Je,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ft.focused=Je?Je.focused:qt,B.useEffect(()=>{!Je&&C&&qt&&(un(!1),M&&M())},[Je,C,qt,M]);const De=Je&&Je.onFilled,ft=Je&&Je.onEmpty,pt=B.useCallback(dt=>{r1(dt)?De&&De():ft&&ft()},[De,ft]);Is(()=>{gt&&pt({value:ze})},[ze,pt,gt]);const gr=dt=>{if(Ft.disabled){dt.stopPropagation();return}G&&G(dt),I.onFocus&&I.onFocus(dt),Je&&Je.onFocus?Je.onFocus(dt):un(!0)},Bt=dt=>{M&&M(dt),I.onBlur&&I.onBlur(dt),Je&&Je.onBlur?Je.onBlur(dt):un(!1)},ct=(dt,...Le)=>{if(!gt){const zr=dt.target||Ae.current;if(zr==null)throw new Error(Hl(1));pt({value:zr.value})}I.onChange&&I.onChange(dt,...Le),N&&N(dt,...Le)};B.useEffect(()=>{pt(Ae.current)},[]);const nt=dt=>{Ae.current&&dt.currentTarget===dt.target&&Ae.current.focus(),W&&W(dt)};let Fn=D,be=I;X&&Fn==="input"&&(de?be=$({type:void 0,minRows:de,maxRows:de},be):be=$({type:void 0,maxRows:V,minRows:H},be),Fn=Hj);const Sr=dt=>{pt(dt.animationName==="mui-auto-fill-cancel"?Ae.current:{value:"x"})};B.useEffect(()=>{Je&&Je.setAdornedStart(!!Ce)},[Je,Ce]);const Bn=$({},i,{color:Ft.color||"primary",disabled:Ft.disabled,endAdornment:k,error:Ft.error,focused:Ft.focused,formControl:Je,fullWidth:O,hiddenLabel:Ft.hiddenLabel,multiline:X,size:Ft.size,startAdornment:Ce,type:et}),mt=Xj(Bn),mr=ce.root||g.Root||Bg,vt=ne.root||x.root||{},en=ce.input||g.Input||Vg;return be=$({},be,(r=ne.input)!=null?r:x.input),_.jsxs(B.Fragment,{children:[!A&&Yj,_.jsxs(mr,$({},vt,!Su(mr)&&{ownerState:$({},Bn,vt.ownerState)},{ref:n,onClick:nt},Qe,{className:Se(mt.root,vt.className,p,Z&&"MuiInputBase-readOnly"),children:[Ce,_.jsx(Mg.Provider,{value:null,children:_.jsx(en,$({ownerState:Bn,"aria-invalid":Ft.error,"aria-describedby":o,autoComplete:c,autoFocus:h,defaultValue:w,disabled:Ft.disabled,id:U,onAnimationStart:Sr,name:S,placeholder:ue,readOnly:Z,required:Ft.required,rows:de,value:ze,onKeyDown:q,onKeyUp:z,type:et},be,!Su(en)&&{as:Fn,ownerState:$({},Bn,be.ownerState)},{ref:_t,className:Se(mt.input,be.className,Z&&"MuiInputBase-readOnly"),onBlur:Bt,onChange:ct,onFocus:gr}))}),k,me?me($({},Ft,{startAdornment:Ce})):null]}))]})});function Qj(t){return He("MuiInput",t)}const Fd=$({},ju,Ke("MuiInput",["root","underline","input"]));function Zj(t){return He("MuiOutlinedInput",t)}const Yo=$({},ju,Ke("MuiOutlinedInput",["root","notchedOutline","input"]));function Jj(t){return He("MuiFilledInput",t)}const ll=$({},ju,Ke("MuiFilledInput",["root","underline","input"])),ez=xn(_.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),tz=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],nz={entering:{opacity:1},entered:{opacity:1}},b4=B.forwardRef(function(e,n){const r=od(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:c=!0,children:h,easing:p,in:g,onEnter:x,onEntered:w,onEntering:C,onExit:A,onExited:k,onExiting:O,style:U,timeout:D=i,TransitionComponent:I=Ss}=e,R=Ie(e,tz),V=B.useRef(null),H=Zn(V,id(h),n),X=ue=>Z=>{if(ue){const me=V.current;Z===void 0?ue(me):ue(me,Z)}},S=X(C),M=X((ue,Z)=>{mw(ue);const me=Uu({style:U,timeout:D,easing:p},{mode:"enter"});ue.style.webkitTransition=r.transitions.create("opacity",me),ue.style.transition=r.transitions.create("opacity",me),x&&x(ue,Z)}),N=X(w),W=X(O),G=X(ue=>{const Z=Uu({style:U,timeout:D,easing:p},{mode:"exit"});ue.style.webkitTransition=r.transitions.create("opacity",Z),ue.style.transition=r.transitions.create("opacity",Z),A&&A(ue)}),q=X(k),z=ue=>{o&&o(V.current,ue)};return _.jsx(I,$({appear:c,in:g,nodeRef:V,onEnter:M,onEntered:N,onEntering:S,onExit:G,onExited:q,onExiting:W,addEndListener:z,timeout:D},R,{children:(ue,Z)=>B.cloneElement(h,$({style:$({opacity:0,visibility:ue==="exited"&&!g?"hidden":void 0},nz[ue],U,h.props.style),ref:H},Z))}))});function rz(t){return He("MuiBackdrop",t)}Ke("MuiBackdrop",["root","invisible"]);const iz=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],sz=t=>{const{classes:e,invisible:n}=t;return Xe({root:["root",n&&"invisible"]},rz,e)},oz=xe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),I4=B.forwardRef(function(e,n){var r,i,o;const c=Ye({props:e,name:"MuiBackdrop"}),{children:h,className:p,component:g="div",components:x={},componentsProps:w={},invisible:C=!1,open:A,slotProps:k={},slots:O={},TransitionComponent:U=b4,transitionDuration:D}=c,I=Ie(c,iz),R=$({},c,{component:g,invisible:C}),V=sz(R),H=(r=k.root)!=null?r:w.root;return _.jsx(U,$({in:A,timeout:D},I,{children:_.jsx(oz,$({"aria-hidden":!0},H,{as:(i=(o=O.root)!=null?o:x.Root)!=null?i:g,className:Se(V.root,p,H==null?void 0:H.className),ownerState:$({},R,H==null?void 0:H.ownerState),classes:V,ref:n,children:h}))}))}),az=Ke("MuiBox",["root"]),lz=_2(),Mt=vD({themeId:Au,defaultTheme:lz,defaultClassName:az.root,generateClassName:PS.generate});function cz(t){return He("MuiButton",t)}const Rp=Ke("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),uz=B.createContext({}),dz=B.createContext(void 0),hz=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],fz=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:c}=t,h={root:["root",o,`${o}${ge(e)}`,`size${ge(i)}`,`${o}Size${ge(i)}`,`color${ge(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ge(i)}`],endIcon:["icon","endIcon",`iconSize${ge(i)}`]},p=Xe(h,cz,c);return $({},c,p)},A4=t=>$({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),pz=xe(ja,{shouldForwardProp:t=>ni(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ge(n.color)}`],e[`size${ge(n.size)}`],e[`${n.variant}Size${ge(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return $({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:wt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:wt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:wt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Rp.focusVisible}`]:$({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Rp.disabled}`]:$({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${wt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Rp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Rp.disabled}`]:{boxShadow:"none"}}),gz=xe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${ge(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},A4(t))),mz=xe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${ge(n.size)}`]]}})(({ownerState:t})=>$({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},A4(t))),Qr=B.forwardRef(function(e,n){const r=B.useContext(uz),i=B.useContext(dz),o=Hh(r,e),c=Ye({props:o,name:"MuiButton"}),{children:h,color:p="primary",component:g="button",className:x,disabled:w=!1,disableElevation:C=!1,disableFocusRipple:A=!1,endIcon:k,focusVisibleClassName:O,fullWidth:U=!1,size:D="medium",startIcon:I,type:R,variant:V="text"}=c,H=Ie(c,hz),X=$({},c,{color:p,component:g,disabled:w,disableElevation:C,disableFocusRipple:A,fullWidth:U,size:D,type:R,variant:V}),S=fz(X),M=I&&_.jsx(gz,{className:S.startIcon,ownerState:X,children:I}),N=k&&_.jsx(mz,{className:S.endIcon,ownerState:X,children:k}),W=i||"";return _.jsxs(pz,$({ownerState:X,className:Se(r.className,S.root,x,W),component:g,disabled:w,focusRipple:!A,focusVisibleClassName:Se(S.focusVisible,O),ref:n,type:R},H,{classes:S,children:[M,h,N]}))});function yz(t){return He("MuiCard",t)}Ke("MuiCard",["root"]);const vz=["className","raised"],xz=t=>{const{classes:e}=t;return Xe({root:["root"]},yz,e)},wz=xe(Ei,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Mr=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,c=Ie(r,vz),h=$({},r,{raised:o}),p=xz(h);return _.jsx(wz,$({className:Se(p.root,i),elevation:o?8:void 0,ref:n,ownerState:h},c))});function Ez(t){return He("MuiCardContent",t)}Ke("MuiCardContent",["root"]);const _z=["className","component"],Cz=t=>{const{classes:e}=t;return Xe({root:["root"]},Ez,e)},bz=xe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Lr=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,c=Ie(r,_z),h=$({},r,{component:o}),p=Cz(h);return _.jsx(bz,$({as:o,className:Se(p.root,i),ownerState:h,ref:n},c))});function Iz(t){return He("PrivateSwitchBase",t)}Ke("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Az=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Tz=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${ge(i)}`],input:["input"]};return Xe(o,Iz,e)},Sz=xe(ja,{name:"MuiSwitchBase"})(({ownerState:t})=>$({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),Rz=xe("input",{name:"MuiSwitchBase",shouldForwardProp:ni})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Pz=B.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:c,defaultChecked:h,disabled:p,disableFocusRipple:g=!1,edge:x=!1,icon:w,id:C,inputProps:A,inputRef:k,name:O,onBlur:U,onChange:D,onFocus:I,readOnly:R,required:V=!1,tabIndex:H,type:X,value:S}=e,M=Ie(e,Az),[N,W]=pv({controlled:i,default:!!h,name:"SwitchBase",state:"checked"}),G=Vo(),q=ce=>{I&&I(ce),G&&G.onFocus&&G.onFocus(ce)},z=ce=>{U&&U(ce),G&&G.onBlur&&G.onBlur(ce)},ue=ce=>{if(ce.nativeEvent.defaultPrevented)return;const Ce=ce.target.checked;W(Ce),D&&D(ce,Ce)};let Z=p;G&&typeof Z>"u"&&(Z=G.disabled);const me=X==="checkbox"||X==="radio",de=$({},e,{checked:N,disabled:Z,disableFocusRipple:g,edge:x}),ne=Tz(de);return _.jsxs(Sz,$({component:"span",className:Se(ne.root,c),centerRipple:!0,focusRipple:!g,disabled:Z,tabIndex:null,role:void 0,onFocus:q,onBlur:z,ownerState:de,ref:n},M,{children:[_.jsx(Rz,$({autoFocus:r,checked:i,defaultChecked:h,className:ne.input,disabled:Z,id:me?C:void 0,name:O,onChange:ue,readOnly:R,ref:k,required:V,ownerState:de,tabIndex:H,type:X},X==="checkbox"&&S===void 0?{}:{value:S},A)),N?o:w]}))});function Nz(t){return He("MuiCircularProgress",t)}Ke("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Oz=["className","color","disableShrink","size","style","thickness","value","variant"];let Ug=t=>t,mb,yb,vb,xb;const Qo=44,kz=td(mb||(mb=Ug`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Dz=td(yb||(yb=Ug`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Mz=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${ge(r)}`],svg:["svg"],circle:["circle",`circle${ge(n)}`,i&&"circleDisableShrink"]};return Xe(o,Nz,e)},Lz=xe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ge(n.color)}`]]}})(({ownerState:t,theme:e})=>$({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&W1(vb||(vb=Ug`
      animation: ${0} 1.4s linear infinite;
    `),kz)),Fz=xe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Bz=xe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ge(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>$({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&W1(xb||(xb=Ug`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Dz)),vw=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:c=!1,size:h=40,style:p,thickness:g=3.6,value:x=0,variant:w="indeterminate"}=r,C=Ie(r,Oz),A=$({},r,{color:o,disableShrink:c,size:h,thickness:g,value:x,variant:w}),k=Mz(A),O={},U={},D={};if(w==="determinate"){const I=2*Math.PI*((Qo-g)/2);O.strokeDasharray=I.toFixed(3),D["aria-valuenow"]=Math.round(x),O.strokeDashoffset=`${((100-x)/100*I).toFixed(3)}px`,U.transform="rotate(-90deg)"}return _.jsx(Lz,$({className:Se(k.root,i),style:$({width:h,height:h},U,p),ownerState:A,ref:n,role:"progressbar"},D,C,{children:_.jsx(Fz,{className:k.svg,ownerState:A,viewBox:`${Qo/2} ${Qo/2} ${Qo} ${Qo}`,children:_.jsx(Bz,{className:k.circle,style:O,ownerState:A,cx:Qo,cy:Qo,r:(Qo-g)/2,fill:"none",strokeWidth:g})})}))}),Vz=hM({createStyledComponent:xe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Ye({props:t,name:"MuiContainer"})});function Uz(t){const e=Fi(t);return e.body===t?Oo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function wh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function wb(t){return parseInt(Oo(t).getComputedStyle(t).paddingRight,10)||0}function jz(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Eb(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,c=>{const h=o.indexOf(c)===-1,p=!jz(c);h&&p&&wh(c,i)})}function Hm(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function zz(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Uz(r)){const c=BS(Fi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${wb(r)+c}px`;const h=Fi(r).querySelectorAll(".mui-fixed");[].forEach.call(h,p=>{n.push({value:p.style.paddingRight,property:"padding-right",el:p}),p.style.paddingRight=`${wb(p)+c}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Fi(r).body;else{const c=r.parentElement,h=Oo(r);o=(c==null?void 0:c.nodeName)==="HTML"&&h.getComputedStyle(c).overflowY==="scroll"?c:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:c,property:h})=>{o?c.style.setProperty(h,o):c.style.removeProperty(h)})}}function $z(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Wz{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&wh(e.modalRef,!1);const i=$z(n);Eb(n,e.mount,e.modalRef,i,!0);const o=Hm(this.containers,c=>c.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Hm(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=zz(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Hm(this.containers,c=>c.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&wh(e.modalRef,n),Eb(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const c=o.modals[o.modals.length-1];c.modalRef&&wh(c.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Hz=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Gz(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function qz(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Kz(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||qz(t))}function Xz(t){const e=[],n=[];return Array.from(t.querySelectorAll(Hz)).forEach((r,i)=>{const o=Gz(r);o===-1||!Kz(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Yz(){return!0}function Qz(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Xz,isEnabled:c=Yz,open:h}=t,p=B.useRef(!1),g=B.useRef(null),x=B.useRef(null),w=B.useRef(null),C=B.useRef(null),A=B.useRef(!1),k=B.useRef(null),O=Zn(id(e),k),U=B.useRef(null);B.useEffect(()=>{!h||!k.current||(A.current=!n)},[n,h]),B.useEffect(()=>{if(!h||!k.current)return;const R=Fi(k.current);return k.current.contains(R.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex","-1"),A.current&&k.current.focus()),()=>{i||(w.current&&w.current.focus&&(p.current=!0,w.current.focus()),w.current=null)}},[h]),B.useEffect(()=>{if(!h||!k.current)return;const R=Fi(k.current),V=S=>{U.current=S,!(r||!c()||S.key!=="Tab")&&R.activeElement===k.current&&S.shiftKey&&(p.current=!0,x.current&&x.current.focus())},H=()=>{const S=k.current;if(S===null)return;if(!R.hasFocus()||!c()||p.current){p.current=!1;return}if(S.contains(R.activeElement)||r&&R.activeElement!==g.current&&R.activeElement!==x.current)return;if(R.activeElement!==C.current)C.current=null;else if(C.current!==null)return;if(!A.current)return;let M=[];if((R.activeElement===g.current||R.activeElement===x.current)&&(M=o(k.current)),M.length>0){var N,W;const G=!!((N=U.current)!=null&&N.shiftKey&&((W=U.current)==null?void 0:W.key)==="Tab"),q=M[0],z=M[M.length-1];typeof q!="string"&&typeof z!="string"&&(G?z.focus():q.focus())}else S.focus()};R.addEventListener("focusin",H),R.addEventListener("keydown",V,!0);const X=setInterval(()=>{R.activeElement&&R.activeElement.tagName==="BODY"&&H()},50);return()=>{clearInterval(X),R.removeEventListener("focusin",H),R.removeEventListener("keydown",V,!0)}},[n,r,i,c,h,o]);const D=R=>{w.current===null&&(w.current=R.relatedTarget),A.current=!0,C.current=R.target;const V=e.props.onFocus;V&&V(R)},I=R=>{w.current===null&&(w.current=R.relatedTarget),A.current=!0};return _.jsxs(B.Fragment,{children:[_.jsx("div",{tabIndex:h?0:-1,onFocus:I,ref:g,"data-testid":"sentinelStart"}),B.cloneElement(e,{ref:O,onFocus:D}),_.jsx("div",{tabIndex:h?0:-1,onFocus:I,ref:x,"data-testid":"sentinelEnd"})]})}function Zz(t){return typeof t=="function"?t():t}function Jz(t){return t?t.props.hasOwnProperty("in"):!1}const e$=new Wz;function t$(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=e$,closeAfterTransition:o=!1,onTransitionEnter:c,onTransitionExited:h,children:p,onClose:g,open:x,rootRef:w}=t,C=B.useRef({}),A=B.useRef(null),k=B.useRef(null),O=Zn(k,w),[U,D]=B.useState(!x),I=Jz(p);let R=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(R=!1);const V=()=>Fi(A.current),H=()=>(C.current.modalRef=k.current,C.current.mount=A.current,C.current),X=()=>{i.mount(H(),{disableScrollLock:r}),k.current&&(k.current.scrollTop=0)},S=wl(()=>{const me=Zz(e)||V().body;i.add(H(),me),k.current&&X()}),M=B.useCallback(()=>i.isTopModal(H()),[i]),N=wl(me=>{A.current=me,me&&(x&&M()?X():k.current&&wh(k.current,R))}),W=B.useCallback(()=>{i.remove(H(),R)},[R,i]);B.useEffect(()=>()=>{W()},[W]),B.useEffect(()=>{x?S():(!I||!o)&&W()},[x,W,I,o,S]);const G=me=>de=>{var ne;(ne=me.onKeyDown)==null||ne.call(me,de),!(de.key!=="Escape"||de.which===229||!M())&&(n||(de.stopPropagation(),g&&g(de,"escapeKeyDown")))},q=me=>de=>{var ne;(ne=me.onClick)==null||ne.call(me,de),de.target===de.currentTarget&&g&&g(de,"backdropClick")};return{getRootProps:(me={})=>{const de=US(t);delete de.onTransitionEnter,delete de.onTransitionExited;const ne=$({},de,me);return $({role:"presentation"},ne,{onKeyDown:G(ne),ref:O})},getBackdropProps:(me={})=>{const de=me;return $({"aria-hidden":!0},de,{onClick:q(de),open:x})},getTransitionProps:()=>{const me=()=>{D(!1),c&&c()},de=()=>{D(!0),h&&h(),o&&W()};return{onEnter:b_(me,p==null?void 0:p.props.onEnter),onExited:b_(de,p==null?void 0:p.props.onExited)}},rootRef:O,portalRef:N,isTopModal:M,exited:U,hasTransition:I}}function n$(t){return He("MuiModal",t)}Ke("MuiModal",["root","hidden","backdrop"]);const r$=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],i$=t=>{const{open:e,exited:n,classes:r}=t;return Xe({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},n$,r)},s$=xe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>$({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),o$=xe(I4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),xw=B.forwardRef(function(e,n){var r,i,o,c,h,p;const g=Ye({name:"MuiModal",props:e}),{BackdropComponent:x=o$,BackdropProps:w,className:C,closeAfterTransition:A=!1,children:k,container:O,component:U,components:D={},componentsProps:I={},disableAutoFocus:R=!1,disableEnforceFocus:V=!1,disableEscapeKeyDown:H=!1,disablePortal:X=!1,disableRestoreFocus:S=!1,disableScrollLock:M=!1,hideBackdrop:N=!1,keepMounted:W=!1,onBackdropClick:G,open:q,slotProps:z,slots:ue}=g,Z=Ie(g,r$),me=$({},g,{closeAfterTransition:A,disableAutoFocus:R,disableEnforceFocus:V,disableEscapeKeyDown:H,disablePortal:X,disableRestoreFocus:S,disableScrollLock:M,hideBackdrop:N,keepMounted:W}),{getRootProps:de,getBackdropProps:ne,getTransitionProps:ce,portalRef:Ce,isTopModal:et,exited:Ue,hasTransition:Qe}=t$($({},me,{rootRef:n})),ze=$({},me,{exited:Ue}),gt=i$(ze),Ae={};if(k.props.tabIndex===void 0&&(Ae.tabIndex="-1"),Qe){const{onEnter:De,onExited:ft}=ce();Ae.onEnter=De,Ae.onExited=ft}const Jt=(r=(i=ue==null?void 0:ue.root)!=null?i:D.Root)!=null?r:s$,_t=(o=(c=ue==null?void 0:ue.backdrop)!=null?c:D.Backdrop)!=null?o:x,qt=(h=z==null?void 0:z.root)!=null?h:I.root,un=(p=z==null?void 0:z.backdrop)!=null?p:I.backdrop,Je=Ru({elementType:Jt,externalSlotProps:qt,externalForwardedProps:Z,getSlotProps:de,additionalProps:{ref:n,as:U},ownerState:ze,className:Se(C,qt==null?void 0:qt.className,gt==null?void 0:gt.root,!ze.open&&ze.exited&&(gt==null?void 0:gt.hidden))}),Ft=Ru({elementType:_t,externalSlotProps:un,additionalProps:w,getSlotProps:De=>ne($({},De,{onClick:ft=>{G&&G(ft),De!=null&&De.onClick&&De.onClick(ft)}})),className:Se(un==null?void 0:un.className,w==null?void 0:w.className,gt==null?void 0:gt.backdrop),ownerState:ze});return!W&&!q&&(!Qe||Ue)?null:_.jsx(Mj,{ref:Ce,container:O,disablePortal:X,children:_.jsxs(Jt,$({},Je,{children:[!N&&x?_.jsx(_t,$({},Ft)):null,_.jsx(Qz,{disableEnforceFocus:V,disableAutoFocus:R,disableRestoreFocus:S,isEnabled:et,open:q,children:B.cloneElement(k,Ae)})]}))})});function a$(t){return He("MuiDialog",t)}const Gm=Ke("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),T4=B.createContext({}),l$=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],c$=xe(I4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),u$=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,c={root:["root"],container:["container",`scroll${ge(n)}`],paper:["paper",`paperScroll${ge(n)}`,`paperWidth${ge(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Xe(c,a$,e)},d$=xe(xw,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),h$=xe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ge(n.scroll)}`]]}})(({ownerState:t})=>$({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),f$=xe(Ei,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ge(n.scroll)}`],e[`paperWidth${ge(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>$({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Gm.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Gm.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Gm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),i1=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDialog"}),i=od(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":h,BackdropComponent:p,BackdropProps:g,children:x,className:w,disableEscapeKeyDown:C=!1,fullScreen:A=!1,fullWidth:k=!1,maxWidth:O="sm",onBackdropClick:U,onClick:D,onClose:I,open:R,PaperComponent:V=Ei,PaperProps:H={},scroll:X="paper",TransitionComponent:S=b4,transitionDuration:M=o,TransitionProps:N}=r,W=Ie(r,l$),G=$({},r,{disableEscapeKeyDown:C,fullScreen:A,fullWidth:k,maxWidth:O,scroll:X}),q=u$(G),z=B.useRef(),ue=ne=>{z.current=ne.target===ne.currentTarget},Z=ne=>{D&&D(ne),z.current&&(z.current=null,U&&U(ne),I&&I(ne,"backdropClick"))},me=lg(h),de=B.useMemo(()=>({titleId:me}),[me]);return _.jsx(d$,$({className:Se(q.root,w),closeAfterTransition:!0,components:{Backdrop:c$},componentsProps:{backdrop:$({transitionDuration:M,as:p},g)},disableEscapeKeyDown:C,onClose:I,open:R,ref:n,onClick:Z,ownerState:G},W,{children:_.jsx(S,$({appear:!0,in:R,timeout:M,role:"presentation"},N,{children:_.jsx(h$,{className:Se(q.container),onMouseDown:ue,ownerState:G,children:_.jsx(f$,$({as:V,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":me},H,{className:Se(q.paper,H.className),ownerState:G,children:_.jsx(T4.Provider,{value:de,children:x})}))})}))}))});function p$(t){return He("MuiDialogActions",t)}Ke("MuiDialogActions",["root","spacing"]);const g$=["className","disableSpacing"],m$=t=>{const{classes:e,disableSpacing:n}=t;return Xe({root:["root",!n&&"spacing"]},p$,e)},y$=xe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>$({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),s1=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,c=Ie(r,g$),h=$({},r,{disableSpacing:o}),p=m$(h);return _.jsx(y$,$({className:Se(p.root,i),ownerState:h,ref:n},c))});function v$(t){return He("MuiDialogContent",t)}Ke("MuiDialogContent",["root","dividers"]);function x$(t){return He("MuiDialogTitle",t)}const w$=Ke("MuiDialogTitle",["root"]),E$=["className","dividers"],_$=t=>{const{classes:e,dividers:n}=t;return Xe({root:["root",n&&"dividers"]},v$,e)},C$=xe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>$({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${w$.root} + &`]:{paddingTop:0}})),o1=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,c=Ie(r,E$),h=$({},r,{dividers:o}),p=_$(h);return _.jsx(C$,$({className:Se(p.root,i),ownerState:h,ref:n},c))}),b$=["className","id"],I$=t=>{const{classes:e}=t;return Xe({root:["root"]},x$,e)},A$=xe(ke,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),a1=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDialogTitle"}),{className:i,id:o}=r,c=Ie(r,b$),h=r,p=I$(h),{titleId:g=o}=B.useContext(T4);return _.jsx(A$,$({component:"h2",className:Se(p.root,i),ownerState:h,ref:n,variant:"h6",id:o??g},c))});function T$(t){return He("MuiDivider",t)}const _b=Ke("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),S$=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],R$=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:c,textAlign:h,variant:p}=t;return Xe({root:["root",e&&"absolute",p,o&&"light",c==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&c==="vertical"&&"withChildrenVertical",h==="right"&&c!=="vertical"&&"textAlignRight",h==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},T$,r)},P$=xe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:wt(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>$({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>$({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>$({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),N$=xe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>$({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),S4=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:c,component:h=o?"div":"hr",flexItem:p=!1,light:g=!1,orientation:x="horizontal",role:w=h!=="hr"?"separator":void 0,textAlign:C="center",variant:A="fullWidth"}=r,k=Ie(r,S$),O=$({},r,{absolute:i,component:h,flexItem:p,light:g,orientation:x,role:w,textAlign:C,variant:A}),U=R$(O);return _.jsx(P$,$({as:h,className:Se(U.root,c),role:w,ref:n,ownerState:O},k,{children:o?_.jsx(N$,{className:U.wrapper,ownerState:O,children:o}):null}))});S4.muiSkipListHighlight=!0;const O$=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function k$(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=Oo(e);let c;if(e.fakeTransform)c=e.fakeTransform;else{const g=o.getComputedStyle(e);c=g.getPropertyValue("-webkit-transform")||g.getPropertyValue("transform")}let h=0,p=0;if(c&&c!=="none"&&typeof c=="string"){const g=c.split("(")[1].split(")")[0].split(",");h=parseInt(g[4],10),p=parseInt(g[5],10)}return t==="left"?i?`translateX(${i.right+h-r.left}px)`:`translateX(${o.innerWidth+h-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-h}px)`:`translateX(-${r.left+r.width-h}px)`:t==="up"?i?`translateY(${i.bottom+p-r.top}px)`:`translateY(${o.innerHeight+p-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-p}px)`:`translateY(-${r.top+r.height-p}px)`}function D$(t){return typeof t=="function"?t():t}function Pp(t,e,n){const r=D$(n),i=k$(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const M$=B.forwardRef(function(e,n){const r=od(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:c,appear:h=!0,children:p,container:g,direction:x="down",easing:w=i,in:C,onEnter:A,onEntered:k,onEntering:O,onExit:U,onExited:D,onExiting:I,style:R,timeout:V=o,TransitionComponent:H=Ss}=e,X=Ie(e,O$),S=B.useRef(null),M=Zn(id(p),S,n),N=ne=>ce=>{ne&&(ce===void 0?ne(S.current):ne(S.current,ce))},W=N((ne,ce)=>{Pp(x,ne,g),mw(ne),A&&A(ne,ce)}),G=N((ne,ce)=>{const Ce=Uu({timeout:V,style:R,easing:w},{mode:"enter"});ne.style.webkitTransition=r.transitions.create("-webkit-transform",$({},Ce)),ne.style.transition=r.transitions.create("transform",$({},Ce)),ne.style.webkitTransform="none",ne.style.transform="none",O&&O(ne,ce)}),q=N(k),z=N(I),ue=N(ne=>{const ce=Uu({timeout:V,style:R,easing:w},{mode:"exit"});ne.style.webkitTransition=r.transitions.create("-webkit-transform",ce),ne.style.transition=r.transitions.create("transform",ce),Pp(x,ne,g),U&&U(ne)}),Z=N(ne=>{ne.style.webkitTransition="",ne.style.transition="",D&&D(ne)}),me=ne=>{c&&c(S.current,ne)},de=B.useCallback(()=>{S.current&&Pp(x,S.current,g)},[x,g]);return B.useEffect(()=>{if(C||x==="down"||x==="right")return;const ne=v2(()=>{S.current&&Pp(x,S.current,g)}),ce=Oo(S.current);return ce.addEventListener("resize",ne),()=>{ne.clear(),ce.removeEventListener("resize",ne)}},[x,C,g]),B.useEffect(()=>{C||de()},[C,de]),_.jsx(H,$({nodeRef:S,onEnter:W,onEntered:q,onEntering:G,onExit:ue,onExited:Z,onExiting:z,addEndListener:me,appear:h,in:C,timeout:V},X,{children:(ne,ce)=>B.cloneElement(p,$({ref:M,style:$({visibility:ne==="exited"&&!C?"hidden":void 0},R,p.props.style)},ce))}))});function L$(t){return He("MuiDrawer",t)}Ke("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const F$=["BackdropProps"],B$=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],R4=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},V$=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ge(n)}`,r!=="temporary"&&`paperAnchorDocked${ge(n)}`]};return Xe(i,L$,e)},U$=xe(xw,{name:"MuiDrawer",slot:"Root",overridesResolver:R4})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),Cb=xe("div",{shouldForwardProp:ni,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:R4})({flex:"0 0 auto"}),j$=xe(Ei,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${ge(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${ge(n.anchor)}`]]}})(({theme:t,ownerState:e})=>$({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),P4={left:"right",right:"left",top:"down",bottom:"up"};function z$(t){return["left","right"].indexOf(t)!==-1}function $$({direction:t},e){return t==="rtl"&&z$(e)?P4[e]:e}const bb=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiDrawer"}),i=od(),o=GS(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:h="left",BackdropProps:p,children:g,className:x,elevation:w=16,hideBackdrop:C=!1,ModalProps:{BackdropProps:A}={},onClose:k,open:O=!1,PaperProps:U={},SlideProps:D,TransitionComponent:I=M$,transitionDuration:R=c,variant:V="temporary"}=r,H=Ie(r.ModalProps,F$),X=Ie(r,B$),S=B.useRef(!1);B.useEffect(()=>{S.current=!0},[]);const M=$$({direction:o?"rtl":"ltr"},h),W=$({},r,{anchor:h,elevation:w,open:O,variant:V},X),G=V$(W),q=_.jsx(j$,$({elevation:V==="temporary"?w:0,square:!0},U,{className:Se(G.paper,U.className),ownerState:W,children:g}));if(V==="permanent")return _.jsx(Cb,$({className:Se(G.root,G.docked,x),ownerState:W,ref:n},X,{children:q}));const z=_.jsx(I,$({in:O,direction:P4[M],timeout:R,appear:S.current},D,{children:q}));return V==="persistent"?_.jsx(Cb,$({className:Se(G.root,G.docked,x),ownerState:W,ref:n},X,{children:z})):_.jsx(U$,$({BackdropProps:$({},p,A,{transitionDuration:R}),className:Se(G.root,G.modal,x),open:O,ownerState:W,onClose:k,hideBackdrop:C,ref:n},X,H,{children:z}))}),W$=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],H$=t=>{const{classes:e,disableUnderline:n}=t,i=Xe({root:["root",!n&&"underline"],input:["input"]},Jj,e);return $({},e,i)},G$=xe(Bg,{shouldForwardProp:t=>ni(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Lg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",h=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${ll.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${ll.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:h}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ll.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ll.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ll.disabled}, .${ll.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ll.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&$({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),q$=xe(Vg,{name:"MuiFilledInput",slot:"Input",overridesResolver:Fg})(({theme:t,ownerState:e})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),ww=B.forwardRef(function(e,n){var r,i,o,c;const h=Ye({props:e,name:"MuiFilledInput"}),{components:p={},componentsProps:g,fullWidth:x=!1,inputComponent:w="input",multiline:C=!1,slotProps:A,slots:k={},type:O="text"}=h,U=Ie(h,W$),D=$({},h,{fullWidth:x,inputComponent:w,multiline:C,type:O}),I=H$(h),R={root:{ownerState:D},input:{ownerState:D}},V=A??g?Jr(R,A??g):R,H=(r=(i=k.root)!=null?i:p.Root)!=null?r:G$,X=(o=(c=k.input)!=null?c:p.Input)!=null?o:q$;return _.jsx(yw,$({slots:{root:H,input:X},componentsProps:V,fullWidth:x,inputComponent:w,multiline:C,ref:n,type:O},U,{classes:I}))});ww.muiName="Input";function K$(t){return He("MuiFormControl",t)}Ke("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const X$=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Y$=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ge(n)}`,r&&"fullWidth"]};return Xe(i,K$,e)},Q$=xe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,e[`margin${ge(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),zu=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiFormControl"}),{children:i,className:o,color:c="primary",component:h="div",disabled:p=!1,error:g=!1,focused:x,fullWidth:w=!1,hiddenLabel:C=!1,margin:A="none",required:k=!1,size:O="medium",variant:U="outlined"}=r,D=Ie(r,X$),I=$({},r,{color:c,component:h,disabled:p,error:g,fullWidth:w,hiddenLabel:C,margin:A,required:k,size:O,variant:U}),R=Y$(I),[V,H]=B.useState(()=>{let z=!1;return i&&B.Children.forEach(i,ue=>{if(!Kp(ue,["Input","Select"]))return;const Z=Kp(ue,["Select"])?ue.props.input:ue;Z&&Gj(Z.props)&&(z=!0)}),z}),[X,S]=B.useState(()=>{let z=!1;return i&&B.Children.forEach(i,ue=>{Kp(ue,["Input","Select"])&&(r1(ue.props,!0)||r1(ue.props.inputProps,!0))&&(z=!0)}),z}),[M,N]=B.useState(!1);p&&M&&N(!1);const W=x!==void 0&&!p?x:M;let G;const q=B.useMemo(()=>({adornedStart:V,setAdornedStart:H,color:c,disabled:p,error:g,filled:X,focused:W,fullWidth:w,hiddenLabel:C,size:O,onBlur:()=>{N(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{N(!0)},registerEffect:G,required:k,variant:U}),[V,c,p,g,X,W,w,C,G,k,O,U]);return _.jsx(Mg.Provider,{value:q,children:_.jsx(Q$,$({as:h,ownerState:I,className:Se(R.root,o),ref:n},D,{children:i}))})}),Z$=wM({createStyledComponent:xe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Ye({props:t,name:"MuiStack"})});function J$(t){return He("MuiFormControlLabel",t)}const ih=Ke("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),eW=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],tW=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,c={root:["root",n&&"disabled",`labelPlacement${ge(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Xe(c,J$,e)},nW=xe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ih.label}`]:e.label},e.root,e[`labelPlacement${ge(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>$({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ih.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${ih.label}`]:{[`&.${ih.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),rW=xe("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${ih.error}`]:{color:(t.vars||t).palette.error.main}})),iW=B.forwardRef(function(e,n){var r,i;const o=Ye({props:e,name:"MuiFormControlLabel"}),{className:c,componentsProps:h={},control:p,disabled:g,disableTypography:x,label:w,labelPlacement:C="end",required:A,slotProps:k={}}=o,O=Ie(o,eW),U=Vo(),D=(r=g??p.props.disabled)!=null?r:U==null?void 0:U.disabled,I=A??p.props.required,R={disabled:D,required:I};["checked","name","onChange","value","inputRef"].forEach(N=>{typeof p.props[N]>"u"&&typeof o[N]<"u"&&(R[N]=o[N])});const V=uc({props:o,muiFormControl:U,states:["error"]}),H=$({},o,{disabled:D,labelPlacement:C,required:I,error:V.error}),X=tW(H),S=(i=k.typography)!=null?i:h.typography;let M=w;return M!=null&&M.type!==ke&&!x&&(M=_.jsx(ke,$({component:"span"},S,{className:Se(X.label,S==null?void 0:S.className),children:M}))),_.jsxs(nW,$({className:Se(X.root,c),ownerState:H,ref:n},O,{children:[B.cloneElement(p,R),I?_.jsxs(Z$,{display:"block",children:[M,_.jsxs(rW,{ownerState:H,"aria-hidden":!0,className:X.asterisk,children:["","*"]})]}):M]}))});function sW(t){return He("MuiFormHelperText",t)}const Ib=Ke("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Ab;const oW=["children","className","component","disabled","error","filled","focused","margin","required","variant"],aW=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:c,focused:h,required:p}=t,g={root:["root",i&&"disabled",o&&"error",r&&`size${ge(r)}`,n&&"contained",h&&"focused",c&&"filled",p&&"required"]};return Xe(g,sW,e)},lW=xe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ge(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Ib.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ib.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),cW=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:c="p"}=r,h=Ie(r,oW),p=Vo(),g=uc({props:r,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),x=$({},r,{component:c,contained:g.variant==="filled"||g.variant==="outlined",variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),w=aW(x);return _.jsx(lW,$({as:c,ownerState:x,className:Se(w.root,o),ref:n},h,{children:i===" "?Ab||(Ab=_.jsx("span",{className:"notranslate",children:""})):i}))});function uW(t){return He("MuiFormLabel",t)}const Eh=Ke("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),dW=["children","className","color","component","disabled","error","filled","focused","required"],hW=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:c,required:h}=t,p={root:["root",`color${ge(n)}`,i&&"disabled",o&&"error",c&&"filled",r&&"focused",h&&"required"],asterisk:["asterisk",o&&"error"]};return Xe(p,uW,e)},fW=xe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>$({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>$({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Eh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Eh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Eh.error}`]:{color:(t.vars||t).palette.error.main}})),pW=xe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Eh.error}`]:{color:(t.vars||t).palette.error.main}})),gW=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:c="label"}=r,h=Ie(r,dW),p=Vo(),g=uc({props:r,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),x=$({},r,{color:g.color||"primary",component:c,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),w=hW(x);return _.jsxs(fW,$({as:c,ownerState:x,className:Se(w.root,o),ref:n},h,{children:[i,g.required&&_.jsxs(pW,{ownerState:x,"aria-hidden":!0,className:w.asterisk,children:["","*"]})]}))}),Tb=B.createContext();function mW(t){return He("MuiGrid",t)}const yW=[0,1,2,3,4,5,6,7,8,9,10],vW=["column-reverse","column","row-reverse","row"],xW=["nowrap","wrap-reverse","wrap"],Bd=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],af=Ke("MuiGrid",["root","container","item","zeroMinWidth",...yW.map(t=>`spacing-xs-${t}`),...vW.map(t=>`direction-xs-${t}`),...xW.map(t=>`wrap-xs-${t}`),...Bd.map(t=>`grid-xs-${t}`),...Bd.map(t=>`grid-sm-${t}`),...Bd.map(t=>`grid-md-${t}`),...Bd.map(t=>`grid-lg-${t}`),...Bd.map(t=>`grid-xl-${t}`)]),wW=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ou(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function EW({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=Ll({values:e.columns,breakpoints:t.breakpoints.values}),h=typeof c=="object"?c[i]:c;if(h==null)return r;const p=`${Math.round(n/h*1e8)/1e6}%`;let g={};if(e.container&&e.item&&e.columnSpacing!==0){const x=t.spacing(e.columnSpacing);if(x!=="0px"){const w=`calc(${p} + ${ou(x)})`;g={flexBasis:w,maxWidth:w}}}o=$({flexBasis:p,flexGrow:0,maxWidth:p},g)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function _W({theme:t,ownerState:e}){const n=Ll({values:e.direction,breakpoints:t.breakpoints.values});return wi({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${af.item}`]={maxWidth:"none"}),i})}function N4({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function CW({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=Ll({values:r,breakpoints:t.breakpoints.values});let c;typeof o=="object"&&(c=N4({breakpoints:t.breakpoints.values,values:o})),i=wi({theme:t},o,(h,p)=>{var g;const x=t.spacing(h);return x!=="0px"?{marginTop:`-${ou(x)}`,[`& > .${af.item}`]:{paddingTop:ou(x)}}:(g=c)!=null&&g.includes(p)?{}:{marginTop:0,[`& > .${af.item}`]:{paddingTop:0}}})}return i}function bW({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=Ll({values:r,breakpoints:t.breakpoints.values});let c;typeof o=="object"&&(c=N4({breakpoints:t.breakpoints.values,values:o})),i=wi({theme:t},o,(h,p)=>{var g;const x=t.spacing(h);return x!=="0px"?{width:`calc(100% + ${ou(x)})`,marginLeft:`-${ou(x)}`,[`& > .${af.item}`]:{paddingLeft:ou(x)}}:(g=c)!=null&&g.includes(p)?{}:{width:"100%",marginLeft:0,[`& > .${af.item}`]:{paddingLeft:0}}})}return i}function IW(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const AW=xe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:c,wrap:h,zeroMinWidth:p,breakpoints:g}=n;let x=[];r&&(x=IW(c,g,e));const w=[];return g.forEach(C=>{const A=n[C];A&&w.push(e[`grid-${C}-${String(A)}`])}),[e.root,r&&e.container,o&&e.item,p&&e.zeroMinWidth,...x,i!=="row"&&e[`direction-xs-${String(i)}`],h!=="wrap"&&e[`wrap-xs-${String(h)}`],...w]}})(({ownerState:t})=>$({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),_W,CW,bW,EW);function TW(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const SW=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:c,zeroMinWidth:h,breakpoints:p}=t;let g=[];n&&(g=TW(o,p));const x=[];p.forEach(C=>{const A=t[C];A&&x.push(`grid-${C}-${String(A)}`)});const w={root:["root",n&&"container",i&&"item",h&&"zeroMinWidth",...g,r!=="row"&&`direction-xs-${String(r)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,...x]};return Xe(w,mW,e)},At=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiGrid"}),{breakpoints:i}=od(),o=Af(r),{className:c,columns:h,columnSpacing:p,component:g="div",container:x=!1,direction:w="row",item:C=!1,rowSpacing:A,spacing:k=0,wrap:O="wrap",zeroMinWidth:U=!1}=o,D=Ie(o,wW),I=A||k,R=p||k,V=B.useContext(Tb),H=x?h||12:V,X={},S=$({},D);i.keys.forEach(W=>{D[W]!=null&&(X[W]=D[W],delete S[W])});const M=$({},o,{columns:H,container:x,direction:w,item:C,rowSpacing:I,columnSpacing:R,wrap:O,zeroMinWidth:U,spacing:k},X,{breakpoints:i.keys}),N=SW(M);return _.jsx(Tb.Provider,{value:H,children:_.jsx(AW,$({ownerState:M,className:Se(N.root,c),as:g,ref:n},S))})}),RW=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Gv(t){return`scale(${t}, ${t**2})`}const PW={entering:{opacity:1,transform:Gv(1)},entered:{opacity:1,transform:"none"}},qm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),O4=B.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:c,in:h,onEnter:p,onEntered:g,onEntering:x,onExit:w,onExited:C,onExiting:A,style:k,timeout:O="auto",TransitionComponent:U=Ss}=e,D=Ie(e,RW),I=FS(),R=B.useRef(),V=od(),H=B.useRef(null),X=Zn(H,id(o),n),S=Z=>me=>{if(Z){const de=H.current;me===void 0?Z(de):Z(de,me)}},M=S(x),N=S((Z,me)=>{mw(Z);const{duration:de,delay:ne,easing:ce}=Uu({style:k,timeout:O,easing:c},{mode:"enter"});let Ce;O==="auto"?(Ce=V.transitions.getAutoHeightDuration(Z.clientHeight),R.current=Ce):Ce=de,Z.style.transition=[V.transitions.create("opacity",{duration:Ce,delay:ne}),V.transitions.create("transform",{duration:qm?Ce:Ce*.666,delay:ne,easing:ce})].join(","),p&&p(Z,me)}),W=S(g),G=S(A),q=S(Z=>{const{duration:me,delay:de,easing:ne}=Uu({style:k,timeout:O,easing:c},{mode:"exit"});let ce;O==="auto"?(ce=V.transitions.getAutoHeightDuration(Z.clientHeight),R.current=ce):ce=me,Z.style.transition=[V.transitions.create("opacity",{duration:ce,delay:de}),V.transitions.create("transform",{duration:qm?ce:ce*.666,delay:qm?de:de||ce*.333,easing:ne})].join(","),Z.style.opacity=0,Z.style.transform=Gv(.75),w&&w(Z)}),z=S(C),ue=Z=>{O==="auto"&&I.start(R.current||0,Z),r&&r(H.current,Z)};return _.jsx(U,$({appear:i,in:h,nodeRef:H,onEnter:N,onEntered:W,onEntering:M,onExit:q,onExited:z,onExiting:G,addEndListener:ue,timeout:O==="auto"?null:O},D,{children:(Z,me)=>B.cloneElement(o,$({style:$({opacity:0,transform:Gv(.75),visibility:Z==="exited"&&!h?"hidden":void 0},PW[Z],k,o.props.style),ref:X},me))}))});O4.muiSupportAuto=!0;const NW=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],OW=t=>{const{classes:e,disableUnderline:n}=t,i=Xe({root:["root",!n&&"underline"],input:["input"]},Qj,e);return $({},e,i)},kW=xe(Bg,{shouldForwardProp:t=>ni(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Lg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),$({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fd.disabled}, .${Fd.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Fd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),DW=xe(Vg,{name:"MuiInput",slot:"Input",overridesResolver:Fg})({}),Ew=B.forwardRef(function(e,n){var r,i,o,c;const h=Ye({props:e,name:"MuiInput"}),{disableUnderline:p,components:g={},componentsProps:x,fullWidth:w=!1,inputComponent:C="input",multiline:A=!1,slotProps:k,slots:O={},type:U="text"}=h,D=Ie(h,NW),I=OW(h),V={root:{ownerState:{disableUnderline:p}}},H=k??x?Jr(k??x,V):V,X=(r=(i=O.root)!=null?i:g.Root)!=null?r:kW,S=(o=(c=O.input)!=null?c:g.Input)!=null?o:DW;return _.jsx(yw,$({slots:{root:X,input:S},slotProps:H,fullWidth:w,inputComponent:C,multiline:A,ref:n,type:U},D,{classes:I}))});Ew.muiName="Input";function MW(t){return He("MuiInputAdornment",t)}const Sb=Ke("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Rb;const LW=["children","className","component","disablePointerEvents","disableTypography","position","variant"],FW=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ge(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},BW=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:c}=t,h={root:["root",n&&"disablePointerEvents",i&&`position${ge(i)}`,c,r&&"hiddenLabel",o&&`size${ge(o)}`]};return Xe(h,MW,e)},VW=xe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:FW})(({theme:t,ownerState:e})=>$({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${Sb.positionStart}&:not(.${Sb.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),_w=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:c="div",disablePointerEvents:h=!1,disableTypography:p=!1,position:g,variant:x}=r,w=Ie(r,LW),C=Vo()||{};let A=x;x&&C.variant,C&&!A&&(A=C.variant);const k=$({},r,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:h,position:g,variant:A}),O=BW(k);return _.jsx(Mg.Provider,{value:null,children:_.jsx(VW,$({as:c,ownerState:k,className:Se(O.root,o),ref:n},w,{children:typeof i=="string"&&!p?_.jsx(ke,{color:"text.secondary",children:i}):_.jsxs(B.Fragment,{children:[g==="start"?Rb||(Rb=_.jsx("span",{className:"notranslate",children:""})):null,i]})}))})});function UW(t){return He("MuiInputLabel",t)}Ke("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const jW=["disableAnimation","margin","shrink","variant","className"],zW=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:c,required:h}=t,p={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${ge(r)}`,c],asterisk:[h&&"asterisk"]},g=Xe(p,UW,e);return $({},e,g)},$W=xe(gW,{shouldForwardProp:t=>ni(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Eh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),$u=B.forwardRef(function(e,n){const r=Ye({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:c}=r,h=Ie(r,jW),p=Vo();let g=o;typeof g>"u"&&p&&(g=p.filled||p.focused||p.adornedStart);const x=uc({props:r,muiFormControl:p,states:["size","variant","required","focused"]}),w=$({},r,{disableAnimation:i,formControl:p,shrink:g,size:x.size,variant:x.variant,required:x.required,focused:x.focused}),C=zW(w);return _.jsx($W,$({"data-shrink":g,ownerState:w,ref:n,className:Se(C.root,c)},h,{classes:C}))}),Cs=B.createContext({});function WW(t){return He("MuiList",t)}Ke("MuiList",["root","padding","dense","subheader"]);const HW=["children","className","component","dense","disablePadding","subheader"],GW=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Xe({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},WW,e)},qW=xe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),k4=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiList"}),{children:i,className:o,component:c="ul",dense:h=!1,disablePadding:p=!1,subheader:g}=r,x=Ie(r,HW),w=B.useMemo(()=>({dense:h}),[h]),C=$({},r,{component:c,dense:h,disablePadding:p}),A=GW(C);return _.jsx(Cs.Provider,{value:w,children:_.jsxs(qW,$({as:c,className:Se(A.root,o),ref:n,ownerState:C},x,{children:[g,i]}))})});function KW(t){return He("MuiListItem",t)}const Oc=Ke("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function XW(t){return He("MuiListItemButton",t)}const kc=Ke("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),YW=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],QW=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},ZW=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:c,selected:h}=t,g=Xe({root:["root",r&&"dense",!o&&"gutters",c&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",h&&"selected"]},XW,n);return $({},n,g)},JW=xe(ja,{shouldForwardProp:t=>ni(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:QW})(({theme:t,ownerState:e})=>$({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:wt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${kc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:wt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${kc.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:wt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:wt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${kc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${kc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Pb=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:c="div",children:h,dense:p=!1,disableGutters:g=!1,divider:x=!1,focusVisibleClassName:w,selected:C=!1,className:A}=r,k=Ie(r,YW),O=B.useContext(Cs),U=B.useMemo(()=>({dense:p||O.dense||!1,alignItems:i,disableGutters:g}),[i,O.dense,p,g]),D=B.useRef(null);Is(()=>{o&&D.current&&D.current.focus()},[o]);const I=$({},r,{alignItems:i,dense:U.dense,disableGutters:g,divider:x,selected:C}),R=ZW(I),V=Zn(D,n);return _.jsx(Cs.Provider,{value:U,children:_.jsx(JW,$({ref:V,href:k.href||k.to,component:(k.href||k.to)&&c==="div"?"button":c,focusVisibleClassName:Se(R.focusVisible,w),ownerState:I,className:Se(R.root,A)},k,{classes:R,children:h}))})});function eH(t){return He("MuiListItemSecondaryAction",t)}Ke("MuiListItemSecondaryAction",["root","disableGutters"]);const tH=["className"],nH=t=>{const{disableGutters:e,classes:n}=t;return Xe({root:["root",e&&"disableGutters"]},eH,n)},rH=xe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>$({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),D4=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=Ie(r,tH),c=B.useContext(Cs),h=$({},r,{disableGutters:c.disableGutters}),p=nH(h);return _.jsx(rH,$({className:Se(p.root,i),ownerState:h,ref:n},o))});D4.muiName="ListItemSecondaryAction";const iH=["className"],sH=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],oH=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},aH=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:c,disablePadding:h,divider:p,hasSecondaryAction:g,selected:x}=t;return Xe({root:["root",i&&"dense",!c&&"gutters",!h&&"padding",p&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",g&&"secondaryAction",x&&"selected"],container:["container"]},KW,r)},lH=xe("div",{name:"MuiListItem",slot:"Root",overridesResolver:oH})(({theme:t,ownerState:e})=>$({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&$({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${kc.root}`]:{paddingRight:48}},{[`&.${Oc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Oc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:wt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Oc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:wt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Oc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Oc.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:wt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:wt(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),cH=xe("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Nb=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:c=!1,children:h,className:p,component:g,components:x={},componentsProps:w={},ContainerComponent:C="li",ContainerProps:{className:A}={},dense:k=!1,disabled:O=!1,disableGutters:U=!1,disablePadding:D=!1,divider:I=!1,focusVisibleClassName:R,secondaryAction:V,selected:H=!1,slotProps:X={},slots:S={}}=r,M=Ie(r.ContainerProps,iH),N=Ie(r,sH),W=B.useContext(Cs),G=B.useMemo(()=>({dense:k||W.dense||!1,alignItems:i,disableGutters:U}),[i,W.dense,k,U]),q=B.useRef(null);Is(()=>{o&&q.current&&q.current.focus()},[o]);const z=B.Children.toArray(h),ue=z.length&&Kp(z[z.length-1],["ListItemSecondaryAction"]),Z=$({},r,{alignItems:i,autoFocus:o,button:c,dense:G.dense,disabled:O,disableGutters:U,disablePadding:D,divider:I,hasSecondaryAction:ue,selected:H}),me=aH(Z),de=Zn(q,n),ne=S.root||x.Root||lH,ce=X.root||w.root||{},Ce=$({className:Se(me.root,ce.className,p),disabled:O},N);let et=g||"li";return c&&(Ce.component=g||"div",Ce.focusVisibleClassName=Se(Oc.focusVisible,R),et=ja),ue?(et=!Ce.component&&!g?"div":et,C==="li"&&(et==="li"?et="div":Ce.component==="li"&&(Ce.component="div")),_.jsx(Cs.Provider,{value:G,children:_.jsxs(cH,$({as:C,className:Se(me.container,A),ref:de,ownerState:Z},M,{children:[_.jsx(ne,$({},ce,!Su(ne)&&{as:et,ownerState:$({},Z,ce.ownerState)},Ce,{children:z})),z.pop()]}))})):_.jsx(Cs.Provider,{value:G,children:_.jsxs(ne,$({},ce,{as:et,ref:de},!Su(ne)&&{ownerState:$({},Z,ce.ownerState)},Ce,{children:[z,V&&_.jsx(D4,{children:V})]}))})});function uH(t){return He("MuiListItemIcon",t)}const Ob=Ke("MuiListItemIcon",["root","alignItemsFlexStart"]),dH=["className"],hH=t=>{const{alignItems:e,classes:n}=t;return Xe({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},uH,n)},fH=xe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>$({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),kb=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiListItemIcon"}),{className:i}=r,o=Ie(r,dH),c=B.useContext(Cs),h=$({},r,{alignItems:c.alignItems}),p=hH(h);return _.jsx(fH,$({className:Se(p.root,i),ownerState:h,ref:n},o))});function pH(t){return He("MuiListItemText",t)}const l1=Ke("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),gH=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],mH=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return Xe({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},pH,e)},yH=xe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${l1.primary}`]:e.primary},{[`& .${l1.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>$({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Db=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:c=!1,inset:h=!1,primary:p,primaryTypographyProps:g,secondary:x,secondaryTypographyProps:w}=r,C=Ie(r,gH),{dense:A}=B.useContext(Cs);let k=p??i,O=x;const U=$({},r,{disableTypography:c,inset:h,primary:!!k,secondary:!!O,dense:A}),D=mH(U);return k!=null&&k.type!==ke&&!c&&(k=_.jsx(ke,$({variant:A?"body2":"body1",className:D.primary,component:g!=null&&g.variant?void 0:"span",display:"block"},g,{children:k}))),O!=null&&O.type!==ke&&!c&&(O=_.jsx(ke,$({variant:"body2",className:D.secondary,color:"text.secondary",display:"block"},w,{children:O}))),_.jsxs(yH,$({className:Se(D.root,o),ownerState:U,ref:n},C,{children:[k,O]}))}),vH=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Km(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Mb(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function M4(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Vd(t,e,n,r,i,o){let c=!1,h=i(t,e,e?n:!1);for(;h;){if(h===t.firstChild){if(c)return!1;c=!0}const p=r?!1:h.disabled||h.getAttribute("aria-disabled")==="true";if(!h.hasAttribute("tabindex")||!M4(h,o)||p)h=i(t,h,n);else return h.focus(),!0}return!1}const xH=B.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:c,className:h,disabledItemsFocusable:p=!1,disableListWrap:g=!1,onKeyDown:x,variant:w="selectedMenu"}=e,C=Ie(e,vH),A=B.useRef(null),k=B.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Is(()=>{i&&A.current.focus()},[i]),B.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(R,{direction:V})=>{const H=!A.current.style.width;if(R.clientHeight<A.current.clientHeight&&H){const X=`${BS(Fi(R))}px`;A.current.style[V==="rtl"?"paddingLeft":"paddingRight"]=X,A.current.style.width=`calc(100% + ${X})`}return A.current}}),[]);const O=R=>{const V=A.current,H=R.key,X=Fi(V).activeElement;if(H==="ArrowDown")R.preventDefault(),Vd(V,X,g,p,Km);else if(H==="ArrowUp")R.preventDefault(),Vd(V,X,g,p,Mb);else if(H==="Home")R.preventDefault(),Vd(V,null,g,p,Km);else if(H==="End")R.preventDefault(),Vd(V,null,g,p,Mb);else if(H.length===1){const S=k.current,M=H.toLowerCase(),N=performance.now();S.keys.length>0&&(N-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&M!==S.keys[0]&&(S.repeating=!1)),S.lastTime=N,S.keys.push(M);const W=X&&!S.repeating&&M4(X,S);S.previousKeyMatched&&(W||Vd(V,X,!1,p,Km,S))?R.preventDefault():S.previousKeyMatched=!1}x&&x(R)},U=Zn(A,n);let D=-1;B.Children.forEach(c,(R,V)=>{if(!B.isValidElement(R)){D===V&&(D+=1,D>=c.length&&(D=-1));return}R.props.disabled||(w==="selectedMenu"&&R.props.selected||D===-1)&&(D=V),D===V&&(R.props.disabled||R.props.muiSkipListHighlight||R.type.muiSkipListHighlight)&&(D+=1,D>=c.length&&(D=-1))});const I=B.Children.map(c,(R,V)=>{if(V===D){const H={};return o&&(H.autoFocus=!0),R.props.tabIndex===void 0&&w==="selectedMenu"&&(H.tabIndex=0),B.cloneElement(R,H)}return R});return _.jsx(k4,$({role:"menu",ref:U,className:h,onKeyDown:O,tabIndex:i?0:-1},C,{children:I}))});function wH(t){return He("MuiPopover",t)}Ke("MuiPopover",["root","paper"]);const EH=["onEntering"],_H=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],CH=["slotProps"];function Lb(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Fb(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Bb(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Xm(t){return typeof t=="function"?t():t}const bH=t=>{const{classes:e}=t;return Xe({root:["root"],paper:["paper"]},wH,e)},IH=xe(xw,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),L4=xe(Ei,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),AH=B.forwardRef(function(e,n){var r,i,o;const c=Ye({props:e,name:"MuiPopover"}),{action:h,anchorEl:p,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:x,anchorReference:w="anchorEl",children:C,className:A,container:k,elevation:O=8,marginThreshold:U=16,open:D,PaperProps:I={},slots:R,slotProps:V,transformOrigin:H={vertical:"top",horizontal:"left"},TransitionComponent:X=O4,transitionDuration:S="auto",TransitionProps:{onEntering:M}={},disableScrollLock:N=!1}=c,W=Ie(c.TransitionProps,EH),G=Ie(c,_H),q=(r=V==null?void 0:V.paper)!=null?r:I,z=B.useRef(),ue=Zn(z,q.ref),Z=$({},c,{anchorOrigin:g,anchorReference:w,elevation:O,marginThreshold:U,externalPaperSlotProps:q,transformOrigin:H,TransitionComponent:X,transitionDuration:S,TransitionProps:W}),me=bH(Z),de=B.useCallback(()=>{if(w==="anchorPosition")return x;const De=Xm(p),pt=(De&&De.nodeType===1?De:Fi(z.current).body).getBoundingClientRect();return{top:pt.top+Lb(pt,g.vertical),left:pt.left+Fb(pt,g.horizontal)}},[p,g.horizontal,g.vertical,x,w]),ne=B.useCallback(De=>({vertical:Lb(De,H.vertical),horizontal:Fb(De,H.horizontal)}),[H.horizontal,H.vertical]),ce=B.useCallback(De=>{const ft={width:De.offsetWidth,height:De.offsetHeight},pt=ne(ft);if(w==="none")return{top:null,left:null,transformOrigin:Bb(pt)};const gr=de();let Bt=gr.top-pt.vertical,ct=gr.left-pt.horizontal;const nt=Bt+ft.height,Fn=ct+ft.width,be=Oo(Xm(p)),Sr=be.innerHeight-U,Bn=be.innerWidth-U;if(U!==null&&Bt<U){const mt=Bt-U;Bt-=mt,pt.vertical+=mt}else if(U!==null&&nt>Sr){const mt=nt-Sr;Bt-=mt,pt.vertical+=mt}if(U!==null&&ct<U){const mt=ct-U;ct-=mt,pt.horizontal+=mt}else if(Fn>Bn){const mt=Fn-Bn;ct-=mt,pt.horizontal+=mt}return{top:`${Math.round(Bt)}px`,left:`${Math.round(ct)}px`,transformOrigin:Bb(pt)}},[p,w,de,ne,U]),[Ce,et]=B.useState(D),Ue=B.useCallback(()=>{const De=z.current;if(!De)return;const ft=ce(De);ft.top!==null&&(De.style.top=ft.top),ft.left!==null&&(De.style.left=ft.left),De.style.transformOrigin=ft.transformOrigin,et(!0)},[ce]);B.useEffect(()=>(N&&window.addEventListener("scroll",Ue),()=>window.removeEventListener("scroll",Ue)),[p,N,Ue]);const Qe=(De,ft)=>{M&&M(De,ft),Ue()},ze=()=>{et(!1)};B.useEffect(()=>{D&&Ue()}),B.useImperativeHandle(h,()=>D?{updatePosition:()=>{Ue()}}:null,[D,Ue]),B.useEffect(()=>{if(!D)return;const De=v2(()=>{Ue()}),ft=Oo(p);return ft.addEventListener("resize",De),()=>{De.clear(),ft.removeEventListener("resize",De)}},[p,D,Ue]);let gt=S;S==="auto"&&!X.muiSupportAuto&&(gt=void 0);const Ae=k||(p?Fi(Xm(p)).body:void 0),Jt=(i=R==null?void 0:R.root)!=null?i:IH,_t=(o=R==null?void 0:R.paper)!=null?o:L4,qt=Ru({elementType:_t,externalSlotProps:$({},q,{style:Ce?q.style:$({},q.style,{opacity:0})}),additionalProps:{elevation:O,ref:ue},ownerState:Z,className:Se(me.paper,q==null?void 0:q.className)}),un=Ru({elementType:Jt,externalSlotProps:(V==null?void 0:V.root)||{},externalForwardedProps:G,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Ae,open:D},ownerState:Z,className:Se(me.root,A)}),{slotProps:Je}=un,Ft=Ie(un,CH);return _.jsx(Jt,$({},Ft,!Su(Jt)&&{slotProps:Je,disableScrollLock:N},{children:_.jsx(X,$({appear:!0,in:D,onEntering:Qe,onExited:ze,timeout:gt},W,{children:_.jsx(_t,$({},qt,{children:C}))}))}))});function TH(t){return He("MuiMenu",t)}Ke("MuiMenu",["root","paper","list"]);const SH=["onEntering"],RH=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],PH={vertical:"top",horizontal:"right"},NH={vertical:"top",horizontal:"left"},OH=t=>{const{classes:e}=t;return Xe({root:["root"],paper:["paper"],list:["list"]},TH,e)},kH=xe(AH,{shouldForwardProp:t=>ni(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),DH=xe(L4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MH=xe(xH,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),LH=B.forwardRef(function(e,n){var r,i;const o=Ye({props:e,name:"MuiMenu"}),{autoFocus:c=!0,children:h,className:p,disableAutoFocusItem:g=!1,MenuListProps:x={},onClose:w,open:C,PaperProps:A={},PopoverClasses:k,transitionDuration:O="auto",TransitionProps:{onEntering:U}={},variant:D="selectedMenu",slots:I={},slotProps:R={}}=o,V=Ie(o.TransitionProps,SH),H=Ie(o,RH),X=GS(),S=$({},o,{autoFocus:c,disableAutoFocusItem:g,MenuListProps:x,onEntering:U,PaperProps:A,transitionDuration:O,TransitionProps:V,variant:D}),M=OH(S),N=c&&!g&&C,W=B.useRef(null),G=(ne,ce)=>{W.current&&W.current.adjustStyleForScrollbar(ne,{direction:X?"rtl":"ltr"}),U&&U(ne,ce)},q=ne=>{ne.key==="Tab"&&(ne.preventDefault(),w&&w(ne,"tabKeyDown"))};let z=-1;B.Children.map(h,(ne,ce)=>{B.isValidElement(ne)&&(ne.props.disabled||(D==="selectedMenu"&&ne.props.selected||z===-1)&&(z=ce))});const ue=(r=I.paper)!=null?r:DH,Z=(i=R.paper)!=null?i:A,me=Ru({elementType:I.root,externalSlotProps:R.root,ownerState:S,className:[M.root,p]}),de=Ru({elementType:ue,externalSlotProps:Z,ownerState:S,className:M.paper});return _.jsx(kH,$({onClose:w,anchorOrigin:{vertical:"bottom",horizontal:X?"right":"left"},transformOrigin:X?PH:NH,slots:{paper:ue,root:I.root},slotProps:{root:me,paper:de},open:C,ref:n,transitionDuration:O,TransitionProps:$({onEntering:G},V),ownerState:S},H,{classes:k,children:_.jsx(MH,$({onKeyDown:q,actions:W,autoFocus:c&&(z===-1||g),autoFocusItem:N,variant:D},x,{className:Se(M.list,x.className),children:h}))}))});function FH(t){return He("MuiMenuItem",t)}const Ud=Ke("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),BH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],VH=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},UH=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:c}=t,p=Xe({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},FH,c);return $({},c,p)},jH=xe(ja,{shouldForwardProp:t=>ni(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:VH})(({theme:t,ownerState:e})=>$({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ud.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:wt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ud.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:wt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ud.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:wt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:wt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ud.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ud.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${_b.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${_b.inset}`]:{marginLeft:52},[`& .${l1.root}`]:{marginTop:0,marginBottom:0},[`& .${l1.inset}`]:{paddingLeft:36},[`& .${Ob.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Ob.root} svg`]:{fontSize:"1.25rem"}}))),fi=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:c=!1,divider:h=!1,disableGutters:p=!1,focusVisibleClassName:g,role:x="menuitem",tabIndex:w,className:C}=r,A=Ie(r,BH),k=B.useContext(Cs),O=B.useMemo(()=>({dense:c||k.dense||!1,disableGutters:p}),[k.dense,c,p]),U=B.useRef(null);Is(()=>{i&&U.current&&U.current.focus()},[i]);const D=$({},r,{dense:O.dense,divider:h,disableGutters:p}),I=UH(r),R=Zn(U,n);let V;return r.disabled||(V=w!==void 0?w:-1),_.jsx(Cs.Provider,{value:O,children:_.jsx(jH,$({ref:R,role:x,tabIndex:V,component:o,focusVisibleClassName:Se(I.focusVisible,g),className:Se(I.root,C)},A,{ownerState:D,classes:I}))})});function zH(t){return He("MuiNativeSelect",t)}const Cw=Ke("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),$H=["className","disabled","error","IconComponent","inputRef","variant"],WH=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:c}=t,h={select:["select",n,r&&"disabled",i&&"multiple",c&&"error"],icon:["icon",`icon${ge(n)}`,o&&"iconOpen",r&&"disabled"]};return Xe(h,zH,e)},F4=({ownerState:t,theme:e})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Cw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),HH=xe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ni,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${Cw.multiple}`]:e.multiple}]}})(F4),B4=({ownerState:t,theme:e})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Cw.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),GH=xe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ge(n.variant)}`],n.open&&e.iconOpen]}})(B4),qH=B.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:c,inputRef:h,variant:p="standard"}=e,g=Ie(e,$H),x=$({},e,{disabled:i,variant:p,error:o}),w=WH(x);return _.jsxs(B.Fragment,{children:[_.jsx(HH,$({ownerState:x,className:Se(w.select,r),disabled:i,ref:h||n},g)),e.multiple?null:_.jsx(GH,{as:c,ownerState:x,className:w.icon})]})});var Vb;const KH=["children","classes","className","label","notched"],XH=xe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:ni})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),YH=xe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:ni})(({ownerState:t,theme:e})=>$({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function QH(t){const{className:e,label:n,notched:r}=t,i=Ie(t,KH),o=n!=null&&n!=="",c=$({},t,{notched:r,withLabel:o});return _.jsx(XH,$({"aria-hidden":!0,className:e,ownerState:c},i,{children:_.jsx(YH,{ownerState:c,children:o?_.jsx("span",{children:n}):Vb||(Vb=_.jsx("span",{className:"notranslate",children:""}))})}))}const ZH=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],JH=t=>{const{classes:e}=t,r=Xe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Zj,e);return $({},e,r)},eG=xe(Bg,{shouldForwardProp:t=>ni(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Lg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Yo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Yo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Yo.focused} .${Yo.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Yo.error} .${Yo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Yo.disabled} .${Yo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&$({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),tG=xe(QH,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),nG=xe(Vg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Fg})(({theme:t,ownerState:e})=>$({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),bw=B.forwardRef(function(e,n){var r,i,o,c,h;const p=Ye({props:e,name:"MuiOutlinedInput"}),{components:g={},fullWidth:x=!1,inputComponent:w="input",label:C,multiline:A=!1,notched:k,slots:O={},type:U="text"}=p,D=Ie(p,ZH),I=JH(p),R=Vo(),V=uc({props:p,muiFormControl:R,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),H=$({},p,{color:V.color||"primary",disabled:V.disabled,error:V.error,focused:V.focused,formControl:R,fullWidth:x,hiddenLabel:V.hiddenLabel,multiline:A,size:V.size,type:U}),X=(r=(i=O.root)!=null?i:g.Root)!=null?r:eG,S=(o=(c=O.input)!=null?c:g.Input)!=null?o:nG;return _.jsx(yw,$({slots:{root:X,input:S},renderSuffix:M=>_.jsx(tG,{ownerState:H,className:I.notchedOutline,label:C!=null&&C!==""&&V.required?h||(h=_.jsxs(B.Fragment,{children:[C,"","*"]})):C,notched:typeof k<"u"?k:!!(M.startAdornment||M.filled||M.focused)}),fullWidth:x,inputComponent:w,multiline:A,ref:n,type:U},D,{classes:$({},I,{notchedOutline:null})}))});bw.muiName="Input";function rG(t){return He("MuiSelect",t)}const jd=Ke("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ub;const iG=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],sG=xe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${jd.select}`]:e.select},{[`&.${jd.select}`]:e[n.variant]},{[`&.${jd.error}`]:e.error},{[`&.${jd.multiple}`]:e.multiple}]}})(F4,{[`&.${jd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),oG=xe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ge(n.variant)}`],n.open&&e.iconOpen]}})(B4),aG=xe("input",{shouldForwardProp:t=>rR(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function jb(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function lG(t){return t==null||typeof t=="string"&&!t.trim()}const cG=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:c}=t,h={select:["select",n,r&&"disabled",i&&"multiple",c&&"error"],icon:["icon",`icon${ge(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Xe(h,rG,e)},uG=B.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:c,autoWidth:h,children:p,className:g,defaultOpen:x,defaultValue:w,disabled:C,displayEmpty:A,error:k=!1,IconComponent:O,inputRef:U,labelId:D,MenuProps:I={},multiple:R,name:V,onBlur:H,onChange:X,onClose:S,onFocus:M,onOpen:N,open:W,readOnly:G,renderValue:q,SelectDisplayProps:z={},tabIndex:ue,value:Z,variant:me="standard"}=e,de=Ie(e,iG),[ne,ce]=pv({controlled:Z,default:w,name:"Select"}),[Ce,et]=pv({controlled:W,default:x,name:"Select"}),Ue=B.useRef(null),Qe=B.useRef(null),[ze,gt]=B.useState(null),{current:Ae}=B.useRef(W!=null),[Jt,_t]=B.useState(),qt=Zn(n,U),un=B.useCallback(Ne=>{Qe.current=Ne,Ne&&gt(Ne)},[]),Je=ze==null?void 0:ze.parentNode;B.useImperativeHandle(qt,()=>({focus:()=>{Qe.current.focus()},node:Ue.current,value:ne}),[ne]),B.useEffect(()=>{x&&Ce&&ze&&!Ae&&(_t(h?null:Je.clientWidth),Qe.current.focus())},[ze,h]),B.useEffect(()=>{c&&Qe.current.focus()},[c]),B.useEffect(()=>{if(!D)return;const Ne=Fi(Qe.current).getElementById(D);if(Ne){const pe=()=>{getSelection().isCollapsed&&Qe.current.focus()};return Ne.addEventListener("click",pe),()=>{Ne.removeEventListener("click",pe)}}},[D]);const Ft=(Ne,pe)=>{Ne?N&&N(pe):S&&S(pe),Ae||(_t(h?null:Je.clientWidth),et(Ne))},De=Ne=>{Ne.button===0&&(Ne.preventDefault(),Qe.current.focus(),Ft(!0,Ne))},ft=Ne=>{Ft(!1,Ne)},pt=B.Children.toArray(p),gr=Ne=>{const pe=pt.find(ut=>ut.props.value===Ne.target.value);pe!==void 0&&(ce(pe.props.value),X&&X(Ne,pe))},Bt=Ne=>pe=>{let ut;if(pe.currentTarget.hasAttribute("tabindex")){if(R){ut=Array.isArray(ne)?ne.slice():[];const Ct=ne.indexOf(Ne.props.value);Ct===-1?ut.push(Ne.props.value):ut.splice(Ct,1)}else ut=Ne.props.value;if(Ne.props.onClick&&Ne.props.onClick(pe),ne!==ut&&(ce(ut),X)){const Ct=pe.nativeEvent||pe,rn=new Ct.constructor(Ct.type,Ct);Object.defineProperty(rn,"target",{writable:!0,value:{value:ut,name:V}}),X(rn,Ne)}R||Ft(!1,pe)}},ct=Ne=>{G||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ne.key)!==-1&&(Ne.preventDefault(),Ft(!0,Ne))},nt=ze!==null&&Ce,Fn=Ne=>{!nt&&H&&(Object.defineProperty(Ne,"target",{writable:!0,value:{value:ne,name:V}}),H(Ne))};delete de["aria-invalid"];let be,Sr;const Bn=[];let mt=!1;(r1({value:ne})||A)&&(q?be=q(ne):mt=!0);const mr=pt.map(Ne=>{if(!B.isValidElement(Ne))return null;let pe;if(R){if(!Array.isArray(ne))throw new Error(Hl(2));pe=ne.some(ut=>jb(ut,Ne.props.value)),pe&&mt&&Bn.push(Ne.props.children)}else pe=jb(ne,Ne.props.value),pe&&mt&&(Sr=Ne.props.children);return B.cloneElement(Ne,{"aria-selected":pe?"true":"false",onClick:Bt(Ne),onKeyUp:ut=>{ut.key===" "&&ut.preventDefault(),Ne.props.onKeyUp&&Ne.props.onKeyUp(ut)},role:"option",selected:pe,value:void 0,"data-value":Ne.props.value})});mt&&(R?Bn.length===0?be=null:be=Bn.reduce((Ne,pe,ut)=>(Ne.push(pe),ut<Bn.length-1&&Ne.push(", "),Ne),[]):be=Sr);let vt=Jt;!h&&Ae&&ze&&(vt=Je.clientWidth);let en;typeof ue<"u"?en=ue:en=C?null:0;const dt=z.id||(V?`mui-component-select-${V}`:void 0),Le=$({},e,{variant:me,value:ne,open:nt,error:k}),zr=cG(Le),zi=$({},I.PaperProps,(r=I.slotProps)==null?void 0:r.paper),_i=lg();return _.jsxs(B.Fragment,{children:[_.jsx(sG,$({ref:un,tabIndex:en,role:"combobox","aria-controls":_i,"aria-disabled":C?"true":void 0,"aria-expanded":nt?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[D,dt].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:ct,onMouseDown:C||G?null:De,onBlur:Fn,onFocus:M},z,{ownerState:Le,className:Se(z.className,zr.select,g),id:dt,children:lG(be)?Ub||(Ub=_.jsx("span",{className:"notranslate",children:""})):be})),_.jsx(aG,$({"aria-invalid":k,value:Array.isArray(ne)?ne.join(","):ne,name:V,ref:Ue,"aria-hidden":!0,onChange:gr,tabIndex:-1,disabled:C,className:zr.nativeInput,autoFocus:c,ownerState:Le},de)),_.jsx(oG,{as:O,className:zr.icon,ownerState:Le}),_.jsx(LH,$({id:`menu-${V||""}`,anchorEl:Je,open:nt,onClose:ft,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},I,{MenuListProps:$({"aria-labelledby":D,role:"listbox","aria-multiselectable":R?"true":void 0,disableListWrap:!0,id:_i},I.MenuListProps),slotProps:$({},I.slotProps,{paper:$({},zi,{style:$({minWidth:vt},zi!=null?zi.style:null)})}),children:mr}))]})}),dG=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],hG=["root"],fG=t=>{const{classes:e}=t;return e},Iw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ni(t)&&t!=="variant",slot:"Root"},pG=xe(Ew,Iw)(""),gG=xe(bw,Iw)(""),mG=xe(ww,Iw)(""),Jl=B.forwardRef(function(e,n){const r=Ye({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:c={},className:h,defaultOpen:p=!1,displayEmpty:g=!1,IconComponent:x=ez,id:w,input:C,inputProps:A,label:k,labelId:O,MenuProps:U,multiple:D=!1,native:I=!1,onClose:R,onOpen:V,open:H,renderValue:X,SelectDisplayProps:S,variant:M="outlined"}=r,N=Ie(r,dG),W=I?qH:uG,G=Vo(),q=uc({props:r,muiFormControl:G,states:["variant","error"]}),z=q.variant||M,ue=$({},r,{variant:z,classes:c}),Z=fG(ue),me=Ie(Z,hG),de=C||{standard:_.jsx(pG,{ownerState:ue}),outlined:_.jsx(gG,{label:k,ownerState:ue}),filled:_.jsx(mG,{ownerState:ue})}[z],ne=Zn(n,id(de));return _.jsx(B.Fragment,{children:B.cloneElement(de,$({inputComponent:W,inputProps:$({children:o,error:q.error,IconComponent:x,variant:z,type:void 0,multiple:D},I?{id:w}:{autoWidth:i,defaultOpen:p,displayEmpty:g,labelId:O,MenuProps:U,onClose:R,onOpen:V,open:H,renderValue:X,SelectDisplayProps:$({id:w},S)},A,{classes:A?Jr(me,A.classes):me},C?C.props.inputProps:{})},(D&&I||g)&&z==="outlined"?{notched:!0}:{},{ref:ne,className:Se(de.props.className,h,Z.root)},!C&&{variant:z},N))})});Jl.muiName="Select";function yG(t){return He("MuiSwitch",t)}const Gr=Ke("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),vG=["className","color","edge","size","sx"],xG=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:c}=t,h={root:["root",n&&`edge${ge(n)}`,`size${ge(r)}`],switchBase:["switchBase",`color${ge(i)}`,o&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},p=Xe(h,yG,e);return $({},e,p)},wG=xe("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${ge(n.edge)}`],e[`size${ge(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Gr.thumb}`]:{width:16,height:16},[`& .${Gr.switchBase}`]:{padding:4,[`&.${Gr.checked}`]:{transform:"translateX(16px)"}}}}]}),EG=xe(Pz,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${Gr.input}`]:e.input},n.color!=="default"&&e[`color${ge(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Gr.checked}`]:{transform:"translateX(20px)"},[`&.${Gr.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Gr.checked} + .${Gr.track}`]:{opacity:.5},[`&.${Gr.disabled} + .${Gr.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Gr.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:wt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${Gr.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:wt(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Gr.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?qh(t.palette[e].main,.62):Gh(t.palette[e].main,.55)}`}},[`&.${Gr.checked} + .${Gr.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),_G=xe("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),CG=xe("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),bG=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:c=!1,size:h="medium",sx:p}=r,g=Ie(r,vG),x=$({},r,{color:o,edge:c,size:h}),w=xG(x),C=_.jsx(CG,{className:w.thumb,ownerState:x});return _.jsxs(wG,{className:Se(w.root,i),sx:p,ownerState:x,children:[_.jsx(EG,$({type:"checkbox",icon:C,checkedIcon:C,ref:n,ownerState:x},g,{classes:$({},w,{root:w.switchBase})})),_.jsx(_G,{className:w.track,ownerState:x})]})}),V4=B.createContext();function IG(t){return He("MuiTable",t)}Ke("MuiTable",["root","stickyHeader"]);const AG=["className","component","padding","size","stickyHeader"],TG=t=>{const{classes:e,stickyHeader:n}=t;return Xe({root:["root",n&&"stickyHeader"]},IG,e)},SG=xe("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>$({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":$({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),zb="table",Wu=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTable"}),{className:i,component:o=zb,padding:c="normal",size:h="medium",stickyHeader:p=!1}=r,g=Ie(r,AG),x=$({},r,{component:o,padding:c,size:h,stickyHeader:p}),w=TG(x),C=B.useMemo(()=>({padding:c,size:h,stickyHeader:p}),[c,h,p]);return _.jsx(V4.Provider,{value:C,children:_.jsx(SG,$({as:o,role:o===zb?null:"table",ref:n,className:Se(w.root,i),ownerState:x},g))})}),jg=B.createContext();function RG(t){return He("MuiTableBody",t)}Ke("MuiTableBody",["root"]);const PG=["className","component"],NG=t=>{const{classes:e}=t;return Xe({root:["root"]},RG,e)},OG=xe("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),kG={variant:"body"},$b="tbody",Hu=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTableBody"}),{className:i,component:o=$b}=r,c=Ie(r,PG),h=$({},r,{component:o}),p=NG(h);return _.jsx(jg.Provider,{value:kG,children:_.jsx(OG,$({className:Se(p.root,i),as:o,ref:n,role:o===$b?null:"rowgroup",ownerState:h},c))})});function DG(t){return He("MuiTableCell",t)}const MG=Ke("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),LG=["align","className","component","padding","scope","size","sortDirection","variant"],FG=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:c}=t,h={root:["root",n,c&&"stickyHeader",r!=="inherit"&&`align${ge(r)}`,i!=="normal"&&`padding${ge(i)}`,`size${ge(o)}`]};return Xe(h,DG,e)},BG=xe("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${ge(n.size)}`],n.padding!=="normal"&&e[`padding${ge(n.padding)}`],n.align!=="inherit"&&e[`align${ge(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>$({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?qh(wt(t.palette.divider,1),.88):Gh(wt(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${MG.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),Pe=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:c,padding:h,scope:p,size:g,sortDirection:x,variant:w}=r,C=Ie(r,LG),A=B.useContext(V4),k=B.useContext(jg),O=k&&k.variant==="head";let U;c?U=c:U=O?"th":"td";let D=p;U==="td"?D=void 0:!D&&O&&(D="col");const I=w||k&&k.variant,R=$({},r,{align:i,component:U,padding:h||(A&&A.padding?A.padding:"normal"),size:g||(A&&A.size?A.size:"medium"),sortDirection:x,stickyHeader:I==="head"&&A&&A.stickyHeader,variant:I}),V=FG(R);let H=null;return x&&(H=x==="asc"?"ascending":"descending"),_.jsx(BG,$({as:U,ref:n,className:Se(V.root,o),"aria-sort":H,scope:D,ownerState:R},C))});function VG(t){return He("MuiTableContainer",t)}Ke("MuiTableContainer",["root"]);const UG=["className","component"],jG=t=>{const{classes:e}=t;return Xe({root:["root"]},VG,e)},zG=xe("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),Uf=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTableContainer"}),{className:i,component:o="div"}=r,c=Ie(r,UG),h=$({},r,{component:o}),p=jG(h);return _.jsx(zG,$({ref:n,as:o,className:Se(p.root,i),ownerState:h},c))});function $G(t){return He("MuiTableHead",t)}Ke("MuiTableHead",["root"]);const WG=["className","component"],HG=t=>{const{classes:e}=t;return Xe({root:["root"]},$G,e)},GG=xe("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),qG={variant:"head"},Wb="thead",Gu=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTableHead"}),{className:i,component:o=Wb}=r,c=Ie(r,WG),h=$({},r,{component:o}),p=HG(h);return _.jsx(jg.Provider,{value:qG,children:_.jsx(GG,$({as:o,className:Se(p.root,i),ref:n,role:o===Wb?null:"rowgroup",ownerState:h},c))})});function KG(t){return He("MuiToolbar",t)}Ke("MuiToolbar",["root","gutters","regular","dense"]);const XG=["className","component","disableGutters","variant"],YG=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Xe({root:["root",!n&&"gutters",r]},KG,e)},QG=xe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>$({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Ym=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:c=!1,variant:h="regular"}=r,p=Ie(r,XG),g=$({},r,{component:o,disableGutters:c,variant:h}),x=YG(g);return _.jsx(QG,$({as:o,className:Se(x.root,i),ref:n,ownerState:g},p))});function ZG(t){return He("MuiTableRow",t)}const Hb=Ke("MuiTableRow",["root","selected","hover","head","footer"]),JG=["className","component","hover","selected"],eq=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return Xe({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},ZG,e)},tq=xe("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Hb.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Hb.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:wt(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:wt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),Gb="tr",Vr=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTableRow"}),{className:i,component:o=Gb,hover:c=!1,selected:h=!1}=r,p=Ie(r,JG),g=B.useContext(jg),x=$({},r,{component:o,hover:c,selected:h,head:g&&g.variant==="head",footer:g&&g.variant==="footer"}),w=eq(x);return _.jsx(tq,$({as:o,ref:n,className:Se(w.root,i),role:o===Gb?null:"row",ownerState:x},p))});function nq(t){return He("MuiTextField",t)}Ke("MuiTextField",["root"]);const rq=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],iq={standard:Ew,filled:ww,outlined:bw},sq=t=>{const{classes:e}=t;return Xe({root:["root"]},nq,e)},oq=xe(zu,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ln=B.forwardRef(function(e,n){const r=Ye({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:c,className:h,color:p="primary",defaultValue:g,disabled:x=!1,error:w=!1,FormHelperTextProps:C,fullWidth:A=!1,helperText:k,id:O,InputLabelProps:U,inputProps:D,InputProps:I,inputRef:R,label:V,maxRows:H,minRows:X,multiline:S=!1,name:M,onBlur:N,onChange:W,onFocus:G,placeholder:q,required:z=!1,rows:ue,select:Z=!1,SelectProps:me,type:de,value:ne,variant:ce="outlined"}=r,Ce=Ie(r,rq),et=$({},r,{autoFocus:o,color:p,disabled:x,error:w,fullWidth:A,multiline:S,required:z,select:Z,variant:ce}),Ue=sq(et),Qe={};ce==="outlined"&&(U&&typeof U.shrink<"u"&&(Qe.notched=U.shrink),Qe.label=V),Z&&((!me||!me.native)&&(Qe.id=void 0),Qe["aria-describedby"]=void 0);const ze=lg(O),gt=k&&ze?`${ze}-helper-text`:void 0,Ae=V&&ze?`${ze}-label`:void 0,Jt=iq[ce],_t=_.jsx(Jt,$({"aria-describedby":gt,autoComplete:i,autoFocus:o,defaultValue:g,fullWidth:A,multiline:S,name:M,rows:ue,maxRows:H,minRows:X,type:de,value:ne,id:ze,inputRef:R,onBlur:N,onChange:W,onFocus:G,placeholder:q,inputProps:D},Qe,I));return _.jsxs(oq,$({className:Se(Ue.root,h),disabled:x,error:w,fullWidth:A,ref:n,required:z,color:p,variant:ce,ownerState:et},Ce,{children:[V!=null&&V!==""&&_.jsx($u,$({htmlFor:ze,id:Ae},U,{children:V})),Z?_.jsx(Jl,$({"aria-describedby":gt,id:ze,labelId:Ae,value:ne,input:_t},me,{children:c})):_t,k&&_.jsx(cW,$({id:gt},C,{children:k}))]}))}),U4=xn(_.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),aq=xn(_.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),j4=xn(_.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),lq=xn(_.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),cq=xn(_.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),z4=xn(_.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),uq=xn(_.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),dq=xn(_.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"}),"Inventory"),hq=xn(_.jsx("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"LocalShipping"),fq=xn(_.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),pq=xn(_.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),qv=xn(_.jsx("path",{d:"M9.5 6.5v3h-3v-3zM11 5H5v6h6zm-1.5 9.5v3h-3v-3zM11 13H5v6h6zm6.5-6.5v3h-3v-3zM19 5h-6v6h6zm-6 8h1.5v1.5H13zm1.5 1.5H16V16h-1.5zM16 13h1.5v1.5H16zm-3 3h1.5v1.5H13zm1.5 1.5H16V19h-1.5zM16 16h1.5v1.5H16zm1.5-1.5H19V16h-1.5zm0 3H19V19h-1.5zM22 7h-2V4h-3V2h5zm0 15v-5h-2v3h-3v2zM2 22h5v-2H4v-3H2zM2 2v5h2V4h3V2z"}),"QrCodeScanner"),$4=xn(_.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),zg=xn(_.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Kv=xn(_.jsx("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart"),W4=xn(_.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),gq=xn(_.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),mq=xn(_.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");class yq extends B.Component{constructor(){super(...arguments);Nw(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n;return this.state.hasError?_.jsx(Mt,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",p:3,children:_.jsxs(Ei,{sx:{p:4,maxWidth:500,textAlign:"center"},children:[_.jsx(uq,{color:"error",sx:{fontSize:64,mb:2}}),_.jsx(ke,{variant:"h5",gutterBottom:!0,children:"Something went wrong"}),_.jsx(ke,{variant:"body2",color:"textSecondary",sx:{mb:3},children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),_.jsx(Qr,{variant:"contained",onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},children:"Reload Page"})]})}):this.props.children}}const md=({message:t="Loading..."})=>_.jsxs(Mt,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",gap:2,children:[_.jsx(vw,{}),_.jsx(ke,{color:"textSecondary",children:t})]}),Ac=240,vq=[{text:"Dashboard",icon:_.jsx(cq,{}),path:"/"},{text:"Medical Stores",icon:_.jsx(W4,{}),path:"/stores"},{text:"Orders",icon:_.jsx(Kv,{}),path:"/orders"},{text:"Inventory",icon:_.jsx(dq,{}),path:"/inventory"}],zd=({children:t})=>{const[e,n]=B.useState(!1),r=Qu(),i=wf(),o=()=>{n(!e)},c=async()=>{await TU(),r("/login")},h=_.jsxs(Mt,{children:[_.jsx(Ym,{children:_.jsx(ke,{variant:"h6",noWrap:!0,component:"div",children:"SimpliPharma Admin"})}),_.jsxs(k4,{children:[vq.map(p=>_.jsx(Nb,{disablePadding:!0,children:_.jsxs(Pb,{selected:i.pathname===p.path,onClick:()=>{r(p.path),n(!1)},children:[_.jsx(kb,{children:p.icon}),_.jsx(Db,{primary:p.text})]})},p.text)),_.jsx(Nb,{disablePadding:!0,children:_.jsxs(Pb,{onClick:c,children:[_.jsx(kb,{children:_.jsx(fq,{})}),_.jsx(Db,{primary:"Logout"})]})})]})]});return _.jsxs(Mt,{sx:{display:"flex"},children:[_.jsx(sR,{}),_.jsx(kj,{position:"fixed",sx:{width:{sm:`calc(100% - ${Ac}px)`},ml:{sm:`${Ac}px`}},children:_.jsxs(Ym,{children:[_.jsx(pq,{sx:{mr:2,display:{sm:"none"}},onClick:o}),_.jsx(ke,{variant:"h6",noWrap:!0,component:"div",children:"Admin Panel"})]})}),_.jsxs(Mt,{component:"nav",sx:{width:{sm:Ac},flexShrink:{sm:0}},children:[_.jsx(bb,{variant:"temporary",open:e,onClose:o,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ac}},children:h}),_.jsx(bb,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ac}},open:!0,children:h})]}),_.jsxs(Mt,{component:"main",sx:{flexGrow:1,p:3,width:{sm:`calc(100% - ${Ac}px)`}},children:[_.jsx(Ym,{}),t]})]})},xq=()=>{const[t,e]=B.useState(""),[n,r]=B.useState(""),[i,o]=B.useState(""),[c,h]=B.useState(!1),p=Qu();B.useEffect(()=>_4(async w=>{if(w)try{await jv(w.uid)&&p("/")}catch(C){console.error("Error checking admin status:",C)}}),[p]);const g=async x=>{x.preventDefault(),o(""),h(!0);try{const w=await AU(t,n);await jv(w.user.uid)?p("/"):o("Access denied. Admin privileges required.")}catch(w){o(w.message||"Login failed")}finally{h(!1)}};return _.jsx(Vz,{maxWidth:"sm",children:_.jsx(Mt,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsxs(Ei,{sx:{p:4,width:"100%"},children:[_.jsx(ke,{variant:"h4",align:"center",gutterBottom:!0,children:"SimpliPharma Admin"}),_.jsx(ke,{variant:"body2",align:"center",color:"textSecondary",sx:{mb:3},children:"Login to access admin panel"}),i&&_.jsx(Ao,{severity:"error",sx:{mb:2},children:i}),_.jsxs("form",{onSubmit:g,children:[_.jsx(Ln,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:x=>e(x.target.value),margin:"normal",required:!0,autoComplete:"email"}),_.jsx(Ln,{fullWidth:!0,label:"Password",type:"password",value:n,onChange:x=>r(x.target.value),margin:"normal",required:!0,autoComplete:"current-password"}),_.jsx(Qr,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:c,children:c?_.jsx(vw,{size:24}):"Login"})]})]})})})},wq=async()=>{const t=Sg(Js,"orders");try{const e=t1(t,xU("orderDate","desc"));return(await Vu(e)).docs.map(i=>{var o;return{id:i.id,...i.data(),orderDate:((o=i.data().orderDate)==null?void 0:o.toDate())||new Date}})}catch(e){return console.warn("OrderBy query failed, sorting in memory:",e),(await Vu(t)).docs.map(i=>{var o;return{id:i.id,...i.data(),orderDate:((o=i.data().orderDate)==null?void 0:o.toDate())||new Date}}).sort((i,o)=>{const c=i.orderDate instanceof Date?i.orderDate:new Date(i.orderDate);return(o.orderDate instanceof Date?o.orderDate:new Date(o.orderDate)).getTime()-c.getTime()})}},Eq=async(t,e)=>{const n=gd(Js,"orders",t),r={status:e.status,dispatchDate:nn.fromDate(e.dispatchDate),dispatchedBy:e.dispatchedBy};e.trackingNumber&&(r.trackingNumber=e.trackingNumber),e.courierName&&(r.courierName=e.courierName),e.dispatchNotes&&(r.dispatchNotes=e.dispatchNotes),e.estimatedDeliveryDate&&(r.estimatedDeliveryDate=nn.fromDate(e.estimatedDeliveryDate)),await Vf(n,r)},_q=async(t,e)=>{const n=gd(Js,"orders",t);await Vf(n,{status:"Delivered",deliveryConfirmation:{deliveredAt:nn.now(),deliveredBy:e}})},H4=()=>Ef({queryKey:["orders"],queryFn:wq}),Cq=()=>{const t=Ga();return ic({mutationFn:({orderId:e,dispatchData:n})=>Eq(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["orders"]})}})},bq=()=>{const t=Ga();return ic({mutationFn:({orderId:e,deliveredBy:n})=>_q(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["orders"]})}})},Iq=async()=>{const t=Sg(Js,"users"),e=t1(t,Uv("role","==","retailer"));return(await Vu(e)).docs.map(r=>({id:r.id,uid:r.id,...r.data()}))},G4=async(t,e)=>{const n=gd(Js,"users",t);await Vf(n,e)},Aq=async(t,e)=>{await G4(t,{isActive:e})},q4=()=>Ef({queryKey:["stores"],queryFn:Iq}),Tq=()=>{const t=Ga();return ic({mutationFn:({storeId:e,data:n})=>G4(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["stores"]})}})},Sq=()=>{const t=Ga();return ic({mutationFn:({storeId:e,isActive:n})=>Aq(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["stores"]})}})},Aw=async()=>{const t=Sg(Js,"medicines");return(await Vu(t)).docs.map(n=>({id:n.id,...n.data()}))},Rq=async(t,e)=>{const n=gd(Js,"medicines",t),r={...e};e.expiryDate&&(r.expiryDate=nn.fromDate(e.expiryDate)),await Vf(n,r)},Pq=async(t,e)=>{const n=gd(Js,"medicines",t),r=await x4(n);if(!r.exists())throw new Error("Medicine not found");const o=r.data().stockBatches||[],c={id:Date.now().toString(),...e,expiryDate:e.expiryDate instanceof Date?nn.fromDate(e.expiryDate):e.expiryDate,purchaseDate:e.purchaseDate instanceof Date?nn.fromDate(e.purchaseDate):e.purchaseDate||nn.now()};o.push(c);const h=o.reduce((p,g)=>p+g.quantity,0);await Vf(n,{stockBatches:o.map(p=>({...p,expiryDate:p.expiryDate instanceof Date?nn.fromDate(p.expiryDate):p.expiryDate,purchaseDate:p.purchaseDate instanceof Date?nn.fromDate(p.purchaseDate):p.purchaseDate})),stock:h,currentStock:h})},Nq=async t=>{const e=Sg(Js,"medicines");try{const n=t1(e,Uv("barcode","==",t)),r=await Vu(n);if(!r.empty){const i=r.docs[0];return{id:i.id,...i.data()}}}catch(n){console.warn("Barcode query failed:",n)}try{const n=t1(e,Uv("code","==",t)),r=await Vu(n);if(!r.empty){const i=r.docs[0];return{id:i.id,...i.data()}}}catch(n){console.warn("Code query failed:",n)}return null},Oq=async(t=30)=>{const e=await Aw(),n=new Date,r=new Date;return r.setDate(n.getDate()+t),e.filter(i=>{if(!i.expiryDate)return!1;const o=i.expiryDate instanceof Date?i.expiryDate:i.expiryDate.toDate();return o<=r&&o>=n})},kq=async()=>{const t=await Aw(),e=new Date;return t.filter(n=>n.expiryDate?(n.expiryDate instanceof Date?n.expiryDate:n.expiryDate.toDate())<e:!1)},Tw=()=>Ef({queryKey:["medicines"],queryFn:Aw}),Dq=()=>{const t=Ga();return ic({mutationFn:({medicineId:e,updates:n})=>Rq(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["medicines"]})}})},Mq=()=>{const t=Ga();return ic({mutationFn:({medicineId:e,batch:n})=>Pq(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["medicines"]})}})},Lq=()=>ic({mutationFn:t=>Nq(t)}),K4=(t=30)=>Ef({queryKey:["expiringMedicines",t],queryFn:()=>Oq(t)}),X4=()=>Ef({queryKey:["expiredMedicines"],queryFn:kq});function ec(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ri(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function eo(t){ri(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||L0(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Fq(t,e){ri(2,arguments);var n=eo(t).getTime(),r=ec(e);return new Date(n+r)}var Bq={};function $g(){return Bq}function Vq(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Uq(t){return ri(1,arguments),t instanceof Date||L0(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jq(t){if(ri(1,arguments),!Uq(t)&&typeof t!="number")return!1;var e=eo(t);return!isNaN(Number(e))}function zq(t,e){ri(2,arguments);var n=ec(e);return Fq(t,-n)}var $q=864e5;function Wq(t){ri(1,arguments);var e=eo(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/$q)+1}function c1(t){ri(1,arguments);var e=1,n=eo(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Y4(t){ri(1,arguments);var e=eo(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=c1(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var c=c1(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}function Hq(t){ri(1,arguments);var e=Y4(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=c1(n);return r}var Gq=6048e5;function qq(t){ri(1,arguments);var e=eo(t),n=c1(e).getTime()-Hq(e).getTime();return Math.round(n/Gq)+1}function u1(t,e){var n,r,i,o,c,h,p,g;ri(1,arguments);var x=$g(),w=ec((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(c=e.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&i!==void 0?i:x.weekStartsOn)!==null&&r!==void 0?r:(p=x.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&n!==void 0?n:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=eo(t),A=C.getUTCDay(),k=(A<w?7:0)+A-w;return C.setUTCDate(C.getUTCDate()-k),C.setUTCHours(0,0,0,0),C}function Q4(t,e){var n,r,i,o,c,h,p,g;ri(1,arguments);var x=eo(t),w=x.getUTCFullYear(),C=$g(),A=ec((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(c=e.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:C.firstWeekContainsDate)!==null&&r!==void 0?r:(p=C.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=new Date(0);k.setUTCFullYear(w+1,0,A),k.setUTCHours(0,0,0,0);var O=u1(k,e),U=new Date(0);U.setUTCFullYear(w,0,A),U.setUTCHours(0,0,0,0);var D=u1(U,e);return x.getTime()>=O.getTime()?w+1:x.getTime()>=D.getTime()?w:w-1}function Kq(t,e){var n,r,i,o,c,h,p,g;ri(1,arguments);var x=$g(),w=ec((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(c=e.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:x.firstWeekContainsDate)!==null&&r!==void 0?r:(p=x.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&n!==void 0?n:1),C=Q4(t,e),A=new Date(0);A.setUTCFullYear(C,0,w),A.setUTCHours(0,0,0,0);var k=u1(A,e);return k}var Xq=6048e5;function Yq(t,e){ri(1,arguments);var n=eo(t),r=u1(n,e).getTime()-Kq(n,e).getTime();return Math.round(r/Xq)+1}function Xt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Zo={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Xt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Xt(r+1,2)},d:function(e,n){return Xt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Xt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Xt(e.getUTCHours(),n.length)},m:function(e,n){return Xt(e.getUTCMinutes(),n.length)},s:function(e,n){return Xt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return Xt(o,n.length)}},Tc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Zo.y(e,n)},Y:function(e,n,r,i){var o=Q4(e,i),c=o>0?o:1-o;if(n==="YY"){var h=c%100;return Xt(h,2)}return n==="Yo"?r.ordinalNumber(c,{unit:"year"}):Xt(c,n.length)},R:function(e,n){var r=Y4(e);return Xt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Xt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Xt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Xt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Zo.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Xt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=Yq(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Xt(o,n.length)},I:function(e,n,r){var i=qq(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Xt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Zo.d(e,n)},D:function(e,n,r){var i=Wq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Xt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),c=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(c);case"ee":return Xt(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),c=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(c);case"cc":return Xt(c,n.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return Xt(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Tc.noon:i===0?o=Tc.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Tc.evening:i>=12?o=Tc.afternoon:i>=4?o=Tc.morning:o=Tc.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Zo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Zo.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Xt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Xt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Zo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Zo.s(e,n)},S:function(e,n){return Zo.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,c=o.getTimezoneOffset();if(c===0)return"Z";switch(n){case"X":return Kb(c);case"XXXX":case"XX":return gl(c);case"XXXXX":case"XXX":default:return gl(c,":")}},x:function(e,n,r,i){var o=i._originalDate||e,c=o.getTimezoneOffset();switch(n){case"x":return Kb(c);case"xxxx":case"xx":return gl(c);case"xxxxx":case"xxx":default:return gl(c,":")}},O:function(e,n,r,i){var o=i._originalDate||e,c=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+qb(c,":");case"OOOO":default:return"GMT"+gl(c,":")}},z:function(e,n,r,i){var o=i._originalDate||e,c=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+qb(c,":");case"zzzz":default:return"GMT"+gl(c,":")}},t:function(e,n,r,i){var o=i._originalDate||e,c=Math.floor(o.getTime()/1e3);return Xt(c,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,c=o.getTime();return Xt(c,n.length)}};function qb(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var c=e;return n+String(i)+c+Xt(o,2)}function Kb(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Xt(Math.abs(t)/60,2)}return gl(t,e)}function gl(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=Xt(Math.floor(i/60),2),c=Xt(i%60,2);return r+o+n+c}var Xb=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Z4=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Zq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return Xb(e,n);var c;switch(i){case"P":c=n.dateTime({width:"short"});break;case"PP":c=n.dateTime({width:"medium"});break;case"PPP":c=n.dateTime({width:"long"});break;case"PPPP":default:c=n.dateTime({width:"full"});break}return c.replace("{{date}}",Xb(i,n)).replace("{{time}}",Z4(o,n))},Jq={p:Z4,P:Zq},eK=["D","DD"],tK=["YY","YYYY"];function nK(t){return eK.indexOf(t)!==-1}function rK(t){return tK.indexOf(t)!==-1}function Yb(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var iK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sK=function(e,n,r){var i,o=iK[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Qm(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var oK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cK={date:Qm({formats:oK,defaultWidth:"full"}),time:Qm({formats:aK,defaultWidth:"full"}),dateTime:Qm({formats:lK,defaultWidth:"full"})},uK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dK=function(e,n,r,i){return uK[e]};function $d(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):o;i=t.formattingValues[c]||t.formattingValues[o]}else{var h=t.defaultWidth,p=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[p]||t.values[h]}var g=t.argumentCallback?t.argumentCallback(e):e;return i[g]}}var hK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vK=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xK={ordinalNumber:vK,era:$d({values:hK,defaultWidth:"wide"}),quarter:$d({values:fK,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:$d({values:pK,defaultWidth:"wide"}),day:$d({values:gK,defaultWidth:"wide"}),dayPeriod:$d({values:mK,defaultWidth:"wide",formattingValues:yK,defaultFormattingWidth:"wide"})};function Wd(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var c=o[0],h=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(h)?EK(h,function(w){return w.test(c)}):wK(h,function(w){return w.test(c)}),g;g=t.valueCallback?t.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;var x=e.slice(c.length);return{value:g,rest:x}}}function wK(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function EK(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function _K(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;var h=e.slice(i.length);return{value:c,rest:h}}}var CK=/^(\d+)(th|st|nd|rd)?/i,bK=/\d+/i,IK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AK={any:[/^b/i,/^(a|c)/i]},TK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SK={any:[/1/i,/2/i,/3/i,/4/i]},RK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MK={ordinalNumber:_K({matchPattern:CK,parsePattern:bK,valueCallback:function(e){return parseInt(e,10)}}),era:Wd({matchPatterns:IK,defaultMatchWidth:"wide",parsePatterns:AK,defaultParseWidth:"any"}),quarter:Wd({matchPatterns:TK,defaultMatchWidth:"wide",parsePatterns:SK,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Wd({matchPatterns:RK,defaultMatchWidth:"wide",parsePatterns:PK,defaultParseWidth:"any"}),day:Wd({matchPatterns:NK,defaultMatchWidth:"wide",parsePatterns:OK,defaultParseWidth:"any"}),dayPeriod:Wd({matchPatterns:kK,defaultMatchWidth:"any",parsePatterns:DK,defaultParseWidth:"any"})},LK={code:"en-US",formatDistance:sK,formatLong:cK,formatRelative:dK,localize:xK,match:MK,options:{weekStartsOn:0,firstWeekContainsDate:1}},FK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VK=/^'([^]*?)'?$/,UK=/''/g,jK=/[a-zA-Z]/;function Cl(t,e,n){var r,i,o,c,h,p,g,x,w,C,A,k,O,U;ri(2,arguments);var D=String(e),I=$g(),R=(r=(i=void 0)!==null&&i!==void 0?i:I.locale)!==null&&r!==void 0?r:LK,V=ec((o=(c=(h=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&h!==void 0?h:I.firstWeekContainsDate)!==null&&c!==void 0?c:(g=I.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var H=ec((w=(C=(A=(k=void 0)!==null&&k!==void 0?k:void 0)!==null&&A!==void 0?A:I.weekStartsOn)!==null&&C!==void 0?C:(O=I.locale)===null||O===void 0||(U=O.options)===null||U===void 0?void 0:U.weekStartsOn)!==null&&w!==void 0?w:0);if(!(H>=0&&H<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!R.localize)throw new RangeError("locale must contain localize property");if(!R.formatLong)throw new RangeError("locale must contain formatLong property");var X=eo(t);if(!jq(X))throw new RangeError("Invalid time value");var S=Vq(X),M=zq(X,S),N={firstWeekContainsDate:V,weekStartsOn:H,locale:R,_originalDate:X},W=D.match(BK).map(function(G){var q=G[0];if(q==="p"||q==="P"){var z=Jq[q];return z(G,R.formatLong)}return G}).join("").match(FK).map(function(G){if(G==="''")return"'";var q=G[0];if(q==="'")return zK(G);var z=Qq[q];if(z)return rK(G)&&Yb(G,e,String(t)),nK(G)&&Yb(G,e,String(t)),z(M,G,R.localize,N);if(q.match(jK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return G}).join("");return W}function zK(t){var e=t.match(VK);return e?e[1].replace(UK,"'"):t}const $K=()=>{const{data:t,isLoading:e}=H4(),{data:n,isLoading:r}=q4(),{data:i,isLoading:o}=Tw(),{data:c}=K4(30),{data:h}=X4();if(e||r||o)return _.jsx(md,{message:"Loading dashboard..."});const p=(t==null?void 0:t.filter(A=>A.status==="Pending").length)||0,g=(t==null?void 0:t.filter(A=>A.status==="Dispatched").length)||0,x=(t==null?void 0:t.reduce((A,k)=>A+k.totalAmount,0))||0,w=(i==null?void 0:i.filter(A=>(A.currentStock||A.stock||0)<10).length)||0,C=(t==null?void 0:t.slice(0,5))||[];return _.jsxs(Mt,{children:[_.jsx(ke,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),_.jsxs(At,{container:!0,spacing:3,sx:{mb:3},children:[_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsx(Lr,{children:_.jsxs(Mt,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[_.jsxs(Mt,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Pending Orders"}),_.jsx(ke,{variant:"h4",children:p})]}),_.jsx(Kv,{color:"warning",sx:{fontSize:40}})]})})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsx(Lr,{children:_.jsxs(Mt,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[_.jsxs(Mt,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Dispatched"}),_.jsx(ke,{variant:"h4",children:g})]}),_.jsx(Kv,{color:"info",sx:{fontSize:40}})]})})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsx(Lr,{children:_.jsxs(Mt,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[_.jsxs(Mt,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Total Revenue"}),_.jsxs(ke,{variant:"h4",children:["",x.toFixed(2)]})]}),_.jsx(W4,{color:"success",sx:{fontSize:40}})]})})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsx(Lr,{children:_.jsxs(Mt,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[_.jsxs(Mt,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Low Stock"}),_.jsx(ke,{variant:"h4",children:w})]}),_.jsx(mq,{color:"error",sx:{fontSize:40}})]})})})})]}),_.jsxs(At,{container:!0,spacing:3,children:[_.jsx(At,{item:!0,xs:12,md:8,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{variant:"h6",gutterBottom:!0,children:"Recent Orders"}),_.jsx(Uf,{children:_.jsxs(Wu,{children:[_.jsx(Gu,{children:_.jsxs(Vr,{children:[_.jsx(Pe,{children:"Order ID"}),_.jsx(Pe,{children:"Date"}),_.jsx(Pe,{children:"Retailer"}),_.jsx(Pe,{children:"Amount"}),_.jsx(Pe,{children:"Status"})]})}),_.jsx(Hu,{children:C.length===0?_.jsx(Vr,{children:_.jsx(Pe,{colSpan:5,align:"center",children:_.jsx(ke,{color:"textSecondary",children:"No orders yet"})})}):C.map(A=>_.jsxs(Vr,{children:[_.jsxs(Pe,{children:["#",A.id.substring(0,8)]}),_.jsx(Pe,{children:A.orderDate instanceof Date?Cl(A.orderDate,"MMM dd, yyyy"):Cl(new Date(A.orderDate),"MMM dd, yyyy")}),_.jsx(Pe,{children:A.retailerEmail||"N/A"}),_.jsxs(Pe,{children:["",A.totalAmount.toFixed(2)]}),_.jsx(Pe,{children:_.jsx(es,{label:A.status,color:A.status==="Pending"?"warning":A.status==="Dispatched"?"info":A.status==="Delivered"?"success":"error",size:"small"})})]},A.id))})]})})]})})}),_.jsxs(At,{item:!0,xs:12,md:4,children:[_.jsx(Mr,{sx:{mb:2},children:_.jsxs(Lr,{children:[_.jsx(ke,{variant:"h6",gutterBottom:!0,children:"Alerts"}),h&&h.length>0&&_.jsx(es,{label:`${h.length} Expired Medicines`,color:"error",sx:{mb:1,display:"block"}}),c&&c.length>0&&_.jsx(es,{label:`${c.length} Expiring Soon`,color:"warning",sx:{mb:1,display:"block"}}),w>0&&_.jsx(es,{label:`${w} Low Stock Items`,color:"warning"}),(!h||h.length===0)&&(!c||c.length===0)&&w===0&&_.jsx(ke,{variant:"body2",color:"textSecondary",children:"No alerts"})]})}),_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{variant:"h6",gutterBottom:!0,children:"Statistics"}),_.jsxs(ke,{variant:"body2",children:["Total Stores: ",(n==null?void 0:n.length)||0]}),_.jsxs(ke,{variant:"body2",children:["Total Medicines: ",(i==null?void 0:i.length)||0]}),_.jsxs(ke,{variant:"body2",children:["Total Orders: ",(t==null?void 0:t.length)||0]})]})})]})]})]})},WK=()=>{const{data:t,isLoading:e,error:n}=q4(),r=Tq(),i=Sq(),[o,c]=B.useState(""),[h,p]=B.useState(null),[g,x]=B.useState(!1),[w,C]=B.useState({displayName:"",shopName:"",phoneNumber:"",address:"",email:"",isActive:!0}),A=(t==null?void 0:t.filter(I=>{var R,V;return((R=I.shopName)==null?void 0:R.toLowerCase().includes(o.toLowerCase()))||I.email.toLowerCase().includes(o.toLowerCase())||((V=I.displayName)==null?void 0:V.toLowerCase().includes(o.toLowerCase()))}))||[],k=async(I,R)=>{try{await i.mutateAsync({storeId:I,isActive:R})}catch(V){console.error("Error toggling status:",V)}},O=I=>{p(I),C({displayName:I.displayName||"",shopName:I.shopName||"",phoneNumber:I.phoneNumber||"",address:I.address||"",email:I.email||"",isActive:I.isActive!==!1}),x(!0)},U=()=>{p(null),C({displayName:"",shopName:"",phoneNumber:"",address:"",email:"",isActive:!0}),x(!0)},D=async()=>{if(!h){alert("Store creation requires Firebase Admin SDK. Please use the mobile app to create stores.");return}try{await r.mutateAsync({storeId:h.id,data:{displayName:w.displayName,shopName:w.shopName,phoneNumber:w.phoneNumber,address:w.address,isActive:w.isActive}}),x(!1)}catch(I){console.error("Error saving store:",I)}};return e?_.jsx(md,{message:"Loading stores..."}):n?_.jsx(Ao,{severity:"error",children:"Error loading stores. Please try again."}):_.jsxs(Mt,{children:[_.jsxs(Mt,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[_.jsx(ke,{variant:"h4",children:"Medical Stores"}),_.jsx(Qr,{variant:"contained",startIcon:_.jsx(U4,{}),onClick:U,children:"Add Store"})]}),_.jsx(Ln,{fullWidth:!0,placeholder:"Search stores...",value:o,onChange:I=>c(I.target.value),sx:{mb:2},InputProps:{startAdornment:_.jsx(_w,{position:"start",children:_.jsx(zg,{})})}}),_.jsx(Uf,{component:Ei,children:_.jsxs(Wu,{children:[_.jsx(Gu,{children:_.jsxs(Vr,{children:[_.jsx(Pe,{children:"Shop Name"}),_.jsx(Pe,{children:"Owner"}),_.jsx(Pe,{children:"Email"}),_.jsx(Pe,{children:"Phone"}),_.jsx(Pe,{children:"Address"}),_.jsx(Pe,{children:"Status"}),_.jsx(Pe,{children:"Actions"})]})}),_.jsx(Hu,{children:A.length===0?_.jsx(Vr,{children:_.jsx(Pe,{colSpan:7,align:"center",children:_.jsx(ke,{color:"textSecondary",children:"No stores found"})})}):A.map(I=>_.jsxs(Vr,{children:[_.jsx(Pe,{children:I.shopName||"N/A"}),_.jsx(Pe,{children:I.displayName||"N/A"}),_.jsx(Pe,{children:I.email}),_.jsx(Pe,{children:I.phoneNumber||"N/A"}),_.jsx(Pe,{children:I.address||"N/A"}),_.jsx(Pe,{children:_.jsx(es,{label:I.isActive!==!1?"Active":"Inactive",color:I.isActive!==!1?"success":"default",size:"small"})}),_.jsxs(Pe,{children:[_.jsx(Ma,{size:"small",onClick:()=>k(I.id,!I.isActive),title:I.isActive!==!1?"Deactivate":"Activate",children:I.isActive!==!1?_.jsx(j4,{}):_.jsx(aq,{})}),_.jsx(Ma,{size:"small",onClick:()=>O(I),title:"Edit",children:_.jsx(z4,{})})]})]},I.id))})]})}),_.jsxs(i1,{open:g,onClose:()=>x(!1),maxWidth:"sm",fullWidth:!0,children:[_.jsx(a1,{children:h?"Edit Store":"Create New Store"}),_.jsx(o1,{children:_.jsxs(At,{container:!0,spacing:2,sx:{mt:1},children:[_.jsx(At,{item:!0,xs:12,children:_.jsx(Ln,{fullWidth:!0,label:"Email",value:w.email,onChange:I=>C({...w,email:I.target.value}),disabled:!!h,required:!0})}),_.jsx(At,{item:!0,xs:12,children:_.jsx(Ln,{fullWidth:!0,label:"Display Name",value:w.displayName,onChange:I=>C({...w,displayName:I.target.value})})}),_.jsx(At,{item:!0,xs:12,children:_.jsx(Ln,{fullWidth:!0,label:"Shop Name",value:w.shopName,onChange:I=>C({...w,shopName:I.target.value})})}),_.jsx(At,{item:!0,xs:12,children:_.jsx(Ln,{fullWidth:!0,label:"Phone Number",value:w.phoneNumber,onChange:I=>C({...w,phoneNumber:I.target.value})})}),_.jsx(At,{item:!0,xs:12,children:_.jsx(Ln,{fullWidth:!0,label:"Address",multiline:!0,rows:3,value:w.address,onChange:I=>C({...w,address:I.target.value})})}),_.jsx(At,{item:!0,xs:12,children:_.jsx(iW,{control:_.jsx(bG,{checked:w.isActive,onChange:I=>C({...w,isActive:I.target.checked})}),label:"Active"})})]})}),_.jsxs(s1,{children:[_.jsx(Qr,{onClick:()=>x(!1),children:"Cancel"}),_.jsx(Qr,{variant:"contained",onClick:D,disabled:r.isPending,startIcon:_.jsx($4,{}),children:"Save"})]})]})]})},HK=()=>{const{data:t,isLoading:e}=H4(),n=Cq(),r=bq(),[i,o]=B.useState(""),[c,h]=B.useState("All"),[p,g]=B.useState(null),[x,w]=B.useState(!1),[C,A]=B.useState(!1),[k,O]=B.useState({trackingNumber:"",courierName:"",dispatchNotes:"",estimatedDeliveryDate:""}),U=(t==null?void 0:t.filter(H=>{var M;const X=H.id.toLowerCase().includes(i.toLowerCase())||((M=H.retailerEmail)==null?void 0:M.toLowerCase().includes(i.toLowerCase()))||H.medicines.some(N=>N.name.toLowerCase().includes(i.toLowerCase())),S=c==="All"||H.status===c;return X&&S}))||[],D={Pending:U.filter(H=>H.status==="Pending").length,Dispatched:U.filter(H=>H.status==="Dispatched").length,Delivered:U.filter(H=>H.status==="Delivered").length,Cancelled:U.filter(H=>H.status==="Cancelled").length},I=async()=>{if(!p)return;const H=of.currentUser;if(H)try{await n.mutateAsync({orderId:p.id,dispatchData:{status:"Dispatched",dispatchDate:new Date,trackingNumber:k.trackingNumber||void 0,courierName:k.courierName||void 0,dispatchNotes:k.dispatchNotes||void 0,dispatchedBy:H.uid,estimatedDeliveryDate:k.estimatedDeliveryDate?new Date(k.estimatedDeliveryDate):void 0}}),A(!1),O({trackingNumber:"",courierName:"",dispatchNotes:"",estimatedDeliveryDate:""})}catch(X){console.error("Error dispatching order:",X)}},R=async H=>{const X=of.currentUser;if(X)try{await r.mutateAsync({orderId:H,deliveredBy:X.uid})}catch(S){console.error("Error marking order as delivered:",S)}},V=H=>{switch(H){case"Pending":return"warning";case"Dispatched":return"info";case"Delivered":return"success";case"Cancelled":return"error";default:return"default"}};return e?_.jsx(md,{message:"Loading orders..."}):_.jsxs(Mt,{children:[_.jsx(Mt,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:_.jsx(ke,{variant:"h4",children:"Orders Management"})}),_.jsxs(At,{container:!0,spacing:2,sx:{mb:3},children:[_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Pending"}),_.jsx(ke,{variant:"h4",children:D.Pending})]})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Dispatched"}),_.jsx(ke,{variant:"h4",children:D.Dispatched})]})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Delivered"}),_.jsx(ke,{variant:"h4",children:D.Delivered})]})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Cancelled"}),_.jsx(ke,{variant:"h4",children:D.Cancelled})]})})})]}),_.jsxs(Mt,{display:"flex",gap:2,mb:2,children:[_.jsx(Ln,{placeholder:"Search orders...",value:i,onChange:H=>o(H.target.value),sx:{flexGrow:1},InputProps:{startAdornment:_.jsx(_w,{position:"start",children:_.jsx(zg,{})})}}),_.jsxs(zu,{sx:{minWidth:150},children:[_.jsx($u,{children:"Status"}),_.jsxs(Jl,{value:c,label:"Status",onChange:H=>h(H.target.value),children:[_.jsx(fi,{value:"All",children:"All"}),_.jsx(fi,{value:"Pending",children:"Pending"}),_.jsx(fi,{value:"Dispatched",children:"Dispatched"}),_.jsx(fi,{value:"Delivered",children:"Delivered"}),_.jsx(fi,{value:"Cancelled",children:"Cancelled"})]})]})]}),_.jsx(Uf,{component:Ei,children:_.jsxs(Wu,{children:[_.jsx(Gu,{children:_.jsxs(Vr,{children:[_.jsx(Pe,{children:"Order ID"}),_.jsx(Pe,{children:"Date"}),_.jsx(Pe,{children:"Retailer"}),_.jsx(Pe,{children:"Items"}),_.jsx(Pe,{children:"Amount"}),_.jsx(Pe,{children:"Status"}),_.jsx(Pe,{children:"Actions"})]})}),_.jsx(Hu,{children:U.length===0?_.jsx(Vr,{children:_.jsx(Pe,{colSpan:7,align:"center",children:_.jsx(ke,{color:"textSecondary",children:"No orders found"})})}):U.map(H=>_.jsxs(Vr,{children:[_.jsxs(Pe,{children:["#",H.id.substring(0,8)]}),_.jsx(Pe,{children:H.orderDate instanceof Date?Cl(H.orderDate,"MMM dd, yyyy"):Cl(new Date(H.orderDate),"MMM dd, yyyy")}),_.jsx(Pe,{children:H.retailerEmail||"N/A"}),_.jsxs(Pe,{children:[H.medicines.length," items"]}),_.jsxs(Pe,{children:["",H.totalAmount.toFixed(2)]}),_.jsx(Pe,{children:_.jsx(es,{label:H.status,color:V(H.status),size:"small"})}),_.jsxs(Pe,{children:[_.jsx(Ma,{size:"small",onClick:()=>{g(H),w(!0)},children:_.jsx(gq,{})}),H.status==="Pending"&&_.jsx(Ma,{size:"small",onClick:()=>{g(H),A(!0)},children:_.jsx(hq,{})}),H.status==="Dispatched"&&_.jsx(Ma,{size:"small",onClick:()=>R(H.id),children:_.jsx(j4,{})})]})]},H.id))})]})}),_.jsxs(i1,{open:x,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0,children:[_.jsx(a1,{children:"Order Details"}),_.jsx(o1,{children:p&&_.jsxs(Mt,{children:[_.jsxs(ke,{variant:"h6",gutterBottom:!0,children:["Order #",p.id.substring(0,8)]}),_.jsxs(ke,{children:["Retailer: ",p.retailerEmail]}),_.jsxs(ke,{children:["Date:"," ",p.orderDate instanceof Date?Cl(p.orderDate,"PPpp"):Cl(new Date(p.orderDate),"PPpp")]}),_.jsxs(ke,{children:["Status: ",p.status]}),_.jsxs(ke,{children:["Delivery Address: ",p.deliveryAddress||"N/A"]}),_.jsx(ke,{variant:"h6",sx:{mt:2,mb:1},children:"Items:"}),_.jsxs(Wu,{size:"small",children:[_.jsx(Gu,{children:_.jsxs(Vr,{children:[_.jsx(Pe,{children:"Medicine"}),_.jsx(Pe,{children:"Quantity"}),_.jsx(Pe,{children:"Price"}),_.jsx(Pe,{children:"Total"})]})}),_.jsx(Hu,{children:p.medicines.map((H,X)=>_.jsxs(Vr,{children:[_.jsx(Pe,{children:H.name}),_.jsx(Pe,{children:H.quantity}),_.jsxs(Pe,{children:["",H.price.toFixed(2)]}),_.jsxs(Pe,{children:["",(H.price*H.quantity).toFixed(2)]})]},X))})]}),_.jsxs(ke,{variant:"h6",sx:{mt:2,textAlign:"right"},children:["Total: ",p.totalAmount.toFixed(2)]})]})}),_.jsx(s1,{children:_.jsx(Qr,{onClick:()=>w(!1),children:"Close"})})]}),_.jsxs(i1,{open:C,onClose:()=>A(!1),maxWidth:"sm",fullWidth:!0,children:[_.jsx(a1,{children:"Dispatch Order"}),_.jsx(o1,{children:_.jsxs(Mt,{sx:{pt:2},children:[_.jsx(Ln,{fullWidth:!0,label:"Tracking Number",value:k.trackingNumber,onChange:H=>O({...k,trackingNumber:H.target.value}),sx:{mb:2}}),_.jsx(Ln,{fullWidth:!0,label:"Courier Name",value:k.courierName,onChange:H=>O({...k,courierName:H.target.value}),sx:{mb:2}}),_.jsx(Ln,{fullWidth:!0,label:"Estimated Delivery Date",type:"date",value:k.estimatedDeliveryDate,onChange:H=>O({...k,estimatedDeliveryDate:H.target.value}),InputLabelProps:{shrink:!0},sx:{mb:2}}),_.jsx(Ln,{fullWidth:!0,label:"Dispatch Notes",multiline:!0,rows:3,value:k.dispatchNotes,onChange:H=>O({...k,dispatchNotes:H.target.value})})]})}),_.jsxs(s1,{children:[_.jsx(Qr,{onClick:()=>A(!1),children:"Cancel"}),_.jsx(Qr,{variant:"contained",onClick:I,disabled:n.isPending,children:"Dispatch Order"})]})]})]})},GK=()=>{const{data:t,isLoading:e}=Tw(),{data:n}=K4(30),{data:r}=X4(),i=Qu(),[o,c]=B.useState(""),[h,p]=B.useState("All"),[g,x]=B.useState("All"),w=Array.from(new Set((t==null?void 0:t.map(I=>I.category))||[])),C=(t==null?void 0:t.filter(I=>{var X;const R=I.name.toLowerCase().includes(o.toLowerCase())||((X=I.code)==null?void 0:X.toLowerCase().includes(o.toLowerCase()))||I.manufacturer.toLowerCase().includes(o.toLowerCase()),V=h==="All"||I.category===h,H=g==="All"||g==="Low"&&(I.currentStock||I.stock)<10||g==="Out"&&(I.currentStock||I.stock)===0||g==="In Stock"&&(I.currentStock||I.stock)>0;return R&&V&&H}))||[],A=(t==null?void 0:t.filter(I=>(I.currentStock||I.stock||0)<10).length)||0,k=(t==null?void 0:t.filter(I=>(I.currentStock||I.stock||0)===0).length)||0,O=(t==null?void 0:t.reduce((I,R)=>{const V=R.currentStock||R.stock||0,H=R.costPrice||R.price||0;return I+V*H},0))||0,U=I=>{if(!I.expiryDate)return!1;const R=I.expiryDate instanceof Date?I.expiryDate:I.expiryDate.toDate(),V=Math.ceil((R.getTime()-new Date().getTime())/(1e3*60*60*24));return V<=30&&V>0},D=I=>I.expiryDate?(I.expiryDate instanceof Date?I.expiryDate:I.expiryDate.toDate())<new Date:!1;return e?_.jsx(md,{message:"Loading inventory..."}):_.jsxs(Mt,{children:[_.jsxs(Mt,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[_.jsx(ke,{variant:"h4",children:"Inventory Management"}),_.jsx(Qr,{variant:"contained",startIcon:_.jsx(U4,{}),onClick:()=>i("/inventory/stock-update"),children:"Update Stock"})]}),r&&r.length>0&&_.jsxs(Ao,{severity:"error",sx:{mb:2},children:[r.length," medicine(s) have expired"]}),n&&n.length>0&&_.jsxs(Ao,{severity:"warning",sx:{mb:2},children:[n.length," medicine(s) expiring in next 30 days"]}),_.jsxs(At,{container:!0,spacing:2,sx:{mb:3},children:[_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Total Items"}),_.jsx(ke,{variant:"h4",children:(t==null?void 0:t.length)||0})]})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Low Stock"}),_.jsx(ke,{variant:"h4",color:"warning.main",children:A})]})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Out of Stock"}),_.jsx(ke,{variant:"h4",color:"error.main",children:k})]})})}),_.jsx(At,{item:!0,xs:12,sm:6,md:3,children:_.jsx(Mr,{children:_.jsxs(Lr,{children:[_.jsx(ke,{color:"textSecondary",gutterBottom:!0,children:"Total Value"}),_.jsxs(ke,{variant:"h4",children:["",O.toFixed(2)]})]})})})]}),_.jsxs(Mt,{display:"flex",gap:2,mb:2,children:[_.jsx(Ln,{placeholder:"Search medicines...",value:o,onChange:I=>c(I.target.value),sx:{flexGrow:1},InputProps:{startAdornment:_.jsx(_w,{position:"start",children:_.jsx(zg,{})})}}),_.jsxs(zu,{sx:{minWidth:150},children:[_.jsx($u,{children:"Category"}),_.jsxs(Jl,{value:h,label:"Category",onChange:I=>p(I.target.value),children:[_.jsx(fi,{value:"All",children:"All"}),w.map(I=>_.jsx(fi,{value:I,children:I},I))]})]}),_.jsxs(zu,{sx:{minWidth:150},children:[_.jsx($u,{children:"Stock"}),_.jsxs(Jl,{value:g,label:"Stock",onChange:I=>x(I.target.value),children:[_.jsx(fi,{value:"All",children:"All"}),_.jsx(fi,{value:"In Stock",children:"In Stock"}),_.jsx(fi,{value:"Low",children:"Low Stock"}),_.jsx(fi,{value:"Out",children:"Out of Stock"})]})]})]}),_.jsx(Uf,{component:Ei,children:_.jsxs(Wu,{children:[_.jsx(Gu,{children:_.jsxs(Vr,{children:[_.jsx(Pe,{children:"Code"}),_.jsx(Pe,{children:"Name"}),_.jsx(Pe,{children:"Category"}),_.jsx(Pe,{children:"Manufacturer"}),_.jsx(Pe,{children:"Stock"}),_.jsx(Pe,{children:"Price"}),_.jsx(Pe,{children:"Expiry Date"}),_.jsx(Pe,{children:"Status"}),_.jsx(Pe,{children:"Actions"})]})}),_.jsx(Hu,{children:C.length===0?_.jsx(Vr,{children:_.jsx(Pe,{colSpan:9,align:"center",children:_.jsx(ke,{color:"textSecondary",children:"No medicines found"})})}):C.map(I=>_.jsxs(Vr,{children:[_.jsx(Pe,{children:I.code||"N/A"}),_.jsx(Pe,{children:I.name}),_.jsx(Pe,{children:I.category}),_.jsx(Pe,{children:I.manufacturer}),_.jsx(Pe,{children:_.jsx(es,{label:I.currentStock||I.stock||0,color:(I.currentStock||I.stock||0)===0?"error":(I.currentStock||I.stock||0)<10?"warning":"default",size:"small"})}),_.jsxs(Pe,{children:["",I.price.toFixed(2)]}),_.jsxs(Pe,{children:[I.expiryDate?Cl(I.expiryDate instanceof Date?I.expiryDate:I.expiryDate.toDate(),"MMM dd, yyyy"):"N/A",D(I)&&_.jsx(es,{label:"Expired",color:"error",size:"small",sx:{ml:1}}),U(I)&&!D(I)&&_.jsx(es,{label:"Expiring",color:"warning",size:"small",sx:{ml:1}})]}),_.jsx(Pe,{children:D(I)?_.jsx(es,{label:"Expired",color:"error",size:"small"}):U(I)?_.jsx(es,{label:"Expiring",color:"warning",size:"small"}):_.jsx(es,{label:"Active",color:"success",size:"small"})}),_.jsx(Pe,{children:_.jsx(Ma,{size:"small",onClick:()=>i(`/inventory/stock-update?medicineId=${I.id}`),children:_.jsx(z4,{})})})]},I.id))})]})})]})};var Fe;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var Qb=new Map([[Fe.QR_CODE,"QR_CODE"],[Fe.AZTEC,"AZTEC"],[Fe.CODABAR,"CODABAR"],[Fe.CODE_39,"CODE_39"],[Fe.CODE_93,"CODE_93"],[Fe.CODE_128,"CODE_128"],[Fe.DATA_MATRIX,"DATA_MATRIX"],[Fe.MAXICODE,"MAXICODE"],[Fe.ITF,"ITF"],[Fe.EAN_13,"EAN_13"],[Fe.EAN_8,"EAN_8"],[Fe.PDF_417,"PDF_417"],[Fe.RSS_14,"RSS_14"],[Fe.RSS_EXPANDED,"RSS_EXPANDED"],[Fe.UPC_A,"UPC_A"],[Fe.UPC_E,"UPC_E"],[Fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Zb;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(Zb||(Zb={}));function qK(t){return Object.values(Fe).includes(t)}var d1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(d1||(d1={}));var KK=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[d1.SCAN_TYPE_CAMERA,d1.SCAN_TYPE_FILE],t}(),J4=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Qb.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Qb.get(e))},t}(),Jb=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Xv;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Xv||(Xv={}));var XK=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Xv.UNKWOWN_ERROR}},t}(),YK=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function lo(t){return typeof t>"u"||t===null}var qc=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),eP=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(i),c=Object.keys(e),h=0,p=c;h<p.length;h++){var g=p[h];if(o.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},t}(),Yv={exports:{}};(function(t,e){(function(n,r){r(e)})(Id,function(n){function r(L){return L==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,s){L.__proto__=s}||function(L,s){for(var a in s)s.hasOwnProperty(a)&&(L[a]=s[a])};function o(L,s){i(L,s);function a(){this.constructor=L}L.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}function c(L,s){var a=Object.setPrototypeOf;a?a(L,s):L.__proto__=s}function h(L,s){s===void 0&&(s=L.constructor);var a=Error.captureStackTrace;a&&a(L,s)}var p=function(L){o(s,L);function s(a){var l=this.constructor,u=L.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),h(u),u}return s}(Error);class g extends p{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}g.kind="Exception";class x extends g{}x.kind="ArgumentException";class w extends g{}w.kind="IllegalArgumentException";class C{constructor(s){if(this.binarizer=s,s===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,a){return this.binarizer.getBlackRow(s,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,a,l,u){const d=this.binarizer.getLuminanceSource().crop(s,a,l,u);return new C(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends g{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class k{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(s,a,l,u,d){for(;d--;)l[u++]=s[a++]}static currentTimeMillis(){return Date.now()}}class U extends g{}U.kind="IndexOutOfBoundsException";class D extends U{constructor(s=void 0,a=void 0){super(a),this.index=s,this.message=a}}D.kind="ArrayIndexOutOfBoundsException";class I{static fill(s,a){for(let l=0,u=s.length;l<u;l++)s[l]=a}static fillWithin(s,a,l,u){I.rangeCheck(s.length,a,l);for(let d=a;d<l;d++)s[d]=u}static rangeCheck(s,a,l){if(a>l)throw new w("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new D(a);if(l>s)throw new D(l)}static asList(...s){return s}static create(s,a,l){return Array.from({length:s}).map(d=>Array.from({length:a}).fill(l))}static createInt32Array(s,a,l){return Array.from({length:s}).map(d=>Int32Array.from({length:a}).fill(l))}static equals(s,a){if(!s||!a||!s.length||!a.length||s.length!==a.length)return!1;for(let l=0,u=s.length;l<u;l++)if(s[l]!==a[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let a=1;for(const l of s)a=31*a+l;return a}static fillUint8Array(s,a){for(let l=0;l!==s.length;l++)s[l]=a}static copyOf(s,a){return s.slice(0,a)}static copyOfUint8Array(s,a){if(s.length<=a){const l=new Uint8Array(a);return l.set(s),l}return s.slice(0,a)}static copyOfRange(s,a,l){const u=l-a,d=new Int32Array(u);return O.arraycopy(s,a,d,0,u),d}static binarySearch(s,a,l){l===void 0&&(l=I.numberComparator);let u=0,d=s.length-1;for(;u<=d;){const f=d+u>>1,m=l(a,s[f]);if(m>0)u=f+1;else if(m<0)d=f-1;else return f}return-u-1}static numberComparator(s,a){return s-a}}class R{static numberOfTrailingZeros(s){let a;if(s===0)return 32;let l=31;return a=s<<16,a!==0&&(l-=16,s=a),a=s<<8,a!==0&&(l-=8,s=a),a=s<<4,a!==0&&(l-=4,s=a),a=s<<2,a!==0&&(l-=2,s=a),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let a=1;return s>>>16||(a+=16,s<<=16),s>>>24||(a+=8,s<<=8),s>>>28||(a+=4,s<<=4),s>>>30||(a+=2,s<<=2),a-=s>>>31,a}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,a){return Math.trunc(s/a)}static parseInt(s,a=void 0){return parseInt(s,a)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(s,a){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,a==null?this.bits=V.makeArray(s):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const a=V.makeArray(s);O.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),d=l[u];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++u===f)return a;d=l[u]}const m=u*32+R.numberOfTrailingZeros(d);return m>a?a:m}getNextUnset(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),d=~l[u];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++u===f)return a;d=~l[u]}const m=u*32+R.numberOfTrailingZeros(d);return m>a?a:m}setBulk(s,a){this.bits[Math.floor(s/32)]=a}setRange(s,a){if(a<s||s<0||a>this.size)throw new w;if(a===s)return;a--;const l=Math.floor(s/32),u=Math.floor(a/32),d=this.bits;for(let f=l;f<=u;f++){const m=f>l?0:s&31,E=(2<<(f<u?31:a&31))-(1<<m);d[f]|=E}}clear(){const s=this.bits.length,a=this.bits;for(let l=0;l<s;l++)a[l]=0}isRange(s,a,l){if(a<s||s<0||a>this.size)throw new w;if(a===s)return!0;a--;const u=Math.floor(s/32),d=Math.floor(a/32),f=this.bits;for(let m=u;m<=d;m++){const v=m>u?0:s&31,T=(2<<(m<d?31:a&31))-(1<<v)&4294967295;if((f[m]&T)!==(l?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,a){if(a<0||a>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const a=s.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new w("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=s.bits[l]}toBytes(s,a,l,u){for(let d=0;d<u;d++){let f=0;for(let m=0;m<8;m++)this.get(s)&&(f|=1<<7-m),s++;a[l+d]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[a-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=s[0]>>>d;for(let m=1;m<l;m++){const v=s[m];f|=v<<32-d,s[m-1]=f,f=v>>>d}s[l-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof V))return!1;const a=s;return this.size===a.size&&I.equals(this.bits,a.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let s="";for(let a=0,l=this.size;a<l;a++)a&7||(s+=" "),s+=this.get(a)?"X":".";return s}clone(){return new V(this.size,this.bits.slice())}}var H;(function(L){L[L.OTHER=0]="OTHER",L[L.PURE_BARCODE=1]="PURE_BARCODE",L[L.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",L[L.TRY_HARDER=3]="TRY_HARDER",L[L.CHARACTER_SET=4]="CHARACTER_SET",L[L.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",L[L.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",L[L.ASSUME_GS1=7]="ASSUME_GS1",L[L.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",L[L.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",L[L.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(H||(H={}));var X=H;class S extends g{static getFormatInstance(){return new S}}S.kind="FormatException";var M;(function(L){L[L.Cp437=0]="Cp437",L[L.ISO8859_1=1]="ISO8859_1",L[L.ISO8859_2=2]="ISO8859_2",L[L.ISO8859_3=3]="ISO8859_3",L[L.ISO8859_4=4]="ISO8859_4",L[L.ISO8859_5=5]="ISO8859_5",L[L.ISO8859_6=6]="ISO8859_6",L[L.ISO8859_7=7]="ISO8859_7",L[L.ISO8859_8=8]="ISO8859_8",L[L.ISO8859_9=9]="ISO8859_9",L[L.ISO8859_10=10]="ISO8859_10",L[L.ISO8859_11=11]="ISO8859_11",L[L.ISO8859_13=12]="ISO8859_13",L[L.ISO8859_14=13]="ISO8859_14",L[L.ISO8859_15=14]="ISO8859_15",L[L.ISO8859_16=15]="ISO8859_16",L[L.SJIS=16]="SJIS",L[L.Cp1250=17]="Cp1250",L[L.Cp1251=18]="Cp1251",L[L.Cp1252=19]="Cp1252",L[L.Cp1256=20]="Cp1256",L[L.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",L[L.UTF8=22]="UTF8",L[L.ASCII=23]="ASCII",L[L.Big5=24]="Big5",L[L.GB18030=25]="GB18030",L[L.EUC_KR=26]="EUC_KR"})(M||(M={}));class N{constructor(s,a,l,...u){this.valueIdentifier=s,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=u,N.VALUE_IDENTIFIER_TO_ECI.set(s,this),N.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,m=d.length;f!==m;f++){const v=d[f];N.VALUES_TO_ECI.set(v,this)}for(const f of u)N.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new S("incorect value");const a=N.VALUES_TO_ECI.get(s);if(a===void 0)throw new S("incorect value");return a}static getCharacterSetECIByName(s){const a=N.NAME_TO_ECI.get(s);if(a===void 0)throw new S("incorect value");return a}equals(s){if(!(s instanceof N))return!1;const a=s;return this.getName()===a.getName()}}N.VALUE_IDENTIFIER_TO_ECI=new Map,N.VALUES_TO_ECI=new Map,N.NAME_TO_ECI=new Map,N.Cp437=new N(M.Cp437,Int32Array.from([0,2]),"Cp437"),N.ISO8859_1=new N(M.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),N.ISO8859_2=new N(M.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),N.ISO8859_3=new N(M.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),N.ISO8859_4=new N(M.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),N.ISO8859_5=new N(M.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),N.ISO8859_6=new N(M.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),N.ISO8859_7=new N(M.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),N.ISO8859_8=new N(M.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),N.ISO8859_9=new N(M.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),N.ISO8859_10=new N(M.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),N.ISO8859_11=new N(M.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),N.ISO8859_13=new N(M.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),N.ISO8859_14=new N(M.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),N.ISO8859_15=new N(M.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),N.ISO8859_16=new N(M.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),N.SJIS=new N(M.SJIS,20,"SJIS","Shift_JIS"),N.Cp1250=new N(M.Cp1250,21,"Cp1250","windows-1250"),N.Cp1251=new N(M.Cp1251,22,"Cp1251","windows-1251"),N.Cp1252=new N(M.Cp1252,23,"Cp1252","windows-1252"),N.Cp1256=new N(M.Cp1256,24,"Cp1256","windows-1256"),N.UnicodeBigUnmarked=new N(M.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),N.UTF8=new N(M.UTF8,26,"UTF8","UTF-8"),N.ASCII=new N(M.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),N.Big5=new N(M.Big5,28,"Big5"),N.GB18030=new N(M.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),N.EUC_KR=new N(M.EUC_KR,30,"EUC_KR","EUC-KR");class W extends g{}W.kind="UnsupportedOperationException";class G{static decode(s,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!G.isBrowser()&&s==="ISO-8859-1"}static encode(s,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof N?s:N.getCharacterSetECIByName(s)}static decodeFallback(s,a){const l=this.encodingCharacterSet(a);if(G.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=s.length;d<f;d++){let m=s[d].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(l.equals(N.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new W(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(N.UTF8)||s.equals(N.ISO8859_1)||s.equals(N.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class q{static castAsNonUtf8Char(s,a=null){const l=a?a.getName():this.ISO88591;return G.decode(new Uint8Array([s]),l)}static guessEncoding(s,a){if(a!=null&&a.get(X.CHARACTER_SET)!==void 0)return a.get(X.CHARACTER_SET).toString();const l=s.length;let u=!0,d=!0,f=!0,m=0,v=0,E=0,T=0,F=0,j=0,Q=0,ee=0,te=0,se=0,le=0;const Ee=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let _e=0;_e<l&&(u||d||f);_e++){const ye=s[_e]&255;f&&(m>0?ye&128?m--:f=!1:ye&128&&(ye&64?(m++,ye&32?(m++,ye&16?(m++,ye&8?f=!1:T++):E++):v++):f=!1)),u&&(ye>127&&ye<160?u=!1:ye>159&&(ye<192||ye===215||ye===247)&&le++),d&&(F>0?ye<64||ye===127||ye>252?d=!1:F--:ye===128||ye===160||ye>239?d=!1:ye>160&&ye<224?(j++,ee=0,Q++,Q>te&&(te=Q)):ye>127?(F++,Q=0,ee++,ee>se&&(se=ee)):(Q=0,ee=0))}return f&&m>0&&(f=!1),d&&F>0&&(d=!1),f&&(Ee||v+E+T>0)?q.UTF8:d&&(q.ASSUME_SHIFT_JIS||te>=3||se>=3)?q.SHIFT_JIS:u&&d?te===2&&j===2||le*10>=l?q.SHIFT_JIS:q.ISO88591:u?q.ISO88591:d?q.SHIFT_JIS:f?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...a){let l=-1;function u(f,m,v,E,T,F){if(f==="%%")return"%";if(a[++l]===void 0)return;f=E?parseInt(E.substr(1)):void 0;let j=T?parseInt(T.substr(1)):void 0,Q;switch(F){case"s":Q=a[l];break;case"c":Q=a[l][0];break;case"f":Q=parseFloat(a[l]).toFixed(f);break;case"p":Q=parseFloat(a[l]).toPrecision(f);break;case"e":Q=parseFloat(a[l]).toExponential(f);break;case"x":Q=parseInt(a[l]).toString(j||16);break;case"d":Q=parseFloat(parseInt(a[l],j||10).toPrecision(f)).toFixed(0);break}Q=typeof Q=="object"?JSON.stringify(Q):(+Q).toString(j);let ee=parseInt(v),te=v&&v[0]+""=="0"?"0":" ";for(;Q.length<ee;)Q=m!==void 0?Q+te:te+Q;return Q}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,u)}static getBytes(s,a){return G.encode(s,a)}static getCharCode(s,a=0){return s.charCodeAt(a)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=N.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=N.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=N.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class z{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,a,l){for(let u=a;a<a+l;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)}substring(s,a){return this.value.substring(s,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+a.length)}}class ue{constructor(s,a,l,u){if(this.width=s,this.height=a,this.rowSize=l,this.bits=u,a==null&&(a=s),this.height=a,s<1||a<1)throw new w("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const a=s.length,l=s[0].length,u=new ue(l,a);for(let d=0;d<a;d++){const f=s[d];for(let m=0;m<l;m++)f[m]&&u.set(m,d)}return u}static parseFromString(s,a,l){if(s===null)throw new w("stringRepresentation cannot be null");const u=new Array(s.length);let d=0,f=0,m=-1,v=0,E=0;for(;E<s.length;)if(s.charAt(E)===`
`||s.charAt(E)==="\r"){if(d>f){if(m===-1)m=d-f;else if(d-f!==m)throw new w("row lengths do not match");f=d,v++}E++}else if(s.substring(E,E+a.length)===a)E+=a.length,u[d]=!0,d++;else if(s.substring(E,E+l.length)===l)E+=l.length,u[d]=!1,d++;else throw new w("illegal character encountered: "+s.substring(E));if(d>f){if(m===-1)m=d-f;else if(d-f!==m)throw new w("row lengths do not match");v++}const T=new ue(m,v);for(let F=0;F<d;F++)u[F]&&T.set(Math.floor(F%m),Math.floor(F/m));return T}get(s,a){const l=a*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new w("input matrix dimensions do not match");const a=new V(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const m=d*l,v=s.getRow(d,a).getBitArray();for(let E=0;E<l;E++)u[m+E]^=v[E]}}clear(){const s=this.bits,a=s.length;for(let l=0;l<a;l++)s[l]=0}setRegion(s,a,l,u){if(a<0||s<0)throw new w("Left and top must be nonnegative");if(u<1||l<1)throw new w("Height and width must be at least 1");const d=s+l,f=a+u;if(f>this.height||d>this.width)throw new w("The region must fit inside the matrix");const m=this.rowSize,v=this.bits;for(let E=a;E<f;E++){const T=E*m;for(let F=s;F<d;F++)v[T+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(s,a){a==null||a.getSize()<this.width?a=new V(this.width):a.clear();const l=this.rowSize,u=this.bits,d=s*l;for(let f=0;f<l;f++)a.setBulk(f*32,u[d+f]);return a}setRow(s,a){O.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),a=this.getHeight();let l=new V(s),u=new V(s);for(let d=0,f=Math.floor((a+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(a-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(a-1-d,l)}getEnclosingRectangle(){const s=this.width,a=this.height,l=this.rowSize,u=this.bits;let d=s,f=a,m=-1,v=-1;for(let E=0;E<a;E++)for(let T=0;T<l;T++){const F=u[E*l+T];if(F!==0){if(E<f&&(f=E),E>v&&(v=E),T*32<d){let j=0;for(;!(F<<31-j&4294967295);)j++;T*32+j<d&&(d=T*32+j)}if(T*32+31>m){let j=31;for(;!(F>>>j);)j--;T*32+j>m&&(m=T*32+j)}}}return m<d||v<f?null:Int32Array.from([d,f,m-d+1,v-f+1])}getTopLeftOnBit(){const s=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const u=l/s;let d=l%s*32;const f=a[l];let m=0;for(;!(f<<31-m&4294967295);)m++;return d+=m,Int32Array.from([d,u])}getBottomRightOnBit(){const s=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/s);let d=Math.floor(l%s)*32;const f=a[l];let m=31;for(;!(f>>>m);)m--;return d+=m,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ue))return!1;const a=s;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&I.equals(this.bits,a.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+I.hashCode(this.bits),s}toString(s="X ",a="  ",l=`
`){return this.buildToString(s,a,l)}buildToString(s,a,l){let u=new z;for(let d=0,f=this.height;d<f;d++){for(let m=0,v=this.width;m<v;m++)u.append(this.get(m,d)?s:a);u.append(l)}return u.toString()}clone(){return new ue(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends g{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class me extends k{constructor(s){super(s),this.luminances=me.EMPTY,this.buckets=new Int32Array(me.LUMINANCE_BUCKETS)}getBlackRow(s,a){const l=this.getLuminanceSource(),u=l.getWidth();a==null||a.getSize()<u?a=new V(u):a.clear(),this.initArrays(u);const d=l.getRow(s,this.luminances),f=this.buckets;for(let v=0;v<u;v++)f[(d[v]&255)>>me.LUMINANCE_SHIFT]++;const m=me.estimateBlackPoint(f);if(u<3)for(let v=0;v<u;v++)(d[v]&255)<m&&a.set(v);else{let v=d[0]&255,E=d[1]&255;for(let T=1;T<u-1;T++){const F=d[T+1]&255;(E*4-v-F)/2<m&&a.set(T),v=E,E=F}}return a}getBlackMatrix(){const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight(),u=new ue(a,l);this.initArrays(a);const d=this.buckets;for(let v=1;v<5;v++){const E=Math.floor(l*v/5),T=s.getRow(E,this.luminances),F=Math.floor(a*4/5);for(let j=Math.floor(a/5);j<F;j++){const Q=T[j]&255;d[Q>>me.LUMINANCE_SHIFT]++}}const f=me.estimateBlackPoint(d),m=s.getMatrix();for(let v=0;v<l;v++){const E=v*a;for(let T=0;T<a;T++)(m[E+T]&255)<f&&u.set(T,v)}return u}createBinarizer(s){return new me(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const a=this.buckets;for(let l=0;l<me.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(s){const a=s.length;let l=0,u=0,d=0;for(let T=0;T<a;T++)s[T]>d&&(u=T,d=s[T]),s[T]>l&&(l=s[T]);let f=0,m=0;for(let T=0;T<a;T++){const F=T-u,j=s[T]*F*F;j>m&&(f=T,m=j)}if(u>f){const T=u;u=f,f=T}if(f-u<=a/16)throw new Z;let v=f-1,E=-1;for(let T=f-1;T>u;T--){const F=T-u,j=F*F*(f-T)*(l-s[T]);j>E&&(v=T,E=j)}return v<<me.LUMINANCE_SHIFT}}me.LUMINANCE_BITS=5,me.LUMINANCE_SHIFT=8-me.LUMINANCE_BITS,me.LUMINANCE_BUCKETS=1<<me.LUMINANCE_BITS,me.EMPTY=Uint8ClampedArray.from([0]);class de extends me{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight();if(a>=de.MINIMUM_DIMENSION&&l>=de.MINIMUM_DIMENSION){const u=s.getMatrix();let d=a>>de.BLOCK_SIZE_POWER;a&de.BLOCK_SIZE_MASK&&d++;let f=l>>de.BLOCK_SIZE_POWER;l&de.BLOCK_SIZE_MASK&&f++;const m=de.calculateBlackPoints(u,d,f,a,l),v=new ue(a,l);de.calculateThresholdForBlock(u,d,f,a,l,m,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new de(s)}static calculateThresholdForBlock(s,a,l,u,d,f,m){const v=d-de.BLOCK_SIZE,E=u-de.BLOCK_SIZE;for(let T=0;T<l;T++){let F=T<<de.BLOCK_SIZE_POWER;F>v&&(F=v);const j=de.cap(T,2,l-3);for(let Q=0;Q<a;Q++){let ee=Q<<de.BLOCK_SIZE_POWER;ee>E&&(ee=E);const te=de.cap(Q,2,a-3);let se=0;for(let Ee=-2;Ee<=2;Ee++){const _e=f[j+Ee];se+=_e[te-2]+_e[te-1]+_e[te]+_e[te+1]+_e[te+2]}const le=se/25;de.thresholdBlock(s,ee,F,le,u,m)}}}static cap(s,a,l){return s<a?a:s>l?l:s}static thresholdBlock(s,a,l,u,d,f){for(let m=0,v=l*d+a;m<de.BLOCK_SIZE;m++,v+=d)for(let E=0;E<de.BLOCK_SIZE;E++)(s[v+E]&255)<=u&&f.set(a+E,l+m)}static calculateBlackPoints(s,a,l,u,d){const f=d-de.BLOCK_SIZE,m=u-de.BLOCK_SIZE,v=new Array(l);for(let E=0;E<l;E++){v[E]=new Int32Array(a);let T=E<<de.BLOCK_SIZE_POWER;T>f&&(T=f);for(let F=0;F<a;F++){let j=F<<de.BLOCK_SIZE_POWER;j>m&&(j=m);let Q=0,ee=255,te=0;for(let le=0,Ee=T*u+j;le<de.BLOCK_SIZE;le++,Ee+=u){for(let _e=0;_e<de.BLOCK_SIZE;_e++){const ye=s[Ee+_e]&255;Q+=ye,ye<ee&&(ee=ye),ye>te&&(te=ye)}if(te-ee>de.MIN_DYNAMIC_RANGE)for(le++,Ee+=u;le<de.BLOCK_SIZE;le++,Ee+=u)for(let _e=0;_e<de.BLOCK_SIZE;_e++)Q+=s[Ee+_e]&255}let se=Q>>de.BLOCK_SIZE_POWER*2;if(te-ee<=de.MIN_DYNAMIC_RANGE&&(se=ee/2,E>0&&F>0)){const le=(v[E-1][F]+2*v[E][F-1]+v[E-1][F-1])/4;ee<le&&(se=le)}v[E][F]=se}}return v}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class ne{constructor(s,a){this.width=s,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,a,l,u){throw new W("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new W("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new W("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let a=new z;for(let l=0;l<this.height;l++){const u=this.getRow(l,s);for(let d=0;d<this.width;d++){const f=u[d]&255;let m;f<64?m="#":f<128?m="+":f<192?m=".":m=" ",a.append(m)}a.append(`
`)}return a.toString()}}class ce extends ne{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,a){const l=this.delegate.getRow(s,a),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(s[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,a,l,u){return new ce(this.delegate.crop(s,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ce(this.delegate.rotateCounterClockwise45())}}class Ce extends ne{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Ce.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const a=s.getContext("2d").getImageData(0,0,s.width,s.height);return Ce.toGrayscaleBuffer(a.data,s.width,s.height)}static toGrayscaleBuffer(s,a,l){const u=new Uint8ClampedArray(a*l);for(let d=0,f=0,m=s.length;d<m;d+=4,f++){let v;if(s[d+3]===0)v=255;else{const T=s[d],F=s[d+1],j=s[d+2];v=306*T+601*F+117*j+512>>10}u[f]=v}return u}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth(),u=s*l;return a===null?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,a,l,u){return super.crop(s,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=s*Ce.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),v=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return a.width=m,a.height=v,l.translate(m/2,v/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=Ce.makeBufferFromCanvasImageData(a),this}invert(){return new ce(this)}}Ce.DEGREE_TO_RADIANS=Math.PI/180;class et{constructor(s,a,l){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ue=(globalThis||Id||self||window||void 0)&&(globalThis||Id||self||window||void 0).__awaiter||function(L,s,a,l){function u(d){return d instanceof a?d:new a(function(f){f(d)})}return new(a||(a=Promise))(function(d,f){function m(T){try{E(l.next(T))}catch(F){f(F)}}function v(T){try{E(l.throw(T))}catch(F){f(F)}}function E(T){T.done?d(T.value):u(T.value).then(m,v)}E((l=l.apply(L,s||[])).next())})};class Qe{constructor(s,a=500,l){this.reader=s,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return Ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of s){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${a.length+1}`,m=l.groupId,v={deviceId:d,label:f,kind:u,groupId:m};a.push(v)}return a})}getVideoInputDevices(){return Ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new et(a.deviceId,a.label))})}findDeviceById(s){return Ue(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,a){return Ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,a)})}decodeOnceFromVideoDevice(s,a){return Ue(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(s,a){return Ue(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(s,a){return Ue(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,a,l){return Ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,a,l)})}decodeFromVideoDevice(s,a,l){return Ue(this,void 0,void 0,function*(){let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,a,l)})}decodeFromConstraints(s,a,l){return Ue(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(s,a,l){return Ue(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,a){return Ue(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((a,l)=>this.playVideoOnLoad(s,()=>a()))}playVideoOnLoad(s,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return Ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,a){const l=document.getElementById(s);if(!l)throw new x(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new x(`element with id '${s}' must be an ${a} element`);return l}decodeFromImage(s,a){if(!s&&!a)throw new x("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)}decodeFromVideo(s,a){if(!s&&!a)throw new x("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,a,l){if(s===void 0&&a===void 0)throw new x("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new x("An image element must be provided.");this.reset();const a=this.prepareImageElement(s);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(s){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(s,a){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(s){if(!s)throw new x("A video element must be provided.");this.reset();const a=this.prepareVideoElement(s);return this.videoElement=a,a}decodeFromImageUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=s,l}decodeFromVideoUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=s,l}decodeFromVideoUrlContinuously(s,a){if(!s)throw new x("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=s,u}_decodeOnLoadImage(s){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(a,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return Ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,a){return Ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,a)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let a;return typeof s>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a}prepareVideoElement(s){let a;return!s&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(s,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode){f(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(s);d(m)}catch(m){const v=a&&m instanceof Z,T=(m instanceof A||m instanceof S)&&l;if(v||T)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(m)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(s,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(s);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const d=u instanceof A||u instanceof S,f=u instanceof Z;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const a=this.createBinaryBitmap(s);return this.decodeBitmap(a)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,a,l){a||(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(s,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const a=this.getCaptureCanvas(s),l=new Ce(a),u=new de(l);return new C(u)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class ze{constructor(s,a,l=a==null?0:8*a.length,u,d,f=O.currentTimeMillis()){this.text=s,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=s,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=u,this.format=d,this.resultMetadata=null,f==null?this.timestamp=O.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const a=this.resultPoints;if(a===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(a.length+s.length);O.arraycopy(a,0,l,0,a.length),O.arraycopy(s,0,l,a.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var gt;(function(L){L[L.AZTEC=0]="AZTEC",L[L.CODABAR=1]="CODABAR",L[L.CODE_39=2]="CODE_39",L[L.CODE_93=3]="CODE_93",L[L.CODE_128=4]="CODE_128",L[L.DATA_MATRIX=5]="DATA_MATRIX",L[L.EAN_8=6]="EAN_8",L[L.EAN_13=7]="EAN_13",L[L.ITF=8]="ITF",L[L.MAXICODE=9]="MAXICODE",L[L.PDF_417=10]="PDF_417",L[L.QR_CODE=11]="QR_CODE",L[L.RSS_14=12]="RSS_14",L[L.RSS_EXPANDED=13]="RSS_EXPANDED",L[L.UPC_A=14]="UPC_A",L[L.UPC_E=15]="UPC_E",L[L.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(gt||(gt={}));var Ae=gt,Jt;(function(L){L[L.OTHER=0]="OTHER",L[L.ORIENTATION=1]="ORIENTATION",L[L.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",L[L.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",L[L.ISSUE_NUMBER=4]="ISSUE_NUMBER",L[L.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",L[L.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",L[L.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",L[L.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",L[L.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",L[L.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Jt||(Jt={}));var _t=Jt;class qt{constructor(s,a,l,u,d=-1,f=-1){this.rawBytes=s,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class un{exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}static addOrSubtract(s,a){return s^a}}class Je{constructor(s,a){if(a.length===0)throw new w;this.field=s;const l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),O.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(s===1){l=0;for(let f=0,m=a.length;f!==m;f++){const v=a[f];l=un.addOrSubtract(l,v)}return l}l=a[0];const u=a.length,d=this.field;for(let f=1;f<u;f++)l=un.addOrSubtract(d.multiply(s,l),a[f]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){const f=a;a=l,l=f}let u=new Int32Array(l.length);const d=l.length-a.length;O.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=un.addOrSubtract(a[f-d],l[f]);return new Je(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=s.coefficients,d=u.length,f=new Int32Array(l+d-1),m=this.field;for(let v=0;v<l;v++){const E=a[v];for(let T=0;T<d;T++)f[v+T]=un.addOrSubtract(f[v+T],m.multiply(E,u[T]))}return new Je(m,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),d=this.coefficients;for(let f=0;f<a;f++)u[f]=l.multiply(d[f],s);return new Je(l,u)}multiplyByMonomial(s,a){if(s<0)throw new w;if(a===0)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+s),f=this.field;for(let m=0;m<u;m++)d[m]=f.multiply(l[m],a);return new Je(f,d)}divide(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new w("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const d=s.getCoefficient(s.getDegree()),f=a.inverse(d);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const m=u.getDegree()-s.getDegree(),v=a.multiply(u.getCoefficient(u.getDegree()),f),E=s.multiplyByMonomial(m,v),T=a.buildMonomial(m,v);l=l.addOrSubtract(T),u=u.addOrSubtract(E)}return[l,u]}toString(){let s="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),a===0||l!==1){const u=this.field.log(l);u===0?s+="1":u===1?s+="a":(s+="a^",s+=u)}a!==0&&(a===1?s+="x":(s+="x^",s+=a))}}return s}}class Ft extends g{}Ft.kind="ArithmeticException";class De extends un{constructor(s,a,l){super(),this.primitive=s,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let d=1;for(let m=0;m<a;m++)u[m]=d,d*=2,d>=a&&(d^=s,d&=a-1);this.expTable=u;const f=new Int32Array(a);for(let m=0;m<a-1;m++)f[u[m]]=m;this.logTable=f,this.zero=new Je(this,Int32Array.from([0])),this.one=new Je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new w;if(a===0)return this.zero;const l=new Int32Array(s+1);return l[0]=a,new Je(this,l)}inverse(s){if(s===0)throw new Ft;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}De.AZTEC_DATA_12=new De(4201,4096,1),De.AZTEC_DATA_10=new De(1033,1024,1),De.AZTEC_DATA_6=new De(67,64,1),De.AZTEC_PARAM=new De(19,16,1),De.QR_CODE_FIELD_256=new De(285,256,0),De.DATA_MATRIX_FIELD_256=new De(301,256,1),De.AZTEC_DATA_8=De.DATA_MATRIX_FIELD_256,De.MAXICODE_FIELD_64=De.AZTEC_DATA_6;class ft extends g{}ft.kind="ReedSolomonException";class pt extends g{}pt.kind="IllegalStateException";class gr{constructor(s){this.field=s}decode(s,a){const l=this.field,u=new Je(l,s),d=new Int32Array(a);let f=!0;for(let Q=0;Q<a;Q++){const ee=u.evaluateAt(l.exp(Q+l.getGeneratorBase()));d[d.length-1-Q]=ee,ee!==0&&(f=!1)}if(f)return;const m=new Je(l,d),v=this.runEuclideanAlgorithm(l.buildMonomial(a,1),m,a),E=v[0],T=v[1],F=this.findErrorLocations(E),j=this.findErrorMagnitudes(T,F);for(let Q=0;Q<F.length;Q++){const ee=s.length-1-l.log(F[Q]);if(ee<0)throw new ft("Bad error location");s[ee]=De.addOrSubtract(s[ee],j[Q])}}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){const Q=s;s=a,a=Q}const u=this.field;let d=s,f=a,m=u.getZero(),v=u.getOne();for(;f.getDegree()>=(l/2|0);){let Q=d,ee=m;if(d=f,m=v,d.isZero())throw new ft("r_{i-1} was zero");f=Q;let te=u.getZero();const se=d.getCoefficient(d.getDegree()),le=u.inverse(se);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const Ee=f.getDegree()-d.getDegree(),_e=u.multiply(f.getCoefficient(f.getDegree()),le);te=te.addOrSubtract(u.buildMonomial(Ee,_e)),f=f.addOrSubtract(d.multiplyByMonomial(Ee,_e))}if(v=te.multiply(m).addOrSubtract(ee),f.getDegree()>=d.getDegree())throw new pt("Division algorithm failed to reduce polynomial?")}const E=v.getCoefficient(0);if(E===0)throw new ft("sigmaTilde(0) was zero");const T=u.inverse(E),F=v.multiplyScalar(T),j=f.multiplyScalar(T);return[F,j]}findErrorLocations(s){const a=s.getDegree();if(a===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<a;f++)s.evaluateAt(f)===0&&(l[u]=d.inverse(f),u++);if(u!==a)throw new ft("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,a){const l=a.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const m=d.inverse(a[f]);let v=1;for(let E=0;E<l;E++)if(f!==E){const T=d.multiply(a[E],m),F=T&1?T&-2:T|1;v=d.multiply(v,F)}u[f]=d.multiply(s.evaluateAt(m),d.inverse(v)),d.getGeneratorBase()!==0&&(u[f]=d.multiply(u[f],m))}return u}}var Bt;(function(L){L[L.UPPER=0]="UPPER",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.DIGIT=3]="DIGIT",L[L.PUNCT=4]="PUNCT",L[L.BINARY=5]="BINARY"})(Bt||(Bt={}));class ct{decode(s){this.ddata=s;let a=s.getBits(),l=this.extractBits(a),u=this.correctBits(l),d=ct.convertBoolArrayToByteArray(u),f=ct.getEncodedData(u),m=new qt(d,f,null,null);return m.setNumBits(u.length),m}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let a=s.length,l=Bt.UPPER,u=Bt.UPPER,d="",f=0;for(;f<a;)if(u===Bt.BINARY){if(a-f<5)break;let m=ct.readCode(s,f,5);if(f+=5,m===0){if(a-f<11)break;m=ct.readCode(s,f,11)+31,f+=11}for(let v=0;v<m;v++){if(a-f<8){f=a;break}const E=ct.readCode(s,f,8);d+=q.castAsNonUtf8Char(E),f+=8}u=l}else{let m=u===Bt.DIGIT?4:5;if(a-f<m)break;let v=ct.readCode(s,f,m);f+=m;let E=ct.getCharacter(u,v);E.startsWith("CTRL_")?(l=u,u=ct.getTable(E.charAt(5)),E.charAt(6)==="L"&&(l=u)):(d+=E,u=l)}return d}static getTable(s){switch(s){case"L":return Bt.LOWER;case"P":return Bt.PUNCT;case"M":return Bt.MIXED;case"D":return Bt.DIGIT;case"B":return Bt.BINARY;case"U":default:return Bt.UPPER}}static getCharacter(s,a){switch(s){case Bt.UPPER:return ct.UPPER_TABLE[a];case Bt.LOWER:return ct.LOWER_TABLE[a];case Bt.MIXED:return ct.MIXED_TABLE[a];case Bt.PUNCT:return ct.PUNCT_TABLE[a];case Bt.DIGIT:return ct.DIGIT_TABLE[a];default:throw new pt("Bad table")}}correctBits(s){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=De.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=De.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=De.AZTEC_DATA_10):(l=12,a=De.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=s.length/l;if(d<u)throw new S;let f=s.length%l,m=new Int32Array(d);for(let j=0;j<d;j++,f+=l)m[j]=ct.readCode(s,f,l);try{new gr(a).decode(m,d-u)}catch(j){throw new S(j)}let v=(1<<l)-1,E=0;for(let j=0;j<u;j++){let Q=m[j];if(Q===0||Q===v)throw new S;(Q===1||Q===v-1)&&E++}let T=new Array(u*l-E),F=0;for(let j=0;j<u;j++){let Q=m[j];if(Q===1||Q===v-1)T.fill(Q>1,F,F+l-1),F+=l-1;else for(let ee=l-1;ee>=0;--ee)T[F++]=(Q&1<<ee)!==0}return T}extractBits(s){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,d=new Int32Array(u),f=new Array(this.totalBitsInLayer(l,a));if(a)for(let m=0;m<d.length;m++)d[m]=m;else{let m=u+1+2*R.truncDivision(R.truncDivision(u,2)-1,15),v=u/2,E=R.truncDivision(m,2);for(let T=0;T<v;T++){let F=T+R.truncDivision(T,15);d[v-T-1]=E-F-1,d[v+T]=E+F+1}}for(let m=0,v=0;m<l;m++){let E=(l-m)*4+(a?9:12),T=m*2,F=u-1-T;for(let j=0;j<E;j++){let Q=j*2;for(let ee=0;ee<2;ee++)f[v+Q+ee]=s.get(d[T+ee],d[T+j]),f[v+2*E+Q+ee]=s.get(d[T+j],d[F-ee]),f[v+4*E+Q+ee]=s.get(d[F-ee],d[F-j]),f[v+6*E+Q+ee]=s.get(d[F-j],d[T+ee])}v+=E*8}return f}static readCode(s,a,l){let u=0;for(let d=a;d<a+l;d++)u<<=1,s[d]&&(u|=1);return u}static readByte(s,a){let l=s.length-a;return l>=8?ct.readCode(s,a,8):ct.readCode(s,a,l)<<8-l}static convertBoolArrayToByteArray(s){let a=new Uint8Array((s.length+7)/8);for(let l=0;l<a.length;l++)a[l]=ct.readByte(s,8*l);return a}totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class nt{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,a,l,u){const d=s-l,f=a-u;return Math.sqrt(d*d+f*f)}static sum(s){let a=0;for(let l=0,u=s.length;l!==u;l++){const d=s[l];a+=d}return a}}class Fn{static floatToIntBits(s){return s}}Fn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class be{constructor(s,a){this.x=s,this.y=a}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof be){const a=s;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Fn.floatToIntBits(this.x)+Fn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const a=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let d,f,m;if(l>=a&&l>=u?(f=s[0],d=s[1],m=s[2]):u>=l&&u>=a?(f=s[1],d=s[0],m=s[2]):(f=s[2],d=s[0],m=s[1]),this.crossProductZ(d,f,m)<0){const v=d;d=m,m=v}s[0]=d,s[1]=f,s[2]=m}static distance(s,a){return nt.distance(s.x,s.y,a.x,a.y)}static crossProductZ(s,a,l){const u=a.x,d=a.y;return(l.x-u)*(s.y-d)-(l.y-d)*(s.x-u)}}class Sr{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Bn extends Sr{constructor(s,a,l,u,d){super(s,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mt{constructor(s,a,l,u){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),a==null&&(a=mt.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),u==null&&(u=s.getHeight()/2|0);const d=a/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let s=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,d=!1,f=!0,m=!1,v=!1,E=!1,T=!1,F=!1;const j=this.width,Q=this.height;for(;f;){f=!1;let ee=!0;for(;(ee||!v)&&a<j;)ee=this.containsBlackPoint(l,u,a,!1),ee?(a++,f=!0,v=!0):v||a++;if(a>=j){d=!0;break}let te=!0;for(;(te||!E)&&u<Q;)te=this.containsBlackPoint(s,a,u,!0),te?(u++,f=!0,E=!0):E||u++;if(u>=Q){d=!0;break}let se=!0;for(;(se||!T)&&s>=0;)se=this.containsBlackPoint(l,u,s,!1),se?(s--,f=!0,T=!0):T||s--;if(s<0){d=!0;break}let le=!0;for(;(le||!F)&&l>=0;)le=this.containsBlackPoint(s,a,l,!0),le?(l--,f=!0,F=!0):F||l--;if(l<0){d=!0;break}f&&(m=!0)}if(!d&&m){const ee=a-s;let te=null;for(let _e=1;te===null&&_e<ee;_e++)te=this.getBlackPointOnSegment(s,u-_e,s+_e,u);if(te==null)throw new Z;let se=null;for(let _e=1;se===null&&_e<ee;_e++)se=this.getBlackPointOnSegment(s,l+_e,s+_e,l);if(se==null)throw new Z;let le=null;for(let _e=1;le===null&&_e<ee;_e++)le=this.getBlackPointOnSegment(a,l+_e,a-_e,l);if(le==null)throw new Z;let Ee=null;for(let _e=1;Ee===null&&_e<ee;_e++)Ee=this.getBlackPointOnSegment(a,u-_e,a-_e,u);if(Ee==null)throw new Z;return this.centerEdges(Ee,te,le,se)}else throw new Z}getBlackPointOnSegment(s,a,l,u){const d=nt.round(nt.distance(s,a,l,u)),f=(l-s)/d,m=(u-a)/d,v=this.image;for(let E=0;E<d;E++){const T=nt.round(s+E*f),F=nt.round(a+E*m);if(v.get(T,F))return new be(T,F)}return null}centerEdges(s,a,l,u){const d=s.getX(),f=s.getY(),m=a.getX(),v=a.getY(),E=l.getX(),T=l.getY(),F=u.getX(),j=u.getY(),Q=mt.CORR;return d<this.width/2?[new be(F-Q,j+Q),new be(m+Q,v+Q),new be(E-Q,T-Q),new be(d+Q,f-Q)]:[new be(F+Q,j+Q),new be(m+Q,v-Q),new be(E-Q,T+Q),new be(d-Q,f-Q)]}containsBlackPoint(s,a,l,u){const d=this.image;if(u){for(let f=s;f<=a;f++)if(d.get(f,l))return!0}else for(let f=s;f<=a;f++)if(d.get(l,f))return!0;return!1}}mt.INIT_SIZE=10,mt.CORR=1;class mr{static checkAndNudgePoints(s,a){const l=s.getWidth(),u=s.getHeight();let d=!0;for(let f=0;f<a.length&&d;f+=2){const m=Math.floor(a[f]),v=Math.floor(a[f+1]);if(m<-1||m>l||v<-1||v>u)throw new Z;d=!1,m===-1?(a[f]=0,d=!0):m===l&&(a[f]=l-1,d=!0),v===-1?(a[f+1]=0,d=!0):v===u&&(a[f+1]=u-1,d=!0)}d=!0;for(let f=a.length-2;f>=0&&d;f-=2){const m=Math.floor(a[f]),v=Math.floor(a[f+1]);if(m<-1||m>l||v<-1||v>u)throw new Z;d=!1,m===-1?(a[f]=0,d=!0):m===l&&(a[f]=l-1,d=!0),v===-1?(a[f+1]=0,d=!0):v===u&&(a[f+1]=u-1,d=!0)}}}class vt{constructor(s,a,l,u,d,f,m,v,E){this.a11=s,this.a21=a,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=m,this.a23=v,this.a33=E}static quadrilateralToQuadrilateral(s,a,l,u,d,f,m,v,E,T,F,j,Q,ee,te,se){const le=vt.quadrilateralToSquare(s,a,l,u,d,f,m,v);return vt.squareToQuadrilateral(E,T,F,j,Q,ee,te,se).times(le)}transformPoints(s){const a=s.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,m=this.a22,v=this.a23,E=this.a31,T=this.a32,F=this.a33;for(let j=0;j<a;j+=2){const Q=s[j],ee=s[j+1],te=d*Q+v*ee+F;s[j]=(l*Q+f*ee+E)/te,s[j+1]=(u*Q+m*ee+T)/te}}transformPointsWithValues(s,a){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,m=this.a22,v=this.a23,E=this.a31,T=this.a32,F=this.a33,j=s.length;for(let Q=0;Q<j;Q++){const ee=s[Q],te=a[Q],se=d*ee+v*te+F;s[Q]=(l*ee+f*te+E)/se,a[Q]=(u*ee+m*te+T)/se}}static squareToQuadrilateral(s,a,l,u,d,f,m,v){const E=s-l+d-m,T=a-u+f-v;if(E===0&&T===0)return new vt(l-s,d-l,s,u-a,f-u,a,0,0,1);{const F=l-d,j=m-d,Q=u-f,ee=v-f,te=F*ee-j*Q,se=(E*ee-j*T)/te,le=(F*T-E*Q)/te;return new vt(l-s+se*l,m-s+le*m,s,u-a+se*u,v-a+le*v,a,se,le,1)}}static quadrilateralToSquare(s,a,l,u,d,f,m,v){return vt.squareToQuadrilateral(s,a,l,u,d,f,m,v).buildAdjoint()}buildAdjoint(){return new vt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new vt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class en extends mr{sampleGrid(s,a,l,u,d,f,m,v,E,T,F,j,Q,ee,te,se,le,Ee,_e){const ye=vt.quadrilateralToQuadrilateral(u,d,f,m,v,E,T,F,j,Q,ee,te,se,le,Ee,_e);return this.sampleGridWithTransform(s,a,l,ye)}sampleGridWithTransform(s,a,l,u){if(a<=0||l<=0)throw new Z;const d=new ue(a,l),f=new Float32Array(2*a);for(let m=0;m<l;m++){const v=f.length,E=m+.5;for(let T=0;T<v;T+=2)f[T]=T/2+.5,f[T+1]=E;u.transformPoints(f),mr.checkAndNudgePoints(s,f);try{for(let T=0;T<v;T+=2)s.get(Math.floor(f[T]),Math.floor(f[T+1]))&&d.set(T/2,m)}catch{throw new Z}}return d}}class dt{static setGridSampler(s){dt.gridSampler=s}static getInstance(){return dt.gridSampler}}dt.gridSampler=new en;class Le{constructor(s,a){this.x=s,this.y=a}toResultPoint(){return new be(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class zr{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(s){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Bn(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new Z;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let f=0;f<4;f++){let m=l[(this.shift+f)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,a){let l=0;s.forEach((u,d,f)=>{let m=(u>>a-2<<1)+(u&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(R.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new Z}getCorrectedParameterData(s,a){let l,u;a?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let v=l-1;v>=0;--v)f[v]=s&15,s>>=4;try{new gr(De.AZTEC_PARAM).decode(f,d)}catch{throw new Z}let m=0;for(let v=0;v<u;v++)m=(m<<4)+f[v];return m}getBullsEyeCorners(s){let a=s,l=s,u=s,d=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(a,f,1,-1),j=this.getFirstDifferent(l,f,1,1),Q=this.getFirstDifferent(u,f,-1,1),ee=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let te=this.distancePoint(ee,F)*this.nbCenterLayers/(this.distancePoint(d,a)*(this.nbCenterLayers+2));if(te<.75||te>1.25||!this.isWhiteOrBlackRectangle(F,j,Q,ee))break}a=F,l=j,u=Q,d=ee,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let m=new be(a.getX()+.5,a.getY()-.5),v=new be(l.getX()+.5,l.getY()+.5),E=new be(u.getX()-.5,u.getY()+.5),T=new be(d.getX()-.5,d.getY()-.5);return this.expandSquare([m,v,E,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,a,l,u;try{let m=new mt(this.image).detect();s=m[0],a=m[1],l=m[2],u=m[3]}catch{let v=this.image.getWidth()/2,E=this.image.getHeight()/2;s=this.getFirstDifferent(new Le(v+7,E-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Le(v+7,E+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Le(v-7,E+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Le(v-7,E-7),!1,-1,-1).toResultPoint()}let d=nt.round((s.getX()+u.getX()+a.getX()+l.getX())/4),f=nt.round((s.getY()+u.getY()+a.getY()+l.getY())/4);try{let m=new mt(this.image,15,d,f).detect();s=m[0],a=m[1],l=m[2],u=m[3]}catch{s=this.getFirstDifferent(new Le(d+7,f-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Le(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Le(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Le(d-7,f-7),!1,-1,-1).toResultPoint()}return d=nt.round((s.getX()+u.getX()+a.getX()+l.getX())/4),f=nt.round((s.getY()+u.getY()+a.getY()+l.getY())/4),new Le(d,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,a,l,u,d){let f=dt.getInstance(),m=this.getDimension(),v=m/2-this.nbCenterLayers,E=m/2+this.nbCenterLayers;return f.sampleGrid(s,m,m,v,v,E,v,E,E,v,E,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(s,a,l){let u=0,d=this.distanceResultPoint(s,a),f=d/l,m=s.getX(),v=s.getY(),E=f*(a.getX()-s.getX())/d,T=f*(a.getY()-s.getY())/d;for(let F=0;F<l;F++)this.image.get(nt.round(m+F*E),nt.round(v+F*T))&&(u|=1<<l-F-1);return u}isWhiteOrBlackRectangle(s,a,l,u){let d=3;s=new Le(s.getX()-d,s.getY()+d),a=new Le(a.getX()-d,a.getY()-d),l=new Le(l.getX()+d,l.getY()-d),u=new Le(u.getX()+d,u.getY()+d);let f=this.getColor(u,s);if(f===0)return!1;let m=this.getColor(s,a);return m!==f||(m=this.getColor(a,l),m!==f)?!1:(m=this.getColor(l,u),m===f)}getColor(s,a){let l=this.distancePoint(s,a),u=(a.getX()-s.getX())/l,d=(a.getY()-s.getY())/l,f=0,m=s.getX(),v=s.getY(),E=this.image.get(s.getX(),s.getY()),T=Math.ceil(l);for(let j=0;j<T;j++)m+=u,v+=d,this.image.get(nt.round(m),nt.round(v))!==E&&f++;let F=f/l;return F>.1&&F<.9?0:F<=.1===E?1:-1}getFirstDifferent(s,a,l,u){let d=s.getX()+l,f=s.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===a;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===a;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===a;)f+=u;return f-=u,new Le(d,f)}expandSquare(s,a,l){let u=l/(2*a),d=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),m=(s[0].getX()+s[2].getX())/2,v=(s[0].getY()+s[2].getY())/2,E=new be(m+u*d,v+u*f),T=new be(m-u*d,v-u*f);d=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),m=(s[1].getX()+s[3].getX())/2,v=(s[1].getY()+s[3].getY())/2;let F=new be(m+u*d,v+u*f),j=new be(m-u*d,v-u*f);return[E,F,T,j]}isValid(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(s){let a=nt.round(s.getX()),l=nt.round(s.getY());return this.isValid(a,l)}distancePoint(s,a){return nt.distance(s.getX(),s.getY(),a.getX(),a.getY())}distanceResultPoint(s,a){return nt.distance(s.getX(),s.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class zi{decode(s,a=null){let l=null,u=new zr(s.getBlackMatrix()),d=null,f=null;try{let T=u.detectMirror(!1);d=T.getPoints(),this.reportFoundResultPoints(a,d),f=new ct().decode(T)}catch(T){l=T}if(f==null)try{let T=u.detectMirror(!0);d=T.getPoints(),this.reportFoundResultPoints(a,d),f=new ct().decode(T)}catch(T){throw l??T}let m=new ze(f.getText(),f.getRawBytes(),f.getNumBits(),d,Ae.AZTEC,O.currentTimeMillis()),v=f.getByteSegments();v!=null&&m.putMetadata(_t.BYTE_SEGMENTS,v);let E=f.getECLevel();return E!=null&&m.putMetadata(_t.ERROR_CORRECTION_LEVEL,E),m}reportFoundResultPoints(s,a){if(s!=null){let l=s.get(X.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class _i extends Qe{constructor(s=500){super(new zi,s)}}class Ne{decode(s,a){try{return this.doDecode(s,a)}catch{if(a&&a.get(X.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),f=this.doDecode(d,a),m=f.getResultMetadata();let v=270;m!==null&&m.get(_t.ORIENTATION)===!0&&(v=v+m.get(_t.ORIENTATION)%360),f.putMetadata(_t.ORIENTATION,v);const E=f.getResultPoints();if(E!==null){const T=d.getHeight();for(let F=0;F<E.length;F++)E[F]=new be(T-E[F].getY()-1,E[F].getX())}return f}else throw new Z}}reset(){}doDecode(s,a){const l=s.getWidth(),u=s.getHeight();let d=new V(l);const f=a&&a.get(X.TRY_HARDER)===!0,m=Math.max(1,u>>(f?8:5));let v;f?v=u:v=15;const E=Math.trunc(u/2);for(let T=0;T<v;T++){const F=Math.trunc((T+1)/2),j=(T&1)===0,Q=E+m*(j?F:-F);if(Q<0||Q>=u)break;try{d=s.getBlackRow(Q,d)}catch{continue}for(let ee=0;ee<2;ee++){if(ee===1&&(d.reverse(),a&&a.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const te=new Map;a.forEach((se,le)=>te.set(le,se)),te.delete(X.NEED_RESULT_POINT_CALLBACK),a=te}try{const te=this.decodeRow(Q,d,a);if(ee===1){te.putMetadata(_t.ORIENTATION,180);const se=te.getResultPoints();se!==null&&(se[0]=new be(l-se[0].getX()-1,se[0].getY()),se[1]=new be(l-se[1].getX()-1,se[1].getY()))}return te}catch{}}}throw new Z}static recordPattern(s,a,l){const u=l.length;for(let E=0;E<u;E++)l[E]=0;const d=s.getSize();if(a>=d)throw new Z;let f=!s.get(a),m=0,v=a;for(;v<d;){if(s.get(v)!==f)l[m]++;else{if(++m===u)break;l[m]=1,f=!f}v++}if(!(m===u||m===u-1&&v===d))throw new Z}static recordPatternInReverse(s,a,l){let u=l.length,d=s.get(a);for(;a>0&&u>=0;)s.get(--a)!==d&&(u--,d=!d);if(u>=0)throw new Z;Ne.recordPattern(s,a+1,l)}static patternMatchVariance(s,a,l){const u=s.length;let d=0,f=0;for(let E=0;E<u;E++)d+=s[E],f+=a[E];if(d<f)return Number.POSITIVE_INFINITY;const m=d/f;l*=m;let v=0;for(let E=0;E<u;E++){const T=s[E],F=a[E]*m,j=T>F?T-F:F-T;if(j>l)return Number.POSITIVE_INFINITY;v+=j}return v/d}}class pe extends Ne{static findStartPattern(s){const a=s.getSize(),l=s.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,m=!1;const v=6;for(let E=l;E<a;E++)if(s.get(E)!==m)d[u]++;else{if(u===v-1){let T=pe.MAX_AVG_VARIANCE,F=-1;for(let j=pe.CODE_START_A;j<=pe.CODE_START_C;j++){const Q=Ne.patternMatchVariance(d,pe.CODE_PATTERNS[j],pe.MAX_INDIVIDUAL_VARIANCE);Q<T&&(T=Q,F=j)}if(F>=0&&s.isRange(Math.max(0,f-(E-f)/2),f,!1))return Int32Array.from([f,E,F]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,m=!m}throw new Z}static decodeCode(s,a,l){Ne.recordPattern(s,l,a);let u=pe.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<pe.CODE_PATTERNS.length;f++){const m=pe.CODE_PATTERNS[f],v=this.patternMatchVariance(a,m,pe.MAX_INDIVIDUAL_VARIANCE);v<u&&(u=v,d=f)}if(d>=0)return d;throw new Z}decodeRow(s,a,l){const u=l&&l.get(X.ASSUME_GS1)===!0,d=pe.findStartPattern(a),f=d[2];let m=0;const v=new Uint8Array(20);v[m++]=f;let E;switch(f){case pe.CODE_START_A:E=pe.CODE_CODE_A;break;case pe.CODE_START_B:E=pe.CODE_CODE_B;break;case pe.CODE_START_C:E=pe.CODE_CODE_C;break;default:throw new S}let T=!1,F=!1,j="",Q=d[0],ee=d[1];const te=Int32Array.from([0,0,0,0,0,0]);let se=0,le=0,Ee=f,_e=0,ye=!0,It=!1,lt=!1;for(;!T;){const vc=F;switch(F=!1,se=le,le=pe.decodeCode(a,te,ee),v[m++]=le,le!==pe.CODE_STOP&&(ye=!0),le!==pe.CODE_STOP&&(_e++,Ee+=_e*le),Q=ee,ee+=te.reduce((iP,sP)=>iP+sP,0),le){case pe.CODE_START_A:case pe.CODE_START_B:case pe.CODE_START_C:throw new S}switch(E){case pe.CODE_CODE_A:if(le<64)lt===It?j+=String.fromCharCode(32+le):j+=String.fromCharCode(32+le+128),lt=!1;else if(le<96)lt===It?j+=String.fromCharCode(le-64):j+=String.fromCharCode(le+64),lt=!1;else switch(le!==pe.CODE_STOP&&(ye=!1),le){case pe.CODE_FNC_1:u&&(j.length===0?j+="]C1":j+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_A:!It&&lt?(It=!0,lt=!1):It&&lt?(It=!1,lt=!1):lt=!0;break;case pe.CODE_SHIFT:F=!0,E=pe.CODE_CODE_B;break;case pe.CODE_CODE_B:E=pe.CODE_CODE_B;break;case pe.CODE_CODE_C:E=pe.CODE_CODE_C;break;case pe.CODE_STOP:T=!0;break}break;case pe.CODE_CODE_B:if(le<96)lt===It?j+=String.fromCharCode(32+le):j+=String.fromCharCode(32+le+128),lt=!1;else switch(le!==pe.CODE_STOP&&(ye=!1),le){case pe.CODE_FNC_1:u&&(j.length===0?j+="]C1":j+="");break;case pe.CODE_FNC_2:case pe.CODE_FNC_3:break;case pe.CODE_FNC_4_B:!It&&lt?(It=!0,lt=!1):It&&lt?(It=!1,lt=!1):lt=!0;break;case pe.CODE_SHIFT:F=!0,E=pe.CODE_CODE_A;break;case pe.CODE_CODE_A:E=pe.CODE_CODE_A;break;case pe.CODE_CODE_C:E=pe.CODE_CODE_C;break;case pe.CODE_STOP:T=!0;break}break;case pe.CODE_CODE_C:if(le<100)le<10&&(j+="0"),j+=le;else switch(le!==pe.CODE_STOP&&(ye=!1),le){case pe.CODE_FNC_1:u&&(j.length===0?j+="]C1":j+="");break;case pe.CODE_CODE_A:E=pe.CODE_CODE_A;break;case pe.CODE_CODE_B:E=pe.CODE_CODE_B;break;case pe.CODE_STOP:T=!0;break}break}vc&&(E=E===pe.CODE_CODE_A?pe.CODE_CODE_B:pe.CODE_CODE_A)}const li=ee-Q;if(ee=a.getNextUnset(ee),!a.isRange(ee,Math.min(a.getSize(),ee+(ee-Q)/2),!1))throw new Z;if(Ee-=_e*se,Ee%103!==se)throw new A;const hs=j.length;if(hs===0)throw new Z;hs>0&&ye&&(E===pe.CODE_CODE_C?j=j.substring(0,hs-2):j=j.substring(0,hs-1));const ci=(d[1]+d[0])/2,on=Q+li/2,xr=v.length,Ri=new Uint8Array(xr);for(let vc=0;vc<xr;vc++)Ri[vc]=v[vc];const yc=[new be(ci,s),new be(on,s)];return new ze(j,Ri,0,yc,Ae.CODE_128,new Date().getTime())}}pe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],pe.MAX_AVG_VARIANCE=.25,pe.MAX_INDIVIDUAL_VARIANCE=.7,pe.CODE_SHIFT=98,pe.CODE_CODE_C=99,pe.CODE_CODE_B=100,pe.CODE_CODE_A=101,pe.CODE_FNC_1=102,pe.CODE_FNC_2=97,pe.CODE_FNC_3=96,pe.CODE_FNC_4_A=101,pe.CODE_FNC_4_B=100,pe.CODE_START_A=103,pe.CODE_START_B=104,pe.CODE_START_C=105,pe.CODE_STOP=106;class ut extends Ne{constructor(s=!1,a=!1){super(),this.usingCheckDigit=s,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=ut.findAsteriskPattern(a,u),f=a.getNextSet(d[1]),m=a.getSize(),v,E;do{ut.recordPattern(a,f,u);let te=ut.toNarrowWidePattern(u);if(te<0)throw new Z;v=ut.patternToChar(te),this.decodeRowResult+=v,E=f;for(let se of u)f+=se;f=a.getNextSet(f)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let te of u)T+=te;let F=f-E-T;if(f!==m&&F*2<T)throw new Z;if(this.usingCheckDigit){let te=this.decodeRowResult.length-1,se=0;for(let le=0;le<te;le++)se+=ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(le));if(this.decodeRowResult.charAt(te)!==ut.ALPHABET_STRING.charAt(se%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,te)}if(this.decodeRowResult.length===0)throw new Z;let j;this.extendedMode?j=ut.decodeExtended(this.decodeRowResult):j=this.decodeRowResult;let Q=(d[1]+d[0])/2,ee=E+T/2;return new ze(j,null,0,[new be(Q,s),new be(ee,s)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(s,a){let l=s.getSize(),u=s.getNextSet(0),d=0,f=u,m=!1,v=a.length;for(let E=u;E<l;E++)if(s.get(E)!==m)a[d]++;else{if(d===v-1){if(this.toNarrowWidePattern(a)===ut.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((E-f)/2)),f,!1))return[f,E];f+=a[0]+a[1],a.copyWithin(0,2,2+d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,m=!m}throw new Z}static toNarrowWidePattern(s){let a=s.length,l=0,u;do{let d=2147483647;for(let v of s)v<d&&v>l&&(d=v);l=d,u=0;let f=0,m=0;for(let v=0;v<a;v++){let E=s[v];E>l&&(m|=1<<a-1-v,u++,f+=E)}if(u===3){for(let v=0;v<a&&u>0;v++){let E=s[v];if(E>l&&(u--,E*2>=f))return-1}return m}}while(u>3);return-1}static patternToChar(s){for(let a=0;a<ut.CHARACTER_ENCODINGS.length;a++)if(ut.CHARACTER_ENCODINGS[a]===s)return ut.ALPHABET_STRING.charAt(a);if(s===ut.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(s){let a=s.length,l="";for(let u=0;u<a;u++){let d=s.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=s.charAt(u+1),m="\0";switch(d){case"+":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)+32);else throw new S;break;case"$":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)-64);else throw new S;break;case"%":if(f>="A"&&f<="E")m=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")m=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")m=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")m="\0";else if(f==="V")m="@";else if(f==="W")m="`";else if(f==="X"||f==="Y"||f==="Z")m="";else throw new S;break;case"/":if(f>="A"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")m=":";else throw new S;break}l+=m,u++}else l+=d}return l}}ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ut.ASTERISK_ENCODING=148;class Ct extends Ne{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,a,l){let u=this.decodeStart(a),d=this.decodeEnd(a),f=new z;Ct.decodeMiddle(a,u[1],d[0],f);let m=f.toString(),v=null;l!=null&&(v=l.get(X.ALLOWED_LENGTHS)),v==null&&(v=Ct.DEFAULT_ALLOWED_LENGTHS);let E=m.length,T=!1,F=0;for(let ee of v){if(E===ee){T=!0;break}ee>F&&(F=ee)}if(!T&&E>F&&(T=!0),!T)throw new S;const j=[new be(u[1],s),new be(d[0],s)];return new ze(m,null,0,j,Ae.ITF,new Date().getTime())}static decodeMiddle(s,a,l,u){let d=new Int32Array(10),f=new Int32Array(5),m=new Int32Array(5);for(d.fill(0),f.fill(0),m.fill(0);a<l;){Ne.recordPattern(s,a,d);for(let E=0;E<5;E++){let T=2*E;f[E]=d[T],m[E]=d[T+1]}let v=Ct.decodeDigit(f);u.append(v.toString()),v=this.decodeDigit(m),u.append(v.toString()),d.forEach(function(E){a+=E})}}decodeStart(s){let a=Ct.skipWhiteSpace(s),l=Ct.findGuardPattern(s,a,Ct.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!s.get(u);u--)l--;if(l!==0)throw new Z}static skipWhiteSpace(s){const a=s.getSize(),l=s.getNextSet(0);if(l===a)throw new Z;return l}decodeEnd(s){s.reverse();try{let a=Ct.skipWhiteSpace(s),l;try{l=Ct.findGuardPattern(s,a,Ct.END_PATTERN_REVERSED[0])}catch(d){d instanceof Z&&(l=Ct.findGuardPattern(s,a,Ct.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let u=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-u,l}finally{s.reverse()}}static findGuardPattern(s,a,l){let u=l.length,d=new Int32Array(u),f=s.getSize(),m=!1,v=0,E=a;d.fill(0);for(let T=a;T<f;T++)if(s.get(T)!==m)d[v]++;else{if(v===u-1){if(Ne.patternMatchVariance(d,l,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return[E,T];E+=d[0]+d[1],O.arraycopy(d,2,d,0,v-1),d[v-1]=0,d[v]=0,v--}else v++;d[v]=1,m=!m}throw new Z}static decodeDigit(s){let a=Ct.MAX_AVG_VARIANCE,l=-1,u=Ct.PATTERNS.length;for(let d=0;d<u;d++){let f=Ct.PATTERNS[d],m=Ne.patternMatchVariance(s,f,Ct.MAX_INDIVIDUAL_VARIANCE);m<a?(a=m,l=d):m===a&&(l=-1)}if(l>=0)return l%10;throw new Z}}Ct.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ct.MAX_AVG_VARIANCE=.38,Ct.MAX_INDIVIDUAL_VARIANCE=.5,Ct.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ct.START_PATTERN=Int32Array.from([1,1,1,1]),Ct.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rn extends Ne{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let a=!1,l,u=0,d=Int32Array.from([0,0,0]);for(;!a;){d=Int32Array.from([0,0,0]),l=rn.findGuardPattern(s,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let m=f-(u-f);m>=0&&(a=s.isRange(m,f,!1))}return l}static checkChecksum(s){return rn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return rn.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new S;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new S;l+=d}return(1e3-l)%10}static decodeEnd(s,a){return rn.findGuardPattern(s,a,!1,rn.START_END_PATTERN,new Int32Array(rn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,a,l,u){return this.findGuardPattern(s,a,l,u,new Int32Array(u.length))}static findGuardPattern(s,a,l,u,d){let f=s.getSize();a=l?s.getNextUnset(a):s.getNextSet(a);let m=0,v=a,E=u.length,T=l;for(let F=a;F<f;F++)if(s.get(F)!==T)d[m]++;else{if(m===E-1){if(Ne.patternMatchVariance(d,u,rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return Int32Array.from([v,F]);v+=d[0]+d[1];let j=d.slice(2,d.length-1);for(let Q=0;Q<m-1;Q++)d[Q]=j[Q];d[m-1]=0,d[m]=0,m--}else m++;d[m]=1,T=!T}throw new Z}static decodeDigit(s,a,l,u){this.recordPattern(s,l,a);let d=this.MAX_AVG_VARIANCE,f=-1,m=u.length;for(let v=0;v<m;v++){let E=u[v],T=Ne.patternMatchVariance(a,E,rn.MAX_INDIVIDUAL_VARIANCE);T<d&&(d=T,f=v)}if(f>=0)return f;throw new Z}}rn.MAX_AVG_VARIANCE=.48,rn.MAX_INDIVIDUAL_VARIANCE=.7,rn.START_END_PATTERN=Int32Array.from([1,1,1]),rn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class to{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),f=u.toString(),m=to.parseExtensionString(f),v=[new be((l[0]+l[1])/2,s),new be(d,s)],E=new ze(f,null,0,v,Ae.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&E.putAllMetadata(m),E}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=a[1],m=0;for(let E=0;E<5&&f<d;E++){let T=rn.decodeDigit(s,u,f,rn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let F of u)f+=F;T>=10&&(m|=1<<4-E),E!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==5)throw new Z;let v=this.determineCheckDigit(m);if(to.extensionChecksum(l.toString())!==v)throw new Z;return f}static extensionChecksum(s){let a=s.length,l=0;for(let u=a-2;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-48;l*=3;for(let u=a-1;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new Z}static parseExtensionString(s){if(s.length!==5)return null;let a=to.parseExtension5String(s);return a==null?null:new Map([[_t.SUGGESTED_PRICE,a]])}static parseExtension5String(s){let a;switch(s.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(s.substring(1)),u=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return a+u+"."+f}}class dc{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),f=u.toString(),m=dc.parseExtensionString(f),v=[new be((l[0]+l[1])/2,s),new be(d,s)],E=new ze(f,null,0,v,Ae.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&E.putAllMetadata(m),E}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=a[1],m=0;for(let v=0;v<2&&f<d;v++){let E=rn.decodeDigit(s,u,f,rn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+E%10);for(let T of u)f+=T;E>=10&&(m|=1<<1-v),v!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==2)throw new Z;if(parseInt(l.toString())%4!==m)throw new Z;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[_t.ISSUE_NUMBER,parseInt(s)]])}}class yd{static decodeRow(s,a,l){let u=rn.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new to().decodeRow(s,a,u)}catch{return new dc().decodeRow(s,a,u)}}}yd.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class xt extends rn{constructor(){super(),this.decodeRowStringBuffer="",xt.L_AND_G_PATTERNS=xt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let a=xt.L_PATTERNS[s-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];xt.L_AND_G_PATTERNS[s]=l}}decodeRow(s,a,l){let u=xt.findStartGuardPattern(a),d=l==null?null:l.get(X.NEED_RESULT_POINT_CALLBACK);if(d!=null){const ye=new be((u[0]+u[1])/2,s);d.foundPossibleResultPoint(ye)}let f=this.decodeMiddle(a,u,this.decodeRowStringBuffer),m=f.rowOffset,v=f.resultString;if(d!=null){const ye=new be(m,s);d.foundPossibleResultPoint(ye)}let E=this.decodeEnd(a,m);if(d!=null){const ye=new be((E[0]+E[1])/2,s);d.foundPossibleResultPoint(ye)}let T=E[1],F=T+(T-E[0]);if(F>=a.getSize()||!a.isRange(T,F,!1))throw new Z;let j=v.toString();if(j.length<8)throw new S;if(!xt.checkChecksum(j))throw new A;let Q=(u[1]+u[0])/2,ee=(E[1]+E[0])/2,te=this.getBarcodeFormat(),se=[new be(Q,s),new be(ee,s)],le=new ze(j,null,0,se,te,new Date().getTime()),Ee=0;try{let ye=yd.decodeRow(s,a,E[1]);le.putMetadata(_t.UPC_EAN_EXTENSION,ye.getText()),le.putAllMetadata(ye.getResultMetadata()),le.addResultPoints(ye.getResultPoints()),Ee=ye.getText().length}catch{}let _e=l==null?null:l.get(X.ALLOWED_EAN_EXTENSIONS);if(_e!=null){let ye=!1;for(let It in _e)if(Ee.toString()===It){ye=!0;break}if(!ye)throw new Z}return le}decodeEnd(s,a){return xt.findGuardPattern(s,a,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return xt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return xt.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new S;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new S;l+=d}return(1e3-l)%10}}class ls extends xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=a[1],m=0;for(let E=0;E<6&&f<d;E++){let T=xt.decodeDigit(s,u,f,xt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let F of u)f+=F;T>=10&&(m|=1<<5-E)}l=ls.determineFirstDigit(l,m),f=xt.findGuardPattern(s,f,!0,xt.MIDDLE_PATTERN,new Int32Array(xt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&f<d;E++){let T=xt.decodeDigit(s,u,f,xt.L_PATTERNS);l+=String.fromCharCode(48+T);for(let F of u)f+=F}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(s,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new Z}}ls.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class hc extends xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=a[1];for(let v=0;v<4&&f<d;v++){let E=xt.decodeDigit(s,u,f,xt.L_PATTERNS);l+=String.fromCharCode(48+E);for(let T of u)f+=T}f=xt.findGuardPattern(s,f,!0,xt.MIDDLE_PATTERN,new Int32Array(xt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&f<d;v++){let E=xt.decodeDigit(s,u,f,xt.L_PATTERNS);l+=String.fromCharCode(48+E);for(let T of u)f+=T}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return Ae.EAN_8}}class Rs extends xt{constructor(){super(...arguments),this.ean13Reader=new ls}getBarcodeFormat(){return Ae.UPC_A}decode(s,a){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,a,l))}decodeMiddle(s,a,l){return this.ean13Reader.decodeMiddle(s,a,l)}maybeReturnResult(s){let a=s.getText();if(a.charAt(0)==="0"){let l=new ze(a.substring(1),null,null,s.getResultPoints(),Ae.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new Z}reset(){this.ean13Reader.reset()}}class ii extends xt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters.map(E=>E);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=s.getSize();let f=a[1],m=0;for(let E=0;E<6&&f<d;E++){const T=ii.decodeDigit(s,u,f,ii.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let F of u)f+=F;T>=10&&(m|=1<<5-E)}let v=ii.determineNumSysAndCheckDigit(l,m);return{rowOffset:f,resultString:v}}decodeEnd(s,a){return ii.findGuardPatternWithoutCounters(s,a,!0,ii.MIDDLE_END_PATTERN)}checkChecksum(s){return xt.checkChecksum(ii.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+u);return d+s+f}throw Z.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(s){const a=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new z;l.append(s.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}ii.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ii.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Uo extends Ne{constructor(s){super();let a=s==null?null:s.get(X.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new ls),l.push(new Rs),l.push(new hc),l.push(new ii)):(a.indexOf(Ae.EAN_13)>-1&&l.push(new ls),a.indexOf(Ae.UPC_A)>-1&&l.push(new Rs),a.indexOf(Ae.EAN_8)>-1&&l.push(new hc),a.indexOf(Ae.UPC_E)>-1&&l.push(new ii)),this.readers=l}decodeRow(s,a,l){for(let u of this.readers)try{const d=u.decodeRow(s,a,l),f=d.getBarcodeFormat()===Ae.EAN_13&&d.getText().charAt(0)==="0",m=l==null?null:l.get(X.POSSIBLE_FORMATS),v=m==null||m.includes(Ae.UPC_A);if(f&&v){const E=d.getRawBytes(),T=new ze(d.getText().substring(1),E,E?E.length:null,d.getResultPoints(),Ae.UPC_A);return T.putAllMetadata(d.getResultMetadata()),T}return d}catch{}throw new Z}reset(){for(let s of this.readers)s.reset()}}class Jn extends Ne{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,a){for(let l=0;l<a.length;l++)if(Ne.patternMatchVariance(s,a[l],Jn.MAX_INDIVIDUAL_VARIANCE)<Jn.MAX_AVG_VARIANCE)return l;throw new Z}static count(s){return nt.sum(new Int32Array(s))}static increment(s,a){let l=0,u=a[0];for(let d=1;d<s.length;d++)a[d]>u&&(u=a[d],l=d);s[l]++}static decrement(s,a){let l=0,u=a[0];for(let d=1;d<s.length;d++)a[d]<u&&(u=a[d],l=d);s[l]--}static isFinderPattern(s){let a=s[0]+s[1],l=a+s[2]+s[3],u=a/l;if(u>=Jn.MIN_FINDER_PATTERN_RATIO&&u<=Jn.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let m of s)m>f&&(f=m),m<d&&(d=m);return f<10*d}return!1}}Jn.MAX_AVG_VARIANCE=.2,Jn.MAX_INDIVIDUAL_VARIANCE=.45,Jn.MIN_FINDER_PATTERN_RATIO=9.5/12,Jn.MAX_FINDER_PATTERN_RATIO=12.5/14;class $i{constructor(s,a){this.value=s,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof $i))return!1;const a=s;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ka{constructor(s,a,l,u,d){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new be(l,d)),this.resultPoints.push(new be(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Ka))return!1;const a=s;return this.value===a.value}hashCode(){return this.value}}class ln{constructor(){}static getRSSvalue(s,a,l){let u=0;for(let v of s)u+=v;let d=0,f=0,m=s.length;for(let v=0;v<m-1;v++){let E;for(E=1,f|=1<<v;E<s[v];E++,f&=~(1<<v)){let T=ln.combins(u-E-1,m-v-2);if(l&&f===0&&u-E-(m-v-1)>=m-v-1&&(T-=ln.combins(u-E-(m-v),m-v-2)),m-v-1>1){let F=0;for(let j=u-E-(m-v-2);j>a;j--)F+=ln.combins(u-E-j-1,m-v-3);T-=F*(m-1-v)}else u-E>a&&T--;d+=T}u-=E}return d}static combins(s,a){let l,u;s-a>a?(u=a,l=s-a):(u=s-a,l=a);let d=1,f=1;for(let m=s;m>l;m--)d*=m,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class jf{static buildBitArray(s){let a=s.length*2-1;s[s.length-1].getRightChar()==null&&(a-=1);let l=12*a,u=new V(l),d=0,m=s[0].getRightChar().getValue();for(let v=11;v>=0;--v)m&1<<v&&u.set(d),d++;for(let v=1;v<s.length;++v){let E=s[v],T=E.getLeftChar().getValue();for(let F=11;F>=0;--F)T&1<<F&&u.set(d),d++;if(E.getRightChar()!=null){let F=E.getRightChar().getValue();for(let j=11;j>=0;--j)F&1<<j&&u.set(d),d++}}return u}}class Ci{constructor(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class no{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Rr extends no{constructor(s,a){super(s),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Rr.FNC1}}Rr.FNC1="$";class ro extends no{constructor(s,a,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class er extends no{constructor(s,a,l){if(super(s),a<0||a>10||l<0||l>10)throw new S;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===er.FNC1}isSecondDigitFNC1(){return this.secondDigit===er.FNC1}isAnyFNC1(){return this.firstDigit===er.FNC1||this.secondDigit===er.FNC1}}er.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new Z;let a=s.substring(0,2);for(let d of Me.TWO_DIGIT_DATA_LENGTH)if(d[0]===a)return d[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,d[2],s):Me.processFixedAI(2,d[1],s);if(s.length<3)throw new Z;let l=s.substring(0,3);for(let d of Me.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,d[2],s):Me.processFixedAI(3,d[1],s);for(let d of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,d[2],s):Me.processFixedAI(4,d[1],s);if(s.length<4)throw new Z;let u=s.substring(0,4);for(let d of Me.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,d[2],s):Me.processFixedAI(4,d[1],s);throw new Z}static processFixedAI(s,a,l){if(l.length<s)throw new Z;let u=l.substring(0,s);if(l.length<s+a)throw new Z;let d=l.substring(s,s+a),f=l.substring(s+a),m="("+u+")"+d,v=Me.parseFieldsInGeneralPurpose(f);return v==null?m:m+v}static processVariableAI(s,a,l){let u=l.substring(0,s),d;l.length<s+a?d=l.length:d=s+a;let f=l.substring(s,d),m=l.substring(d),v="("+u+")"+f,E=Me.parseFieldsInGeneralPurpose(m);return E==null?v:v+E}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class jo{constructor(s){this.buffer=new z,this.information=s}decodeAllCodes(s,a){let l=a,u=null;do{let d=this.decodeGeneralPurposeField(l,u),f=Me.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&s.append(f),d.isRemaining()?u=""+d.getRemainingValue():u=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new er(this.information.getSize(),er.FNC1,er.FNC1):new er(this.information.getSize(),d-1,er.FNC1)}let a=this.extractNumericValueFromBitArray(s,7),l=(a-8)/11,u=(a-8)%11;return new er(s+7,l,u)}extractNumericValueFromBitArray(s,a){return jo.extractNumericValueFromBitArray(this.information,s,a)}static extractNumericValueFromBitArray(s,a,l){let u=0;for(let d=0;d<l;++d)s.get(a+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(s,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new ro(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new ro(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),s=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),s=a.isFinished()):(a=this.parseNumericBlock(),s=a.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let a;return s.isSecondDigitFNC1()?a=new ro(this.current.getPosition(),this.buffer.toString()):a=new ro(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Ci(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let a=new ro(this.current.getPosition(),this.buffer.toString());return new Ci(!0,a)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ci(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new ro(this.current.getPosition(),this.buffer.toString());return new Ci(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ci(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new ro(this.current.getPosition(),this.buffer.toString());return new Ci(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ci(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new Rr(s+5,Rr.FNC1);if(a>=5&&a<15)return new Rr(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Rr(s+7,""+(l+1));if(l>=90&&l<116)return new Rr(s+7,""+(l+7));let u=this.extractNumericValueFromBitArray(s,8),d;switch(u){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new S}return new Rr(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new Rr(s+5,Rr.FNC1);if(a>=5&&a<15)return new Rr(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Rr(s+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new pt("Decoding invalid alphanumeric value: "+l)}return new Rr(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<5&&a+s<this.information.getSize();++a)if(a===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0}}class zo{constructor(s){this.information=s,this.generalDecoder=new jo(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yr extends zo{constructor(s){super(s)}encodeCompressedGtin(s,a){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,a,l)}encodeCompressedGtinWithoutAI(s,a,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}yr.appendCheckDigit(s,l)}static appendCheckDigit(s,a){let l=0;for(let u=0;u<13;u++){let d=s.charAt(u+a).charCodeAt(0)-48;l+=u&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}yr.GTIN_SIZE=40;class Ps extends yr{constructor(s){super(s)}parseInformation(){let s=new z;s.append("(01)");let a=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ps.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,Ps.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(s,Ps.HEADER_SIZE+44)}}Ps.HEADER_SIZE=4;class io extends zo{constructor(s){super(s)}parseInformation(){let s=new z;return this.getGeneralDecoder().decodeAllCodes(s,io.HEADER_SIZE)}}io.HEADER_SIZE=5;class bi extends yr{constructor(s){super(s)}encodeCompressedWeight(s,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(s,u);let d=this.checkWeight(u),f=1e5;for(let m=0;m<5;++m)d/f===0&&s.append("0"),f/=10;s.append(d)}}class Ii extends bi{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Ii.HEADER_SIZE+bi.GTIN_SIZE+Ii.WEIGHT_SIZE)throw new Z;let s=new z;return this.encodeCompressedGtin(s,Ii.HEADER_SIZE),this.encodeCompressedWeight(s,Ii.HEADER_SIZE+bi.GTIN_SIZE,Ii.WEIGHT_SIZE),s.toString()}}Ii.HEADER_SIZE=5,Ii.WEIGHT_SIZE=15;class zf extends Ii{constructor(s){super(s)}addWeightCode(s,a){s.append("(3103)")}checkWeight(s){return s}}class vd extends Ii{constructor(s){super(s)}addWeightCode(s,a){a<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class si extends yr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<si.HEADER_SIZE+yr.GTIN_SIZE)throw new Z;let s=new z;this.encodeCompressedGtin(s,si.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(si.HEADER_SIZE+yr.GTIN_SIZE,si.LAST_DIGIT_SIZE);s.append("(392"),s.append(a),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(si.HEADER_SIZE+yr.GTIN_SIZE+si.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}si.HEADER_SIZE=8,si.LAST_DIGIT_SIZE=2;class ar extends yr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ar.HEADER_SIZE+yr.GTIN_SIZE)throw new Z;let s=new z;this.encodeCompressedGtin(s,ar.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(ar.HEADER_SIZE+yr.GTIN_SIZE,ar.LAST_DIGIT_SIZE);s.append("(393"),s.append(a),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ar.HEADER_SIZE+yr.GTIN_SIZE+ar.LAST_DIGIT_SIZE,ar.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(ar.HEADER_SIZE+yr.GTIN_SIZE+ar.LAST_DIGIT_SIZE+ar.FIRST_THREE_DIGITS_SIZE,null);return s.append(u.getNewString()),s.toString()}}ar.HEADER_SIZE=8,ar.LAST_DIGIT_SIZE=2,ar.FIRST_THREE_DIGITS_SIZE=10;class sn extends bi{constructor(s,a,l){super(s),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=sn.HEADER_SIZE+sn.GTIN_SIZE+sn.WEIGHT_SIZE+sn.DATE_SIZE)throw new Z;let s=new z;return this.encodeCompressedGtin(s,sn.HEADER_SIZE),this.encodeCompressedWeight(s,sn.HEADER_SIZE+sn.GTIN_SIZE,sn.WEIGHT_SIZE),this.encodeCompressedDate(s,sn.HEADER_SIZE+sn.GTIN_SIZE+sn.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,sn.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&s.append("0"),s.append(f),d/10==0&&s.append("0"),s.append(d),u/10==0&&s.append("0"),s.append(u)}addWeightCode(s,a){s.append("("),s.append(this.firstAIdigits),s.append(a/1e5),s.append(")")}checkWeight(s){return s%1e5}}sn.HEADER_SIZE=8,sn.WEIGHT_SIZE=20,sn.DATE_SIZE=16;function $f(L){try{if(L.get(1))return new Ps(L);if(!L.get(2))return new io(L);switch(jo.extractNumericValueFromBitArray(L,1,4)){case 4:return new zf(L);case 5:return new vd(L)}switch(jo.extractNumericValueFromBitArray(L,1,5)){case 12:return new si(L);case 13:return new ar(L)}switch(jo.extractNumericValueFromBitArray(L,1,7)){case 56:return new sn(L,"310","11");case 57:return new sn(L,"320","11");case 58:return new sn(L,"310","13");case 59:return new sn(L,"320","13");case 60:return new sn(L,"310","15");case 61:return new sn(L,"320","15");case 62:return new sn(L,"310","17");case 63:return new sn(L,"320","17")}}catch(s){throw console.log(s),new pt("unknown decoder: "+L)}}class Ai{constructor(s,a,l,u){this.leftchar=s,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,a){return s instanceof Ai?Ai.equalsOrNull(s.leftchar,a.leftchar)&&Ai.equalsOrNull(s.rightchar,a.rightchar)&&Ai.equalsOrNull(s.finderpattern,a.finderpattern):!1}static equalsOrNull(s,a){return s===null?a===null:Ai.equals(s,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class fc{constructor(s,a,l){this.pairs=s,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,a){return s instanceof fc?this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed:!1}checkEqualitity(s,a){if(!s||!a)return;let l;return s.forEach((u,d)=>{a.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class he extends Jn{constructor(s){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,a,l){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(s,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(s,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,s))}catch(d){if(d instanceof Z){if(!this.pairs.length)throw new Z;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(s,!1),u){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new Z}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),a}checkRows(s,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new Z}static isValidSequence(s){for(let a of he.FINDER_PATTERN_SEQUENCES){if(s.length>a.length)continue;let l=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(s,a){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>s){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new fc(this.pairs,s,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,a){for(let l of a)if(l.getPairs().length!==s.length){for(let u of l.getPairs())for(let d of s)if(Ai.equals(u,d))break}}static isPartialRow(s,a){for(let l of a){let u=!0;for(let d of s){let f=!1;for(let m of l.getPairs())if(d.equals(m)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let a=jf.buildBitArray(s),u=$f(a).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),m=[d[0],d[1],f[0],f[1]];return new ze(u,null,null,m,Ae.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),a=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),d=2;for(let m=1;m<this.pairs.size();++m){let v=this.pairs.get(m);u+=v.getLeftChar().getChecksumPortion(),d++;let E=v.getRightChar();E!=null&&(u+=E.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==a.getValue()}static getNextSecondBar(s,a){let l;return s.get(a)?(l=s.getNextUnset(a),l=s.getNextSet(l)):(l=s.getNextSet(a),l=s.getNextUnset(l)),l}retrieveNextPair(s,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,m=-1;do this.findNextPair(s,a,m),d=this.parseFoundFinderPattern(s,l,u),d==null?m=he.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let v=this.decodeDataCharacter(s,d,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Z;let E;try{E=this.decodeDataCharacter(s,d,u,!1)}catch(T){E=null,this.verbose&&console.log(T)}return new Ai(v,E,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f;l>=0?f=l:this.isEmptyPair(a)?f=0:f=a[a.length-1].getFinderPattern().getStartEnd()[1];let m=a.length%2!=0;this.startFromEven&&(m=!m);let v=!1;for(;f<d&&(v=!s.get(f),!!v);)f++;let E=0,T=f;for(let F=f;F<d;F++)if(s.get(F)!=v)u[E]++;else{if(E==3){if(m&&he.reverseCounters(u),he.isFinderPattern(u)){this.startEnd[0]=T,this.startEnd[1]=F;return}m&&he.reverseCounters(u),T+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,v=!v}throw new Z}static reverseCounters(s){let a=s.length;for(let l=0;l<a/2;++l){let u=s[l];s[l]=s[a-l-1],s[a-l-1]=u}}parseFoundFinderPattern(s,a,l){let u,d,f;if(l){let E=this.startEnd[0]-1;for(;E>=0&&!s.get(E);)E--;E++,u=this.startEnd[0]-E,d=E,f=this.startEnd[1]}else d=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let m=this.getDecodeFinderCounters();O.arraycopy(m,0,m,1,m.length-1),m[0]=u;let v;try{v=this.parseFinderValue(m,he.FINDER_PATTERNS)}catch{return null}return new Ka(v,[d,f],d,f,a)}decodeDataCharacter(s,a,l,u){let d=this.getDataCharacterCounters();for(let on=0;on<d.length;on++)d[on]=0;if(u)he.recordPatternInReverse(s,a.getStartEnd()[0],d);else{he.recordPattern(s,a.getStartEnd()[1],d);for(let on=0,xr=d.length-1;on<xr;on++,xr--){let Ri=d[on];d[on]=d[xr],d[xr]=Ri}}let f=17,m=nt.sum(new Int32Array(d))/f,v=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(m-v)/v>.3)throw new Z;let E=this.getOddCounts(),T=this.getEvenCounts(),F=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let on=0;on<d.length;on++){let xr=1*d[on]/m,Ri=xr+.5;if(Ri<1){if(xr<.3)throw new Z;Ri=1}else if(Ri>8){if(xr>8.7)throw new Z;Ri=8}let yc=on/2;on&1?(T[yc]=Ri,j[yc]=xr-Ri):(E[yc]=Ri,F[yc]=xr-Ri)}this.adjustOddEvenCounts(f);let Q=4*a.getValue()+(l?0:2)+(u?0:1)-1,ee=0,te=0;for(let on=E.length-1;on>=0;on--){if(he.isNotA1left(a,l,u)){let xr=he.WEIGHTS[Q][2*on];te+=E[on]*xr}ee+=E[on]}let se=0;for(let on=T.length-1;on>=0;on--)if(he.isNotA1left(a,l,u)){let xr=he.WEIGHTS[Q][2*on+1];se+=T[on]*xr}let le=te+se;if(ee&1||ee>13||ee<4)throw new Z;let Ee=(13-ee)/2,_e=he.SYMBOL_WIDEST[Ee],ye=9-_e,It=ln.getRSSvalue(E,_e,!0),lt=ln.getRSSvalue(T,ye,!1),li=he.EVEN_TOTAL_SUBSET[Ee],hs=he.GSUM[Ee],ci=It*li+lt+hs;return new $i(ci,le)}static isNotA1left(s,a,l){return!(s.getValue()==0&&a&&l)}adjustOddEvenCounts(s){let a=nt.sum(new Int32Array(this.getOddCounts())),l=nt.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;a>13?d=!0:a<4&&(u=!0);let f=!1,m=!1;l>13?m=!0:l<4&&(f=!0);let v=a+l-s,E=(a&1)==1,T=(l&1)==0;if(v==1)if(E){if(T)throw new Z;d=!0}else{if(!T)throw new Z;m=!0}else if(v==-1)if(E){if(T)throw new Z;u=!0}else{if(!T)throw new Z;f=!0}else if(v==0){if(E){if(!T)throw new Z;a<l?(u=!0,m=!0):(d=!0,f=!0)}else if(T)throw new Z}else throw new Z;if(u){if(d)throw new Z;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new Z;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class Xa extends $i{constructor(s,a,l){super(s,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class $t extends Jn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,a,l){const u=this.decodePair(a,!1,s,l);$t.addOrTally(this.possibleLeftPairs,u),a.reverse();let d=this.decodePair(a,!0,s,l);$t.addOrTally(this.possibleRightPairs,d),a.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&$t.checkChecksum(f,m))return $t.constructResult(f,m)}throw new Z}static addOrTally(s,a){if(a==null)return;let l=!1;for(let u of s)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||s.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,a){let l=4537077*s.getValue()+a.getValue(),u=new String(l).toString(),d=new z;for(let E=13-u.length;E>0;E--)d.append("0");d.append(u);let f=0;for(let E=0;E<13;E++){let T=d.charAt(E).charCodeAt(0)-48;f+=E&1?T:3*T}f=10-f%10,f===10&&(f=0),d.append(f.toString());let m=s.getFinderPattern().getResultPoints(),v=a.getFinderPattern().getResultPoints();return new ze(d.toString(),null,0,[m[0],m[1],v[0],v[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(s,a){let l=(s.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(s,a,l,u){try{let d=this.findFinderPattern(s,a),f=this.parseFoundFinderPattern(s,l,a,d),m=u==null?null:u.get(X.NEED_RESULT_POINT_CALLBACK);if(m!=null){let T=(d[0]+d[1])/2;a&&(T=s.getSize()-1-T),m.foundPossibleResultPoint(new be(T,l))}let v=this.decodeDataCharacter(s,f,!0),E=this.decodeDataCharacter(s,f,!1);return new Xa(1597*v.getValue()+E.getValue(),v.getChecksumPortion()+4*E.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,a,l){let u=this.getDataCharacterCounters();for(let se=0;se<u.length;se++)u[se]=0;if(l)Ne.recordPatternInReverse(s,a.getStartEnd()[0],u);else{Ne.recordPattern(s,a.getStartEnd()[1]+1,u);for(let se=0,le=u.length-1;se<le;se++,le--){let Ee=u[se];u[se]=u[le],u[le]=Ee}}let d=l?16:15,f=nt.sum(new Int32Array(u))/d,m=this.getOddCounts(),v=this.getEvenCounts(),E=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let se=0;se<u.length;se++){let le=u[se]/f,Ee=Math.floor(le+.5);Ee<1?Ee=1:Ee>8&&(Ee=8);let _e=Math.floor(se/2);se&1?(v[_e]=Ee,T[_e]=le-Ee):(m[_e]=Ee,E[_e]=le-Ee)}this.adjustOddEvenCounts(l,d);let F=0,j=0;for(let se=m.length-1;se>=0;se--)j*=9,j+=m[se],F+=m[se];let Q=0,ee=0;for(let se=v.length-1;se>=0;se--)Q*=9,Q+=v[se],ee+=v[se];let te=j+3*Q;if(l){if(F&1||F>12||F<4)throw new Z;let se=(12-F)/2,le=$t.OUTSIDE_ODD_WIDEST[se],Ee=9-le,_e=ln.getRSSvalue(m,le,!1),ye=ln.getRSSvalue(v,Ee,!0),It=$t.OUTSIDE_EVEN_TOTAL_SUBSET[se],lt=$t.OUTSIDE_GSUM[se];return new $i(_e*It+ye+lt,te)}else{if(ee&1||ee>10||ee<4)throw new Z;let se=(10-ee)/2,le=$t.INSIDE_ODD_WIDEST[se],Ee=9-le,_e=ln.getRSSvalue(m,le,!0),ye=ln.getRSSvalue(v,Ee,!1),It=$t.INSIDE_ODD_TOTAL_SUBSET[se],lt=$t.INSIDE_GSUM[se];return new $i(ye*It+_e+lt,te)}}findFinderPattern(s,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=s.getSize(),d=!1,f=0;for(;f<u&&(d=!s.get(f),a!==d);)f++;let m=0,v=f;for(let E=f;E<u;E++)if(s.get(E)!==d)l[m]++;else{if(m===3){if(Jn.isFinderPattern(l))return[v,E];v+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,d=!d}throw new Z}parseFoundFinderPattern(s,a,l,u){let d=s.get(u[0]),f=u[0]-1;for(;f>=0&&d!==s.get(f);)f--;f++;const m=u[0]-f,v=this.getDecodeFinderCounters(),E=new Int32Array(v.length);O.arraycopy(v,0,E,1,v.length-1),E[0]=m;const T=this.parseFinderValue(E,$t.FINDER_PATTERNS);let F=f,j=u[1];return l&&(F=s.getSize()-1-F,j=s.getSize()-1-j),new Ka(T,[f,u[1]],F,j,a)}adjustOddEvenCounts(s,a){let l=nt.sum(new Int32Array(this.getOddCounts())),u=nt.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,m=!1,v=!1;s?(l>12?f=!0:l<4&&(d=!0),u>12?v=!0:u<4&&(m=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?v=!0:u<4&&(m=!0));let E=l+u-a,T=(l&1)===(s?1:0),F=(u&1)===1;if(E===1)if(T){if(F)throw new Z;f=!0}else{if(!F)throw new Z;v=!0}else if(E===-1)if(T){if(F)throw new Z;d=!0}else{if(!F)throw new Z;m=!0}else if(E===0){if(T){if(!F)throw new Z;l<u?(d=!0,v=!0):(f=!0,m=!0)}else if(F)throw new Z}else throw new Z;if(d){if(f)throw new Z;Jn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Jn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(v)throw new Z;Jn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Jn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],$t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],$t.OUTSIDE_GSUM=[0,161,961,2015,2715],$t.INSIDE_GSUM=[0,336,1036,1516],$t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],$t.INSIDE_ODD_WIDEST=[2,4,6,8],$t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ns extends Ne{constructor(s,a){super(),this.readers=[],this.verbose=a===!0;const l=s?s.get(X.POSSIBLE_FORMATS):null,u=s&&s.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Ae.EAN_13)||l.includes(Ae.UPC_A)||l.includes(Ae.EAN_8)||l.includes(Ae.UPC_E))&&this.readers.push(new Uo(s)),l.includes(Ae.CODE_39)&&this.readers.push(new ut(u)),l.includes(Ae.CODE_128)&&this.readers.push(new pe),l.includes(Ae.ITF)&&this.readers.push(new Ct),l.includes(Ae.RSS_14)&&this.readers.push(new $t),l.includes(Ae.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new Uo(s)),this.readers.push(new ut),this.readers.push(new Uo(s)),this.readers.push(new pe),this.readers.push(new Ct),this.readers.push(new $t),this.readers.push(new he(this.verbose)))}decodeRow(s,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,a,l)}catch{}throw new Z}reset(){this.readers.forEach(s=>s.reset())}}class Wg extends Qe{constructor(s=500,a){super(new Ns(a),s,a)}}class kt{constructor(s,a,l){this.ecCodewords=s,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Pt{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class yt{constructor(s,a,l,u,d,f){this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let m=0;const v=f.getECCodewords(),E=f.getECBlocks();for(let T of E)m+=T.getCount()*(T.getDataCodewords()+v);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,a){if(s&1||a&1)throw new S;for(let l of yt.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===a)return l;throw new S}toString(){return""+this.versionNumber}static buildVersions(){return[new yt(1,10,10,8,8,new kt(5,new Pt(1,3))),new yt(2,12,12,10,10,new kt(7,new Pt(1,5))),new yt(3,14,14,12,12,new kt(10,new Pt(1,8))),new yt(4,16,16,14,14,new kt(12,new Pt(1,12))),new yt(5,18,18,16,16,new kt(14,new Pt(1,18))),new yt(6,20,20,18,18,new kt(18,new Pt(1,22))),new yt(7,22,22,20,20,new kt(20,new Pt(1,30))),new yt(8,24,24,22,22,new kt(24,new Pt(1,36))),new yt(9,26,26,24,24,new kt(28,new Pt(1,44))),new yt(10,32,32,14,14,new kt(36,new Pt(1,62))),new yt(11,36,36,16,16,new kt(42,new Pt(1,86))),new yt(12,40,40,18,18,new kt(48,new Pt(1,114))),new yt(13,44,44,20,20,new kt(56,new Pt(1,144))),new yt(14,48,48,22,22,new kt(68,new Pt(1,174))),new yt(15,52,52,24,24,new kt(42,new Pt(2,102))),new yt(16,64,64,14,14,new kt(56,new Pt(2,140))),new yt(17,72,72,16,16,new kt(36,new Pt(4,92))),new yt(18,80,80,18,18,new kt(48,new Pt(4,114))),new yt(19,88,88,20,20,new kt(56,new Pt(4,144))),new yt(20,96,96,22,22,new kt(68,new Pt(4,174))),new yt(21,104,104,24,24,new kt(56,new Pt(6,136))),new yt(22,120,120,18,18,new kt(68,new Pt(6,175))),new yt(23,132,132,20,20,new kt(62,new Pt(8,163))),new yt(24,144,144,22,22,new kt(62,new Pt(8,156),new Pt(2,155))),new yt(25,8,18,6,16,new kt(7,new Pt(1,5))),new yt(26,8,32,6,14,new kt(11,new Pt(1,10))),new yt(27,12,26,10,24,new kt(14,new Pt(1,16))),new yt(28,12,36,10,16,new kt(18,new Pt(1,22))),new yt(29,16,36,14,16,new kt(24,new Pt(1,32))),new yt(30,16,48,14,22,new kt(28,new Pt(1,49)))]}}yt.VERSIONS=yt.buildVersions();class Ya{constructor(s){const a=s.getHeight();if(a<8||a>144||a&1)throw new S;this.version=Ya.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const a=s.getHeight(),l=s.getWidth();return yt.getVersionForDimensions(a,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let m=!1,v=!1,E=!1,T=!1;do if(l===d&&u===0&&!m)s[a++]=this.readCorner1(d,f)&255,l-=2,u+=2,m=!0;else if(l===d-2&&u===0&&f&3&&!v)s[a++]=this.readCorner2(d,f)&255,l-=2,u+=2,v=!0;else if(l===d+4&&u===2&&!(f&7)&&!E)s[a++]=this.readCorner3(d,f)&255,l-=2,u+=2,E=!0;else if(l===d-2&&u===0&&(f&7)===4&&!T)s[a++]=this.readCorner4(d,f)&255,l-=2,u+=2,T=!0;else{do l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(s[a++]=this.readUtah(l,u,d,f)&255),l-=2,u+=2;while(l>=0&&u<f);l+=1,u+=3;do l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(s[a++]=this.readUtah(l,u,d,f)&255),l+=2,u-=2;while(l<d&&u>=0);l+=3,u+=1}while(l<d||u<f);if(a!==this.version.getTotalCodewords())throw new S;return s}readModule(s,a,l,u){return s<0&&(s+=l,a+=4-(l+4&7)),a<0&&(a+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)}readUtah(s,a,l,u){let d=0;return this.readModule(s-2,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s-2,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a,l,u)&&(d|=1),d<<=1,this.readModule(s,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s,a,l,u)&&(d|=1),d}readCorner1(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,1,s,a)&&(l|=1),l<<=1,this.readModule(s-1,2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}readCorner2(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-4,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner3(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-3,s,a)&&(l|=1),l<<=1,this.readModule(1,a-2,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner4(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}extractDataRegion(s){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new w("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=a/u|0,m=l/d|0,v=f*u,E=m*d,T=new ue(E,v);for(let F=0;F<f;++F){const j=F*u;for(let Q=0;Q<m;++Q){const ee=Q*d;for(let te=0;te<u;++te){const se=F*(u+2)+1+te,le=j+te;for(let Ee=0;Ee<d;++Ee){const _e=Q*(d+2)+1+Ee;if(s.get(_e,se)){const ye=ee+Ee;T.set(ye,le)}}}}}return T}}class Qa{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a){const l=a.getECBlocks();let u=0;const d=l.getECBlocks();for(let te of d)u+=te.getCount();const f=new Array(u);let m=0;for(let te of d)for(let se=0;se<te.getCount();se++){const le=te.getDataCodewords(),Ee=l.getECCodewords()+le;f[m++]=new Qa(le,new Uint8Array(Ee))}const E=f[0].codewords.length-l.getECCodewords(),T=E-1;let F=0;for(let te=0;te<T;te++)for(let se=0;se<m;se++)f[se].codewords[te]=s[F++];const j=a.getVersionNumber()===24,Q=j?8:m;for(let te=0;te<Q;te++)f[te].codewords[E-1]=s[F++];const ee=f[0].codewords.length;for(let te=E;te<ee;te++)for(let se=0;se<m;se++){const le=j?(se+8)%m:se,Ee=j&&le>7?te-1:te;f[le].codewords[Ee]=s[F++]}if(F!==s.length)throw new w;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class pc{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new w(""+s);let a=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,m=s<f?s:f,v=f-m,E=255>>8-m<<v;a=(d[u]&E)>>v,s-=m,l+=m,l===8&&(l=0,u++)}if(s>0){for(;s>=8;)a=a<<8|d[u]&255,u++,s-=8;if(s>0){const f=8-s,m=255>>f<<f;a=a<<s|(d[u]&m)>>f,l+=s}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Rn;(function(L){L[L.PAD_ENCODE=0]="PAD_ENCODE",L[L.ASCII_ENCODE=1]="ASCII_ENCODE",L[L.C40_ENCODE=2]="C40_ENCODE",L[L.TEXT_ENCODE=3]="TEXT_ENCODE",L[L.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",L[L.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",L[L.BASE256_ENCODE=6]="BASE256_ENCODE"})(Rn||(Rn={}));class Os{static decode(s){const a=new pc(s),l=new z,u=new z,d=new Array;let f=Rn.ASCII_ENCODE;do if(f===Rn.ASCII_ENCODE)f=this.decodeAsciiSegment(a,l,u);else{switch(f){case Rn.C40_ENCODE:this.decodeC40Segment(a,l);break;case Rn.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Rn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Rn.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Rn.BASE256_ENCODE:this.decodeBase256Segment(a,l,d);break;default:throw new S}f=Rn.ASCII_ENCODE}while(f!==Rn.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new qt(s,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,a,l){let u=!1;do{let d=s.readBits(8);if(d===0)throw new S;if(d<=128)return u&&(d+=128),a.append(String.fromCharCode(d-1)),Rn.ASCII_ENCODE;if(d===129)return Rn.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&a.append("0"),a.append(""+f)}else switch(d){case 230:return Rn.C40_ENCODE;case 231:return Rn.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Rn.ANSIX12_ENCODE;case 239:return Rn.TEXT_ENCODE;case 240:return Rn.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new S;break}}while(s.available()>0);return Rn.ASCII_ENCODE}static decodeC40Segment(s,a){let l=!1;const u=[];let d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),u);for(let m=0;m<3;m++){const v=u[m];switch(d){case 0:if(v<3)d=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[v];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E)}else throw new S;break;case 1:l?(a.append(String.fromCharCode(v+128)),l=!1):a.append(String.fromCharCode(v)),d=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[v];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E)}else switch(v){case 27:a.append("");break;case 30:l=!0;break;default:throw new S}d=0;break;case 3:l?(a.append(String.fromCharCode(v+224)),l=!1):a.append(String.fromCharCode(v+96)),d=0;break;default:throw new S}}}while(s.available()>0)}static decodeTextSegment(s,a){let l=!1,u=[],d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),u);for(let m=0;m<3;m++){const v=u[m];switch(d){case 0:if(v<3)d=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[v];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E)}else throw new S;break;case 1:l?(a.append(String.fromCharCode(v+128)),l=!1):a.append(String.fromCharCode(v)),d=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[v];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E)}else switch(v){case 27:a.append("");break;case 30:l=!0;break;default:throw new S}d=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[v];l?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),l=!1):a.append(E),d=0}else throw new S;break;default:throw new S}}}while(s.available()>0)}static decodeAnsiX12Segment(s,a){const l=[];do{if(s.available()===8)return;const u=s.readBits(8);if(u===254)return;this.parseTwoBytes(u,s.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(f<14)a.append(String.fromCharCode(f+44));else if(f<40)a.append(String.fromCharCode(f+51));else throw new S;break}}}while(s.available()>0)}static parseTwoBytes(s,a,l){let u=(s<<8)+a-1,d=Math.floor(u/1600);l[0]=d,u-=d*1600,d=Math.floor(u/40),l[1]=d,l[2]=u-d*40}static decodeEdifactSegment(s,a){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let u=s.readBits(6);if(u===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}u&32||(u|=64),a.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,a,l){let u=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),u++);let f;if(d===0?f=s.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(s.readBits(8),u++),f<0)throw new S;const m=new Uint8Array(f);for(let v=0;v<f;v++){if(s.available()<8)throw new S;m[v]=this.unrandomize255State(s.readBits(8),u++)}l.push(m);try{a.append(G.decode(m,q.ISO88591))}catch(v){throw new pt("Platform does not support required encoding: "+v.message)}}static unrandomize255State(s,a){const l=149*a%255+1,u=s-l;return u>=0?u:u+256}}Os.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Os.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Os.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Os.TEXT_SHIFT2_SET_CHARS=Os.C40_SHIFT2_SET_CHARS,Os.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Hg{constructor(){this.rsDecoder=new gr(De.DATA_MATRIX_FIELD_256)}decode(s){const a=new Ya(s),l=a.getVersion(),u=a.readCodewords(),d=Qa.getDataBlocks(u,l);let f=0;for(let E of d)f+=E.getNumDataCodewords();const m=new Uint8Array(f),v=d.length;for(let E=0;E<v;E++){const T=d[E],F=T.getCodewords(),j=T.getNumDataCodewords();this.correctErrors(F,j);for(let Q=0;Q<j;Q++)m[Q*v+E]=F[Q]}return Os.decode(m)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new A}for(let u=0;u<a;u++)s[u]=l[u]}}class wn{constructor(s){this.image=s,this.rectangleDetector=new mt(this.image)}detect(){const s=this.rectangleDetector.detect();let a=this.detectSolid1(s);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new Z;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],d=a[2],f=a[3];let m=this.transitionsBetween(l,f)+1,v=this.transitionsBetween(d,f)+1;(m&1)===1&&(m+=1),(v&1)===1&&(v+=1),4*m<7*v&&4*v<7*m&&(m=v=Math.max(m,v));let E=wn.sampleGrid(this.image,l,u,d,f,m,v);return new Sr(E,[l,u,d,f])}static shiftPoint(s,a,l){let u=(a.getX()-s.getX())/(l+1),d=(a.getY()-s.getY())/(l+1);return new be(s.getX()+u,s.getY()+d)}static moveAway(s,a,l){let u=s.getX(),d=s.getY();return u<a?u-=1:u+=1,d<l?d-=1:d+=1,new be(u,d)}detectSolid1(s){let a=s[0],l=s[1],u=s[3],d=s[2],f=this.transitionsBetween(a,l),m=this.transitionsBetween(l,u),v=this.transitionsBetween(u,d),E=this.transitionsBetween(d,a),T=f,F=[d,a,l,u];return T>m&&(T=m,F[0]=a,F[1]=l,F[2]=u,F[3]=d),T>v&&(T=v,F[0]=l,F[1]=u,F[2]=d,F[3]=a),T>E&&(F[0]=u,F[1]=d,F[2]=a,F[3]=l),F}detectSolid2(s){let a=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(a,d),m=wn.shiftPoint(l,u,(f+1)*4),v=wn.shiftPoint(u,l,(f+1)*4),E=this.transitionsBetween(m,a),T=this.transitionsBetween(v,d);return E<T?(s[0]=a,s[1]=l,s[2]=u,s[3]=d):(s[0]=l,s[1]=u,s[2]=d,s[3]=a),s}correctTopRight(s){let a=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(a,d),m=this.transitionsBetween(l,d),v=wn.shiftPoint(a,l,(m+1)*4),E=wn.shiftPoint(u,l,(f+1)*4);f=this.transitionsBetween(v,d),m=this.transitionsBetween(E,d);let T=new be(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),F=new be(d.getX()+(a.getX()-l.getX())/(m+1),d.getY()+(a.getY()-l.getY())/(m+1));if(!this.isValid(T))return this.isValid(F)?F:null;if(!this.isValid(F))return T;let j=this.transitionsBetween(v,T)+this.transitionsBetween(E,T),Q=this.transitionsBetween(v,F)+this.transitionsBetween(E,F);return j>Q?T:F}shiftToModuleCenter(s){let a=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(a,d)+1,m=this.transitionsBetween(u,d)+1,v=wn.shiftPoint(a,l,m*4),E=wn.shiftPoint(u,l,f*4);f=this.transitionsBetween(v,d)+1,m=this.transitionsBetween(E,d)+1,(f&1)===1&&(f+=1),(m&1)===1&&(m+=1);let T=(a.getX()+l.getX()+u.getX()+d.getX())/4,F=(a.getY()+l.getY()+u.getY()+d.getY())/4;a=wn.moveAway(a,T,F),l=wn.moveAway(l,T,F),u=wn.moveAway(u,T,F),d=wn.moveAway(d,T,F);let j,Q;return v=wn.shiftPoint(a,l,m*4),v=wn.shiftPoint(v,d,f*4),j=wn.shiftPoint(l,a,m*4),j=wn.shiftPoint(j,u,f*4),E=wn.shiftPoint(u,d,m*4),E=wn.shiftPoint(E,l,f*4),Q=wn.shiftPoint(d,u,m*4),Q=wn.shiftPoint(Q,a,f*4),[v,j,E,Q]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,a,l,u,d,f,m){return dt.getInstance().sampleGrid(s,f,m,.5,.5,f-.5,.5,f-.5,m-.5,.5,m-.5,a.getX(),a.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(s,a){let l=Math.trunc(s.getX()),u=Math.trunc(s.getY()),d=Math.trunc(a.getX()),f=Math.trunc(a.getY()),m=Math.abs(f-u)>Math.abs(d-l);if(m){let te=l;l=u,u=te,te=d,d=f,f=te}let v=Math.abs(d-l),E=Math.abs(f-u),T=-v/2,F=u<f?1:-1,j=l<d?1:-1,Q=0,ee=this.image.get(m?u:l,m?l:u);for(let te=l,se=u;te!==d;te+=j){let le=this.image.get(m?se:te,m?te:se);if(le!==ee&&(Q++,ee=le),T+=E,T>0){if(se===f)break;se+=F,T-=v}}return Q}}class cs{constructor(){this.decoder=new Hg}decode(s,a=null){let l,u;if(a!=null&&a.has(X.PURE_BARCODE)){const E=cs.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(E),u=cs.NO_POINTS}else{const E=new wn(s.getBlackMatrix()).detect();l=this.decoder.decode(E.getBits()),u=E.getPoints()}const d=l.getRawBytes(),f=new ze(l.getText(),d,8*d.length,u,Ae.DATA_MATRIX,O.currentTimeMillis()),m=l.getByteSegments();m!=null&&f.putMetadata(_t.BYTE_SEGMENTS,m);const v=l.getECLevel();return v!=null&&f.putMetadata(_t.ERROR_CORRECTION_LEVEL,v),f}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a==null||l==null)throw new Z;const u=this.moduleSize(a,s);let d=a[1];const f=l[1];let m=a[0];const E=(l[0]-m+1)/u,T=(f-d+1)/u;if(E<=0||T<=0)throw new Z;const F=u/2;d+=F,m+=F;const j=new ue(E,T);for(let Q=0;Q<T;Q++){const ee=d+Q*u;for(let te=0;te<E;te++)s.get(m+te*u,ee)&&j.set(te,Q)}return j}static moduleSize(s,a){const l=a.getWidth();let u=s[0];const d=s[1];for(;u<l&&a.get(u,d);)u++;if(u===l)throw new Z;const f=u-s[0];if(f===0)throw new Z;return f}}cs.NO_POINTS=[];class Gg extends Qe{constructor(s=500){super(new cs,s)}}var oi;(function(L){L[L.L=0]="L",L[L.M=1]="M",L[L.Q=2]="Q",L[L.H=3]="H"})(oi||(oi={}));class bt{constructor(s,a,l){this.value=s,this.stringValue=a,this.bits=l,bt.FOR_BITS.set(l,this),bt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return bt.L;case"M":return bt.M;case"Q":return bt.Q;case"H":return bt.H;default:throw new x(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof bt))return!1;const a=s;return this.value===a.value}static forBits(s){if(s<0||s>=bt.FOR_BITS.size)throw new w;return bt.FOR_BITS.get(s)}}bt.FOR_BITS=new Map,bt.FOR_VALUE=new Map,bt.L=new bt(oi.L,"L",1),bt.M=new bt(oi.M,"M",0),bt.Q=new bt(oi.Q,"Q",3),bt.H=new bt(oi.H,"H",2);class Vn{constructor(s){this.errorCorrectionLevel=bt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,a){return R.bitCount(s^a)}static decodeFormatInformation(s,a){const l=Vn.doDecodeFormatInformation(s,a);return l!==null?l:Vn.doDecodeFormatInformation(s^Vn.FORMAT_INFO_MASK_QR,a^Vn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of Vn.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===s||f===a)return new Vn(d[1]);let m=Vn.numBitsDiffering(s,f);m<l&&(u=d[1],l=m),s!==a&&(m=Vn.numBitsDiffering(a,f),m<l&&(u=d[1],l=m))}return l<=3?new Vn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Vn))return!1;const a=s;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Vn.FORMAT_INFO_MASK_QR=21522,Vn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ie{constructor(s,...a){this.ecCodewordsPerBlock=s,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const a=this.ecBlocks;for(const l of a)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Y{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(s,a,...l){this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const m of f)u+=m.getCount()*(m.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new S;try{return this.getVersionForNumber((s-17)/4)}catch{throw new S}}static getVersionForNumber(s){if(s<1||s>40)throw new w;return Re.VERSIONS[s-1]}static decodeVersionInformation(s){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<Re.VERSION_DECODE_INFO.length;u++){const d=Re.VERSION_DECODE_INFO[u];if(d===s)return Re.getVersionForNumber(u+7);const f=Vn.numBitsDiffering(s,d);f<a&&(l=u+7,a=f)}return a<=3?Re.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),a=new ue(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)u===0&&(f===0||f===l-1)||u===l-1&&f===0||a.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new ie(7,new Y(1,19)),new ie(10,new Y(1,16)),new ie(13,new Y(1,13)),new ie(17,new Y(1,9))),new Re(2,Int32Array.from([6,18]),new ie(10,new Y(1,34)),new ie(16,new Y(1,28)),new ie(22,new Y(1,22)),new ie(28,new Y(1,16))),new Re(3,Int32Array.from([6,22]),new ie(15,new Y(1,55)),new ie(26,new Y(1,44)),new ie(18,new Y(2,17)),new ie(22,new Y(2,13))),new Re(4,Int32Array.from([6,26]),new ie(20,new Y(1,80)),new ie(18,new Y(2,32)),new ie(26,new Y(2,24)),new ie(16,new Y(4,9))),new Re(5,Int32Array.from([6,30]),new ie(26,new Y(1,108)),new ie(24,new Y(2,43)),new ie(18,new Y(2,15),new Y(2,16)),new ie(22,new Y(2,11),new Y(2,12))),new Re(6,Int32Array.from([6,34]),new ie(18,new Y(2,68)),new ie(16,new Y(4,27)),new ie(24,new Y(4,19)),new ie(28,new Y(4,15))),new Re(7,Int32Array.from([6,22,38]),new ie(20,new Y(2,78)),new ie(18,new Y(4,31)),new ie(18,new Y(2,14),new Y(4,15)),new ie(26,new Y(4,13),new Y(1,14))),new Re(8,Int32Array.from([6,24,42]),new ie(24,new Y(2,97)),new ie(22,new Y(2,38),new Y(2,39)),new ie(22,new Y(4,18),new Y(2,19)),new ie(26,new Y(4,14),new Y(2,15))),new Re(9,Int32Array.from([6,26,46]),new ie(30,new Y(2,116)),new ie(22,new Y(3,36),new Y(2,37)),new ie(20,new Y(4,16),new Y(4,17)),new ie(24,new Y(4,12),new Y(4,13))),new Re(10,Int32Array.from([6,28,50]),new ie(18,new Y(2,68),new Y(2,69)),new ie(26,new Y(4,43),new Y(1,44)),new ie(24,new Y(6,19),new Y(2,20)),new ie(28,new Y(6,15),new Y(2,16))),new Re(11,Int32Array.from([6,30,54]),new ie(20,new Y(4,81)),new ie(30,new Y(1,50),new Y(4,51)),new ie(28,new Y(4,22),new Y(4,23)),new ie(24,new Y(3,12),new Y(8,13))),new Re(12,Int32Array.from([6,32,58]),new ie(24,new Y(2,92),new Y(2,93)),new ie(22,new Y(6,36),new Y(2,37)),new ie(26,new Y(4,20),new Y(6,21)),new ie(28,new Y(7,14),new Y(4,15))),new Re(13,Int32Array.from([6,34,62]),new ie(26,new Y(4,107)),new ie(22,new Y(8,37),new Y(1,38)),new ie(24,new Y(8,20),new Y(4,21)),new ie(22,new Y(12,11),new Y(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new ie(30,new Y(3,115),new Y(1,116)),new ie(24,new Y(4,40),new Y(5,41)),new ie(20,new Y(11,16),new Y(5,17)),new ie(24,new Y(11,12),new Y(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new ie(22,new Y(5,87),new Y(1,88)),new ie(24,new Y(5,41),new Y(5,42)),new ie(30,new Y(5,24),new Y(7,25)),new ie(24,new Y(11,12),new Y(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new ie(24,new Y(5,98),new Y(1,99)),new ie(28,new Y(7,45),new Y(3,46)),new ie(24,new Y(15,19),new Y(2,20)),new ie(30,new Y(3,15),new Y(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new ie(28,new Y(1,107),new Y(5,108)),new ie(28,new Y(10,46),new Y(1,47)),new ie(28,new Y(1,22),new Y(15,23)),new ie(28,new Y(2,14),new Y(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new ie(30,new Y(5,120),new Y(1,121)),new ie(26,new Y(9,43),new Y(4,44)),new ie(28,new Y(17,22),new Y(1,23)),new ie(28,new Y(2,14),new Y(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new ie(28,new Y(3,113),new Y(4,114)),new ie(26,new Y(3,44),new Y(11,45)),new ie(26,new Y(17,21),new Y(4,22)),new ie(26,new Y(9,13),new Y(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new ie(28,new Y(3,107),new Y(5,108)),new ie(26,new Y(3,41),new Y(13,42)),new ie(30,new Y(15,24),new Y(5,25)),new ie(28,new Y(15,15),new Y(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new ie(28,new Y(4,116),new Y(4,117)),new ie(26,new Y(17,42)),new ie(28,new Y(17,22),new Y(6,23)),new ie(30,new Y(19,16),new Y(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new ie(28,new Y(2,111),new Y(7,112)),new ie(28,new Y(17,46)),new ie(30,new Y(7,24),new Y(16,25)),new ie(24,new Y(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new ie(30,new Y(4,121),new Y(5,122)),new ie(28,new Y(4,47),new Y(14,48)),new ie(30,new Y(11,24),new Y(14,25)),new ie(30,new Y(16,15),new Y(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new ie(30,new Y(6,117),new Y(4,118)),new ie(28,new Y(6,45),new Y(14,46)),new ie(30,new Y(11,24),new Y(16,25)),new ie(30,new Y(30,16),new Y(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new ie(26,new Y(8,106),new Y(4,107)),new ie(28,new Y(8,47),new Y(13,48)),new ie(30,new Y(7,24),new Y(22,25)),new ie(30,new Y(22,15),new Y(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new ie(28,new Y(10,114),new Y(2,115)),new ie(28,new Y(19,46),new Y(4,47)),new ie(28,new Y(28,22),new Y(6,23)),new ie(30,new Y(33,16),new Y(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new ie(30,new Y(8,122),new Y(4,123)),new ie(28,new Y(22,45),new Y(3,46)),new ie(30,new Y(8,23),new Y(26,24)),new ie(30,new Y(12,15),new Y(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new ie(30,new Y(3,117),new Y(10,118)),new ie(28,new Y(3,45),new Y(23,46)),new ie(30,new Y(4,24),new Y(31,25)),new ie(30,new Y(11,15),new Y(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new ie(30,new Y(7,116),new Y(7,117)),new ie(28,new Y(21,45),new Y(7,46)),new ie(30,new Y(1,23),new Y(37,24)),new ie(30,new Y(19,15),new Y(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new ie(30,new Y(5,115),new Y(10,116)),new ie(28,new Y(19,47),new Y(10,48)),new ie(30,new Y(15,24),new Y(25,25)),new ie(30,new Y(23,15),new Y(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new ie(30,new Y(13,115),new Y(3,116)),new ie(28,new Y(2,46),new Y(29,47)),new ie(30,new Y(42,24),new Y(1,25)),new ie(30,new Y(23,15),new Y(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new ie(30,new Y(17,115)),new ie(28,new Y(10,46),new Y(23,47)),new ie(30,new Y(10,24),new Y(35,25)),new ie(30,new Y(19,15),new Y(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new ie(30,new Y(17,115),new Y(1,116)),new ie(28,new Y(14,46),new Y(21,47)),new ie(30,new Y(29,24),new Y(19,25)),new ie(30,new Y(11,15),new Y(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new ie(30,new Y(13,115),new Y(6,116)),new ie(28,new Y(14,46),new Y(23,47)),new ie(30,new Y(44,24),new Y(7,25)),new ie(30,new Y(59,16),new Y(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new ie(30,new Y(12,121),new Y(7,122)),new ie(28,new Y(12,47),new Y(26,48)),new ie(30,new Y(39,24),new Y(14,25)),new ie(30,new Y(22,15),new Y(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new ie(30,new Y(6,121),new Y(14,122)),new ie(28,new Y(6,47),new Y(34,48)),new ie(30,new Y(46,24),new Y(10,25)),new ie(30,new Y(2,15),new Y(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new ie(30,new Y(17,122),new Y(4,123)),new ie(28,new Y(29,46),new Y(14,47)),new ie(30,new Y(49,24),new Y(10,25)),new ie(30,new Y(24,15),new Y(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new ie(30,new Y(4,122),new Y(18,123)),new ie(28,new Y(13,46),new Y(32,47)),new ie(30,new Y(48,24),new Y(14,25)),new ie(30,new Y(42,15),new Y(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new ie(30,new Y(20,117),new Y(4,118)),new ie(28,new Y(40,47),new Y(7,48)),new ie(30,new Y(43,24),new Y(22,25)),new ie(30,new Y(10,15),new Y(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new ie(30,new Y(19,118),new Y(6,119)),new ie(28,new Y(18,47),new Y(31,48)),new ie(30,new Y(34,24),new Y(34,25)),new ie(30,new Y(20,15),new Y(61,16)))];var Cn;(function(L){L[L.DATA_MASK_000=0]="DATA_MASK_000",L[L.DATA_MASK_001=1]="DATA_MASK_001",L[L.DATA_MASK_010=2]="DATA_MASK_010",L[L.DATA_MASK_011=3]="DATA_MASK_011",L[L.DATA_MASK_100=4]="DATA_MASK_100",L[L.DATA_MASK_101=5]="DATA_MASK_101",L[L.DATA_MASK_110=6]="DATA_MASK_110",L[L.DATA_MASK_111=7]="DATA_MASK_111"})(Cn||(Cn={}));class lr{constructor(s,a){this.value=s,this.isMasked=a}unmaskBitMatrix(s,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&s.flip(u,l)}}lr.values=new Map([[Cn.DATA_MASK_000,new lr(Cn.DATA_MASK_000,(L,s)=>(L+s&1)===0)],[Cn.DATA_MASK_001,new lr(Cn.DATA_MASK_001,(L,s)=>(L&1)===0)],[Cn.DATA_MASK_010,new lr(Cn.DATA_MASK_010,(L,s)=>s%3===0)],[Cn.DATA_MASK_011,new lr(Cn.DATA_MASK_011,(L,s)=>(L+s)%3===0)],[Cn.DATA_MASK_100,new lr(Cn.DATA_MASK_100,(L,s)=>(Math.floor(L/2)+Math.floor(s/3)&1)===0)],[Cn.DATA_MASK_101,new lr(Cn.DATA_MASK_101,(L,s)=>L*s%6===0)],[Cn.DATA_MASK_110,new lr(Cn.DATA_MASK_110,(L,s)=>L*s%6<3)],[Cn.DATA_MASK_111,new lr(Cn.DATA_MASK_111,(L,s)=>(L+s+L*s%3&1)===0)]]);class Za{constructor(s){const a=s.getHeight();if(a<21||(a&3)!==1)throw new S;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let d=a-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=a-8;d<a;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=Vn.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new S}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return Re.getVersionForNumber(a);let l=0;const u=s-11;for(let f=5;f>=0;f--)for(let m=s-9;m>=u;m--)l=this.copyBit(m,f,l);let d=Re.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let m=s-9;m>=u;m--)l=this.copyBit(f,m,l);if(d=Re.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new S}copyBit(s,a,l){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),a=this.readVersion(),l=lr.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=a.buildFunctionPattern();let f=!0;const m=new Uint8Array(a.getTotalCodewords());let v=0,E=0,T=0;for(let F=u-1;F>0;F-=2){F===6&&F--;for(let j=0;j<u;j++){const Q=f?u-1-j:j;for(let ee=0;ee<2;ee++)d.get(F-ee,Q)||(T++,E<<=1,this.bitMatrix.get(F-ee,Q)&&(E|=1),T===8&&(m[v++]=E,T=0,E=0))}f=!f}if(v!==a.getTotalCodewords())throw new S;return m}remask(){if(this.parsedFormatInfo===null)return;const s=lr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let a=0,l=s.getWidth();a<l;a++)for(let u=a+1,d=s.getHeight();u<d;u++)s.get(a,u)!==s.get(u,a)&&(s.flip(u,a),s.flip(a,u))}}class xd{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a,l){if(s.length!==a.getTotalCodewords())throw new w;const u=a.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const ee of f)d+=ee.getCount();const m=new Array(d);let v=0;for(const ee of f)for(let te=0;te<ee.getCount();te++){const se=ee.getDataCodewords(),le=u.getECCodewordsPerBlock()+se;m[v++]=new xd(se,new Uint8Array(le))}const E=m[0].codewords.length;let T=m.length-1;for(;T>=0&&m[T].codewords.length!==E;)T--;T++;const F=E-u.getECCodewordsPerBlock();let j=0;for(let ee=0;ee<F;ee++)for(let te=0;te<v;te++)m[te].codewords[ee]=s[j++];for(let ee=T;ee<v;ee++)m[ee].codewords[F]=s[j++];const Q=m[0].codewords.length;for(let ee=F;ee<Q;ee++)for(let te=0;te<v;te++){const se=te<T?ee:ee+1;m[te].codewords[se]=s[j++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var $r;(function(L){L[L.TERMINATOR=0]="TERMINATOR",L[L.NUMERIC=1]="NUMERIC",L[L.ALPHANUMERIC=2]="ALPHANUMERIC",L[L.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",L[L.BYTE=4]="BYTE",L[L.ECI=5]="ECI",L[L.KANJI=6]="KANJI",L[L.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",L[L.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",L[L.HANZI=9]="HANZI"})($r||($r={}));class We{constructor(s,a,l,u){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,We.FOR_BITS.set(u,this),We.FOR_VALUE.set(s,this)}static forBits(s){const a=We.FOR_BITS.get(s);if(a===void 0)throw new w;return a}getCharacterCountBits(s){const a=s.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof We))return!1;const a=s;return this.value===a.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We($r.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We($r.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We($r.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We($r.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We($r.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We($r.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We($r.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We($r.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We($r.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We($r.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class dn{static decode(s,a,l,u){const d=new pc(s);let f=new z;const m=new Array;let v=-1,E=-1;try{let T=null,F=!1,j;do{if(d.available()<4)j=We.TERMINATOR;else{const Q=d.readBits(4);j=We.forBits(Q)}switch(j){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:F=!0;break;case We.STRUCTURED_APPEND:if(d.available()<16)throw new S;v=d.readBits(8),E=d.readBits(8);break;case We.ECI:const Q=dn.parseECIValue(d);if(T=N.getCharacterSetECIByValue(Q),T===null)throw new S;break;case We.HANZI:const ee=d.readBits(4),te=d.readBits(j.getCharacterCountBits(a));ee===dn.GB2312_SUBSET&&dn.decodeHanziSegment(d,f,te);break;default:const se=d.readBits(j.getCharacterCountBits(a));switch(j){case We.NUMERIC:dn.decodeNumericSegment(d,f,se);break;case We.ALPHANUMERIC:dn.decodeAlphanumericSegment(d,f,se,F);break;case We.BYTE:dn.decodeByteSegment(d,f,se,T,m,u);break;case We.KANJI:dn.decodeKanjiSegment(d,f,se);break;default:throw new S}break}}while(j!==We.TERMINATOR)}catch{throw new S}return new qt(s,f.toString(),m.length===0?null:m,l===null?null:l.toString(),v,E)}static decodeHanziSegment(s,a,l){if(l*13>s.available())throw new S;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let m=f/96<<8&4294967295|f%96;m<959?m+=41377:m+=42657,u[d]=m>>8&255,u[d+1]=m&255,d+=2,l--}try{a.append(G.decode(u,q.GB2312))}catch(f){throw new S(f)}}static decodeKanjiSegment(s,a,l){if(l*13>s.available())throw new S;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let m=f/192<<8&4294967295|f%192;m<7936?m+=33088:m+=49472,u[d]=m>>8,u[d+1]=m,d+=2,l--}try{a.append(G.decode(u,q.SHIFT_JIS))}catch(f){throw new S(f)}}static decodeByteSegment(s,a,l,u,d,f){if(8*l>s.available())throw new S;const m=new Uint8Array(l);for(let E=0;E<l;E++)m[E]=s.readBits(8);let v;u===null?v=q.guessEncoding(m,f):v=u.getName();try{a.append(G.decode(m,v))}catch(E){throw new S(E)}d.push(m)}static toAlphaNumericChar(s){if(s>=dn.ALPHANUMERIC_CHARS.length)throw new S;return dn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,a,l,u){const d=a.length();for(;l>1;){if(s.available()<11)throw new S;const f=s.readBits(11);a.append(dn.toAlphaNumericChar(Math.floor(f/45))),a.append(dn.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(s.available()<6)throw new S;a.append(dn.toAlphaNumericChar(s.readBits(6)))}if(u)for(let f=d;f<a.length();f++)a.charAt(f)==="%"&&(f<a.length()-1&&a.charAt(f+1)==="%"?a.deleteCharAt(f+1):a.setCharAt(f,""))}static decodeNumericSegment(s,a,l){for(;l>=3;){if(s.available()<10)throw new S;const u=s.readBits(10);if(u>=1e3)throw new S;a.append(dn.toAlphaNumericChar(Math.floor(u/100))),a.append(dn.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(dn.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(s.available()<7)throw new S;const u=s.readBits(7);if(u>=100)throw new S;a.append(dn.toAlphaNumericChar(Math.floor(u/10))),a.append(dn.toAlphaNumericChar(u%10))}else if(l===1){if(s.available()<4)throw new S;const u=s.readBits(4);if(u>=10)throw new S;a.append(dn.toAlphaNumericChar(u))}}static parseECIValue(s){const a=s.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=s.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=s.readBits(16);return(a&31)<<16&4294967295|l}throw new S}}dn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",dn.GB2312_SUBSET=1;class Wf{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const a=s[0];s[0]=s[2],s[2]=a}}class qg{constructor(){this.rsDecoder=new gr(De.QR_CODE_FIELD_256)}decodeBooleanArray(s,a){return this.decodeBitMatrix(ue.parseFromBooleanArray(s),a)}decodeBitMatrix(s,a){const l=new Za(s);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,a);return d.setOther(new Wf(!0)),d}catch(d){throw u!==null?u:d}}decodeBitMatrixParser(s,a){const l=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),f=xd.getDataBlocks(d,l,u);let m=0;for(const T of f)m+=T.getNumDataCodewords();const v=new Uint8Array(m);let E=0;for(const T of f){const F=T.getCodewords(),j=T.getNumDataCodewords();this.correctErrors(F,j);for(let Q=0;Q<j;Q++)v[E++]=F[Q]}return dn.decode(v,l,u,a)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new A}for(let u=0;u<a;u++)s[u]=l[u]}}class so extends be{constructor(s,a,l){super(s,a),this.estimatedModuleSize=l}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=(this.getX()+a)/2,d=(this.getY()+s)/2,f=(this.estimatedModuleSize+l)/2;return new so(u,d,f)}}class Ti{constructor(s,a,l,u,d,f,m){this.image=s,this.startX=a,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,a=this.height,l=this.width,u=s+l,d=this.startY+a/2,f=new Int32Array(3),m=this.image;for(let v=0;v<a;v++){const E=d+(v&1?-Math.floor((v+1)/2):Math.floor((v+1)/2));f[0]=0,f[1]=0,f[2]=0;let T=s;for(;T<u&&!m.get(T,E);)T++;let F=0;for(;T<u;){if(m.get(T,E))if(F===1)f[1]++;else if(F===2){if(this.foundPatternCross(f)){const j=this.handlePossibleCenter(f,E,T);if(j!==null)return j}f[0]=f[2],f[1]=1,f[2]=0,F=1}else f[++F]++;else F===1&&F++,f[F]++;T++}if(this.foundPatternCross(f)){const j=this.handlePossibleCenter(f,E,u);if(j!==null)return j}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(s,a){return a-s[2]-s[1]/2}foundPatternCross(s){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-s[u])>=l)return!1;return!0}crossCheckVertical(s,a,l,u){const d=this.image,f=d.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let v=s;for(;v>=0&&d.get(a,v)&&m[1]<=l;)m[1]++,v--;if(v<0||m[1]>l)return NaN;for(;v>=0&&!d.get(a,v)&&m[0]<=l;)m[0]++,v--;if(m[0]>l)return NaN;for(v=s+1;v<f&&d.get(a,v)&&m[1]<=l;)m[1]++,v++;if(v===f||m[1]>l)return NaN;for(;v<f&&!d.get(a,v)&&m[2]<=l;)m[2]++,v++;if(m[2]>l)return NaN;const E=m[0]+m[1]+m[2];return 5*Math.abs(E-u)>=2*u?NaN:this.foundPatternCross(m)?Ti.centerFromEnd(m,v):NaN}handlePossibleCenter(s,a,l){const u=s[0]+s[1]+s[2],d=Ti.centerFromEnd(s,l),f=this.crossCheckVertical(a,d,2*s[1],u);if(!isNaN(f)){const m=(s[0]+s[1]+s[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(m,f,d))return E.combineEstimate(f,d,m);const v=new so(d,f,m);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class gc extends be{constructor(s,a,l,u){super(s,a),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=this.count+1,d=(this.count*this.getX()+a)/u,f=(this.count*this.getY()+s)/u,m=(this.count*this.estimatedModuleSize+l)/u;return new gc(d,f,m,u)}}class Hf{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Un{constructor(s,a){this.image=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const a=s!=null&&s.get(X.TRY_HARDER)!==void 0,l=s!=null&&s.get(X.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),f=u.getWidth();let m=Math.floor(3*d/(4*Un.MAX_MODULES));(m<Un.MIN_SKIP||a)&&(m=Un.MIN_SKIP);let v=!1;const E=new Int32Array(5);for(let F=m-1;F<d&&!v;F+=m){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let j=0;for(let Q=0;Q<f;Q++)if(u.get(Q,F))(j&1)===1&&j++,E[j]++;else if(j&1)E[j]++;else if(j===4)if(Un.foundPatternCross(E)){if(this.handlePossibleCenter(E,F,Q,l)===!0)if(m=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const te=this.findRowSkip();te>E[2]&&(F+=te-E[2]-m,Q=f-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,j=3;continue}j=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,j=3;else E[++j]++;Un.foundPatternCross(E)&&this.handlePossibleCenter(E,F,f,l)===!0&&(m=E[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return be.orderBestPatterns(T),new Hf(T)}static centerFromEnd(s,a){return a-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let a=0;for(let d=0;d<5;d++){const f=s[d];if(f===0)return!1;a+=f}if(a<7)return!1;const l=a/7,u=l/2;return Math.abs(l-s[0])<u&&Math.abs(l-s[1])<u&&Math.abs(3*l-s[2])<3*u&&Math.abs(l-s[3])<u&&Math.abs(l-s[4])<u}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,a,l,u){const d=this.getCrossCheckStateCount();let f=0;const m=this.image;for(;s>=f&&a>=f&&m.get(a-f,s-f);)d[2]++,f++;if(s<f||a<f)return!1;for(;s>=f&&a>=f&&!m.get(a-f,s-f)&&d[1]<=l;)d[1]++,f++;if(s<f||a<f||d[1]>l)return!1;for(;s>=f&&a>=f&&m.get(a-f,s-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const v=m.getHeight(),E=m.getWidth();for(f=1;s+f<v&&a+f<E&&m.get(a+f,s+f);)d[2]++,f++;if(s+f>=v||a+f>=E)return!1;for(;s+f<v&&a+f<E&&!m.get(a+f,s+f)&&d[3]<l;)d[3]++,f++;if(s+f>=v||a+f>=E||d[3]>=l)return!1;for(;s+f<v&&a+f<E&&m.get(a+f,s+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const T=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(T-u)<2*u&&Un.foundPatternCross(d)}crossCheckVertical(s,a,l,u){const d=this.image,f=d.getHeight(),m=this.getCrossCheckStateCount();let v=s;for(;v>=0&&d.get(a,v);)m[2]++,v--;if(v<0)return NaN;for(;v>=0&&!d.get(a,v)&&m[1]<=l;)m[1]++,v--;if(v<0||m[1]>l)return NaN;for(;v>=0&&d.get(a,v)&&m[0]<=l;)m[0]++,v--;if(m[0]>l)return NaN;for(v=s+1;v<f&&d.get(a,v);)m[2]++,v++;if(v===f)return NaN;for(;v<f&&!d.get(a,v)&&m[3]<l;)m[3]++,v++;if(v===f||m[3]>=l)return NaN;for(;v<f&&d.get(a,v)&&m[4]<l;)m[4]++,v++;if(m[4]>=l)return NaN;const E=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(E-u)>=2*u?NaN:Un.foundPatternCross(m)?Un.centerFromEnd(m,v):NaN}crossCheckHorizontal(s,a,l,u){const d=this.image,f=d.getWidth(),m=this.getCrossCheckStateCount();let v=s;for(;v>=0&&d.get(v,a);)m[2]++,v--;if(v<0)return NaN;for(;v>=0&&!d.get(v,a)&&m[1]<=l;)m[1]++,v--;if(v<0||m[1]>l)return NaN;for(;v>=0&&d.get(v,a)&&m[0]<=l;)m[0]++,v--;if(m[0]>l)return NaN;for(v=s+1;v<f&&d.get(v,a);)m[2]++,v++;if(v===f)return NaN;for(;v<f&&!d.get(v,a)&&m[3]<l;)m[3]++,v++;if(v===f||m[3]>=l)return NaN;for(;v<f&&d.get(v,a)&&m[4]<l;)m[4]++,v++;if(m[4]>=l)return NaN;const E=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(E-u)>=u?NaN:Un.foundPatternCross(m)?Un.centerFromEnd(m,v):NaN}handlePossibleCenter(s,a,l,u){const d=s[0]+s[1]+s[2]+s[3]+s[4];let f=Un.centerFromEnd(s,l),m=this.crossCheckVertical(a,Math.floor(f),s[2],d);if(!isNaN(m)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(m),s[2],d),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(f),s[2],d)))){const v=d/7;let E=!1;const T=this.possibleCenters;for(let F=0,j=T.length;F<j;F++){const Q=T[F];if(Q.aboutEquals(v,m,f)){T[F]=Q.combineEstimate(m,f,v),E=!0;break}}if(!E){const F=new gc(f,m,v);T.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Un.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,a=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Un.CENTER_QUORUM&&(s++,a+=f.getEstimatedModuleSize());if(s<3)return!1;const u=a/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-u);return d<=.05*a}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new Z;const a=this.possibleCenters;let l;if(s>3){let u=0,d=0;for(const v of this.possibleCenters){const E=v.getEstimatedModuleSize();u+=E,d+=E*E}l=u/s;let f=Math.sqrt(d/s-l*l);a.sort((v,E)=>{const T=Math.abs(E.getEstimatedModuleSize()-l),F=Math.abs(v.getEstimatedModuleSize()-l);return T<F?-1:T>F?1:0});const m=Math.max(.2*l,f);for(let v=0;v<a.length&&a.length>3;v++){const E=a[v];Math.abs(E.getEstimatedModuleSize()-l)>m&&(a.splice(v,1),v--)}}if(a.length>3){let u=0;for(const d of a)u+=d.getEstimatedModuleSize();l=u/a.length,a.sort((d,f)=>{if(f.getCount()===d.getCount()){const m=Math.abs(f.getEstimatedModuleSize()-l),v=Math.abs(d.getEstimatedModuleSize()-l);return m<v?1:m>v?-1:0}else return f.getCount()-d.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Un.CENTER_QUORUM=2,Un.MIN_SKIP=3,Un.MAX_MODULES=57;class Wi{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(X.NEED_RESULT_POINT_CALLBACK);const l=new Un(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const a=s.getTopLeft(),l=s.getTopRight(),u=s.getBottomLeft(),d=this.calculateModuleSize(a,l,u);if(d<1)throw new Z("No pattern found in proccess finder.");const f=Wi.computeDimension(a,l,u,d),m=Re.getProvisionalVersionForDimension(f),v=m.getDimensionForVersion()-7;let E=null;if(m.getAlignmentPatternCenters().length>0){const Q=l.getX()-a.getX()+u.getX(),ee=l.getY()-a.getY()+u.getY(),te=1-3/v,se=Math.floor(a.getX()+te*(Q-a.getX())),le=Math.floor(a.getY()+te*(ee-a.getY()));for(let Ee=4;Ee<=16;Ee<<=1)try{E=this.findAlignmentInRegion(d,se,le,Ee);break}catch(_e){if(!(_e instanceof Z))throw _e}}const T=Wi.createTransform(a,l,u,E,f),F=Wi.sampleGrid(this.image,T,f);let j;return E===null?j=[u,a,l]:j=[u,a,l,E],new Sr(F,j)}static createTransform(s,a,l,u,d){const f=d-3.5;let m,v,E,T;return u!==null?(m=u.getX(),v=u.getY(),E=f-3,T=E):(m=a.getX()-s.getX()+l.getX(),v=a.getY()-s.getY()+l.getY(),E=f,T=f),vt.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,E,T,3.5,f,s.getX(),s.getY(),a.getX(),a.getY(),m,v,l.getX(),l.getY())}static sampleGrid(s,a,l){return dt.getInstance().sampleGridWithTransform(s,l,l,a)}static computeDimension(s,a,l,u){const d=nt.round(be.distance(s,a)/u),f=nt.round(be.distance(s,l)/u);let m=Math.floor((d+f)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new Z("Dimensions could be not found.")}return m}calculateModuleSize(s,a,l){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,a,l,u){let d=this.sizeOfBlackWhiteBlackRun(s,a,l,u),f=1,m=s-(l-s);m<0?(f=s/(s-m),m=0):m>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(m-s),m=this.image.getWidth()-1);let v=Math.floor(a-(u-a)*f);return f=1,v<0?(f=a/(a-v),v=0):v>=this.image.getHeight()&&(f=(this.image.getHeight()-1-a)/(v-a),v=this.image.getHeight()-1),m=Math.floor(s+(m-s)*f),d+=this.sizeOfBlackWhiteBlackRun(s,a,m,v),d-1}sizeOfBlackWhiteBlackRun(s,a,l,u){const d=Math.abs(u-a)>Math.abs(l-s);if(d){let Q=s;s=a,a=Q,Q=l,l=u,u=Q}const f=Math.abs(l-s),m=Math.abs(u-a);let v=-f/2;const E=s<l?1:-1,T=a<u?1:-1;let F=0;const j=l+E;for(let Q=s,ee=a;Q!==j;Q+=E){const te=d?ee:Q,se=d?Q:ee;if(F===1===this.image.get(te,se)){if(F===2)return nt.distance(Q,ee,s,a);F++}if(v+=m,v>0){if(ee===u)break;ee+=T,v-=f}}return F===2?nt.distance(l+E,u,s,a):NaN}findAlignmentInRegion(s,a,l,u){const d=Math.floor(u*s),f=Math.max(0,a-d),m=Math.min(this.image.getWidth()-1,a+d);if(m-f<s*3)throw new Z("Alignment top exceeds estimated module size.");const v=Math.max(0,l-d),E=Math.min(this.image.getHeight()-1,l+d);if(E-v<s*3)throw new Z("Alignment bottom exceeds estimated module size.");return new Ti(this.image,f,v,m-f,E-v,s,this.resultPointCallback).find()}}class ks{constructor(){this.decoder=new qg}getDecoder(){return this.decoder}decode(s,a){let l,u;if(a!=null&&a.get(X.PURE_BARCODE)!==void 0){const v=ks.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(v,a),u=ks.NO_POINTS}else{const v=new Wi(s.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(v.getBits(),a),u=v.getPoints()}l.getOther()instanceof Wf&&l.getOther().applyMirroredCorrection(u);const d=new ze(l.getText(),l.getRawBytes(),void 0,u,Ae.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(_t.BYTE_SEGMENTS,f);const m=l.getECLevel();return m!==null&&d.putMetadata(_t.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(d.putMetadata(_t.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(_t.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a===null||l===null)throw new Z;const u=this.moduleSize(a,s);let d=a[1],f=l[1],m=a[0],v=l[0];if(m>=v||d>=f)throw new Z;if(f-d!==v-m&&(v=m+(f-d),v>=s.getWidth()))throw new Z;const E=Math.round((v-m+1)/u),T=Math.round((f-d+1)/u);if(E<=0||T<=0)throw new Z;if(T!==E)throw new Z;const F=Math.floor(u/2);d+=F,m+=F;const j=m+Math.floor((E-1)*u)-v;if(j>0){if(j>F)throw new Z;m-=j}const Q=d+Math.floor((T-1)*u)-f;if(Q>0){if(Q>F)throw new Z;d-=Q}const ee=new ue(E,T);for(let te=0;te<T;te++){const se=d+Math.floor(te*u);for(let le=0;le<E;le++)s.get(m+Math.floor(le*u),se)&&ee.set(le,te)}return ee}static moduleSize(s,a){const l=a.getHeight(),u=a.getWidth();let d=s[0],f=s[1],m=!0,v=0;for(;d<u&&f<l;){if(m!==a.get(d,f)){if(++v===5)break;m=!m}d++,f++}if(d===u||f===l)throw new Z;return(d-s[0])/7}}ks.NO_POINTS=new Array;class Ze{PDF417Common(){}static getBitCountSum(s){return nt.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ze.EMPTY_INT_ARRAY;const a=new Int32Array(s.length);let l=0;for(const u of s)a[l++]=u;return a}static getCodeword(s){const a=I.binarySearch(Ze.SYMBOL_TABLE,s&262143);return a<0?-1:(Ze.CODEWORD_TABLE[a]-1)%Ze.NUMBER_OF_CODEWORDS}}Ze.NUMBER_OF_CODEWORDS=929,Ze.MAX_CODEWORDS_IN_BARCODE=Ze.NUMBER_OF_CODEWORDS-1,Ze.MIN_ROWS_IN_BARCODE=3,Ze.MAX_ROWS_IN_BARCODE=90,Ze.MODULES_IN_CODEWORD=17,Ze.MODULES_IN_STOP_PATTERN=18,Ze.BARS_IN_MODULE=8,Ze.EMPTY_INT_ARRAY=new Int32Array([]),Ze.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ze.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Kg{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class tt{static detectMultiple(s,a,l){let u=s.getBlackMatrix(),d=tt.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=tt.detect(l,u)),new Kg(u,d)}static detect(s,a){const l=new Array;let u=0,d=0,f=!1;for(;u<a.getHeight();){const m=tt.findVertices(a,u,d);if(m[0]==null&&m[3]==null){if(!f)break;f=!1,d=0;for(const v of l)v[1]!=null&&(u=Math.trunc(Math.max(u,v[1].getY()))),v[3]!=null&&(u=Math.max(u,Math.trunc(v[3].getY())));u+=tt.ROW_STEP;continue}if(f=!0,l.push(m),!s)break;m[2]!=null?(d=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(d=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return l}static findVertices(s,a,l){const u=s.getHeight(),d=s.getWidth(),f=new Array(8);return tt.copyToResult(f,tt.findRowsWithPattern(s,u,d,a,l,tt.START_PATTERN),tt.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY())),tt.copyToResult(f,tt.findRowsWithPattern(s,u,d,a,l,tt.STOP_PATTERN),tt.INDEXES_STOP_PATTERN),f}static copyToResult(s,a,l){for(let u=0;u<l.length;u++)s[l[u]]=a[u]}static findRowsWithPattern(s,a,l,u,d,f){const m=new Array(4);let v=!1;const E=new Int32Array(f.length);for(;u<a;u+=tt.ROW_STEP){let F=tt.findGuardPattern(s,d,u,l,!1,f,E);if(F!=null){for(;u>0;){const j=tt.findGuardPattern(s,d,--u,l,!1,f,E);if(j!=null)F=j;else{u++;break}}m[0]=new be(F[0],u),m[1]=new be(F[1],u),v=!0;break}}let T=u+1;if(v){let F=0,j=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;T<a;T++){const Q=tt.findGuardPattern(s,j[0],T,l,!1,f,E);if(Q!=null&&Math.abs(j[0]-Q[0])<tt.MAX_PATTERN_DRIFT&&Math.abs(j[1]-Q[1])<tt.MAX_PATTERN_DRIFT)j=Q,F=0;else{if(F>tt.SKIPPED_ROW_COUNT_MAX)break;F++}}T-=F+1,m[2]=new be(j[0],T),m[3]=new be(j[1],T)}return T-u<tt.BARCODE_MIN_HEIGHT&&I.fill(m,null),m}static findGuardPattern(s,a,l,u,d,f,m){I.fillWithin(m,0,m.length,0);let v=a,E=0;for(;s.get(v,l)&&v>0&&E++<tt.MAX_PIXEL_DRIFT;)v--;let T=v,F=0,j=f.length;for(let Q=d;T<u;T++)if(s.get(T,l)!==Q)m[F]++;else{if(F===j-1){if(tt.patternMatchVariance(m,f,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return new Int32Array([v,T]);v+=m[0]+m[1],O.arraycopy(m,2,m,0,F-1),m[F-1]=0,m[F]=0,F--}else F++;m[F]=1,Q=!Q}return F===j-1&&tt.patternMatchVariance(m,f,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE?new Int32Array([v,T-1]):null}static patternMatchVariance(s,a,l){let u=s.length,d=0,f=0;for(let E=0;E<u;E++)d+=s[E],f+=a[E];if(d<f)return 1/0;let m=d/f;l*=m;let v=0;for(let E=0;E<u;E++){let T=s[E],F=a[E]*m,j=T>F?T-F:F-T;if(j>l)return 1/0;v+=j}return v/d}}tt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),tt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),tt.MAX_AVG_VARIANCE=.42,tt.MAX_INDIVIDUAL_VARIANCE=.8,tt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),tt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),tt.MAX_PIXEL_DRIFT=3,tt.MAX_PATTERN_DRIFT=5,tt.SKIPPED_ROW_COUNT_MAX=25,tt.ROW_STEP=5,tt.BARCODE_MIN_HEIGHT=10;class tr{constructor(s,a){if(a.length===0)throw new w;this.field=s;let l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),O.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(s,a),this.coefficients[u]);return a}add(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){let f=a;a=l,l=f}let u=new Int32Array(l.length),d=l.length-a.length;O.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(a[f-d],l[f]);return new tr(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof tr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new tr(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=s.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let m=0;m<l;m++){let v=a[m];for(let E=0;E<d;E++)f[m+E]=this.field.add(f[m+E],this.field.multiply(v,u[E]))}return new tr(this.field,f)}negative(){let s=this.coefficients.length,a=new Int32Array(s);for(let l=0;l<s;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new tr(this.field,a)}multiplyScalar(s){if(s===0)return new tr(this.field,new Int32Array([0]));if(s===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new tr(this.field,l)}multiplyByMonomial(s,a){if(s<0)throw new w;if(a===0)return new tr(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+s);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],a);return new tr(this.field,u)}toString(){let s=new z;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(a===0||l!==1)&&s.append(l),a!==0&&(a===1?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()}}class Xg{add(s,a){return(s+a)%this.modulus}subtract(s,a){return(this.modulus+s-a)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}inverse(s){if(s===0)throw new Ft;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class $o extends Xg{constructor(s,a){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let u=0;u<s;u++)this.expTable[u]=l,l=l*a%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new tr(this,new Int32Array([0])),this.one=new tr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new w;if(a===0)return this.zero;let l=new Int32Array(s+1);return l[0]=a,new tr(this,l)}}$o.PDF417_GF=new $o(Ze.NUMBER_OF_CODEWORDS,3);class Ja{constructor(){this.field=$o.PDF417_GF}decode(s,a,l){let u=new tr(this.field,s),d=new Int32Array(a),f=!1;for(let ee=a;ee>0;ee--){let te=u.evaluateAt(this.field.exp(ee));d[a-ee]=te,te!==0&&(f=!0)}if(!f)return 0;let m=this.field.getOne();if(l!=null)for(const ee of l){let te=this.field.exp(s.length-1-ee),se=new tr(this.field,new Int32Array([this.field.subtract(0,te),1]));m=m.multiply(se)}let v=new tr(this.field,d),E=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),v,a),T=E[0],F=E[1],j=this.findErrorLocations(T),Q=this.findErrorMagnitudes(F,T,j);for(let ee=0;ee<j.length;ee++){let te=s.length-1-this.field.log(j[ee]);if(te<0)throw A.getChecksumInstance();s[te]=this.field.subtract(s[te],Q[ee])}return j.length}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){let j=s;s=a,a=j}let u=s,d=a,f=this.field.getZero(),m=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let j=u,Q=f;if(u=d,f=m,u.isZero())throw A.getChecksumInstance();d=j;let ee=this.field.getZero(),te=u.getCoefficient(u.getDegree()),se=this.field.inverse(te);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let le=d.getDegree()-u.getDegree(),Ee=this.field.multiply(d.getCoefficient(d.getDegree()),se);ee=ee.add(this.field.buildMonomial(le,Ee)),d=d.subtract(u.multiplyByMonomial(le,Ee))}m=ee.multiply(f).subtract(Q).negative()}let v=m.getCoefficient(0);if(v===0)throw A.getChecksumInstance();let E=this.field.inverse(v),T=m.multiply(E),F=d.multiply(E);return[T,F]}findErrorLocations(s){let a=s.getDegree(),l=new Int32Array(a),u=0;for(let d=1;d<this.field.getSize()&&u<a;d++)s.evaluateAt(d)===0&&(l[u]=this.field.inverse(d),u++);if(u!==a)throw A.getChecksumInstance();return l}findErrorMagnitudes(s,a,l){let u=a.getDegree(),d=new Int32Array(u);for(let E=1;E<=u;E++)d[u-E]=this.field.multiply(E,a.getCoefficient(E));let f=new tr(this.field,d),m=l.length,v=new Int32Array(m);for(let E=0;E<m;E++){let T=this.field.inverse(l[E]),F=this.field.subtract(0,s.evaluateAt(T)),j=this.field.inverse(f.evaluateAt(T));v[E]=this.field.multiply(F,j)}return v}}class Ds{constructor(s,a,l,u,d){s instanceof Ds?this.constructor_2(s):this.constructor_1(s,a,l,u,d)}constructor_1(s,a,l,u,d){const f=a==null||l==null,m=u==null||d==null;if(f&&m)throw new Z;f?(a=new be(0,u.getY()),l=new be(0,d.getY())):m&&(u=new be(s.getWidth()-1,a.getY()),d=new be(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,a){return s==null?a:a==null?s:new Ds(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(s,a,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,m=this.bottomRight;if(s>0){let v=l?this.topLeft:this.topRight,E=Math.trunc(v.getY()-s);E<0&&(E=0);let T=new be(v.getX(),E);l?u=T:f=T}if(a>0){let v=l?this.bottomLeft:this.bottomRight,E=Math.trunc(v.getY()+a);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let T=new be(v.getX(),E);l?d=T:m=T}return new Ds(this.image,u,d,f,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class el{constructor(s,a,l,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class us{constructor(){this.buffer=""}static form(s,a){let l=-1;function u(f,m,v,E,T,F){if(f==="%%")return"%";if(a[++l]===void 0)return;f=E?parseInt(E.substr(1)):void 0;let j=T?parseInt(T.substr(1)):void 0,Q;switch(F){case"s":Q=a[l];break;case"c":Q=a[l][0];break;case"f":Q=parseFloat(a[l]).toFixed(f);break;case"p":Q=parseFloat(a[l]).toPrecision(f);break;case"e":Q=parseFloat(a[l]).toExponential(f);break;case"x":Q=parseInt(a[l]).toString(j||16);break;case"d":Q=parseFloat(parseInt(a[l],j||10).toPrecision(f)).toFixed(0);break}Q=typeof Q=="object"?JSON.stringify(Q):(+Q).toString(j);let ee=parseInt(v),te=v&&v[0]+""=="0"?"0":" ";for(;Q.length<ee;)Q=m!==void 0?Q+te:te+Q;return Q}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,u)}format(s,...a){this.buffer+=us.form(s,a)}toString(){return this.buffer}}class Wo{constructor(s){this.boundingBox=new Ds(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let a=this.getCodeword(s);if(a!=null)return a;for(let l=1;l<Wo.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(s)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(s)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,a){this.codewords[this.imageRowToCodewordIndex(s)]=a}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new us;let a=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",a++);continue}s.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return s.toString()}}Wo.MAX_NEARBY_DISTANCE=5;class oo{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let a=this.values.get(s);a==null&&(a=0),a++,this.values.set(s,a)}getValue(){let s=-1,a=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>s?(s=d.getValue(),a=[],a.push(d.getKey())):d.getValue()===s&&a.push(d.getKey())}return Ze.toIntArray(a)}getConfidence(s){return this.values.get(s)}}class hn extends Wo{constructor(s,a){super(s),this._isLeft=a}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,s);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(d.getY())),v=-1,E=1,T=0;for(let F=f;F<m;F++){if(a[F]==null)continue;let j=a[F],Q=j.getRowNumber()-v;if(Q===0)T++;else if(Q===1)E=Math.max(E,T),T=1,v=j.getRowNumber();else if(Q<0||j.getRowNumber()>=s.getRowCount()||Q>F)a[F]=null;else{let ee;E>2?ee=(E-2)*Q:ee=Q;let te=ee>=F;for(let se=1;se<=ee&&!te;se++)te=a[F-se]!=null;te?a[F]=null:(v=j.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let a=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(s){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),v=-1;for(let E=d;E<f;E++){if(m[E]==null)continue;let T=m[E];T.setRowNumberAsRowIndicatorColumn();let F=T.getRowNumber()-v;F===0||(F===1?v=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?m[E]=null:v=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),a=new oo,l=new oo,u=new oo,d=new oo;for(let m of s){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let v=m.getValue()%30,E=m.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:l.setValue(v*3+1);break;case 1:d.setValue(v/3),u.setValue(v%3);break;case 2:a.setValue(v+1);break}}if(a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ze.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ze.MAX_ROWS_IN_BARCODE)return null;let f=new el(a.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,a){for(let l=0;l<s.length;l++){let u=s[l];if(s[l]==null)continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>a.getRowCount()){s[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==a.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==a.getErrorCorrectionLevel()||d%3!==a.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==a.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class tl{constructor(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ze.MAX_CODEWORDS_IN_BARCODE,a;do a=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&a[l]!=null&&s[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];d!=null&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(d=tl.adjustRowNumberIfValid(u,d,m),m.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(d=tl.adjustRowNumberIfValid(u,d,m),m.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),a=0):++a),a}adjustRowNumbers(s,a,l){if(!this.detectionResultColumns[s-1])return;let u=l[a],d=this.detectionResultColumns[s-1].getCodewords(),f=d;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let m=new Array(14);m[2]=d[a],m[3]=f[a],a>0&&(m[0]=l[a-1],m[4]=d[a-1],m[5]=f[a-1]),a>1&&(m[8]=l[a-2],m[10]=d[a-2],m[11]=f[a-2]),a<l.length-1&&(m[1]=l[a+1],m[6]=d[a+1],m[7]=f[a+1]),a<l.length-2&&(m[9]=l[a+2],m[12]=d[a+2],m[13]=f[a+2]);for(let v of m)if(tl.adjustRowNumber(u,v))return}static adjustRowNumber(s,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===s.getBucket()?(s.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,a){this.detectionResultColumns[s]=a}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new us;for(let l=0;l<s.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){a.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];if(d==null){a.format("    |   ");continue}a.format(" %3d|%3d",d.getRowNumber(),d.getValue())}a.format("%n")}return a.toString()}}class nl{constructor(s,a,l,u){this.rowNumber=nl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==nl.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}nl.BARCODE_ROW_UNKNOWN=-1;class vr{static initialize(){for(let s=0;s<Ze.SYMBOL_TABLE.length;s++){let a=Ze.SYMBOL_TABLE[s],l=a&1;for(let u=0;u<Ze.BARS_IN_MODULE;u++){let d=0;for(;(a&1)===l;)d+=1,a>>=1;l=a&1,vr.RATIOS_TABLE[s]||(vr.RATIOS_TABLE[s]=new Array(Ze.BARS_IN_MODULE)),vr.RATIOS_TABLE[s][Ze.BARS_IN_MODULE-u-1]=Math.fround(d/Ze.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let a=vr.getDecodedCodewordValue(vr.sampleBitCounts(s));return a!==-1?a:vr.getClosestDecodedValue(s)}static sampleBitCounts(s){let a=nt.sum(s),l=new Int32Array(Ze.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<Ze.MODULES_IN_CODEWORD;f++){let m=a/(2*Ze.MODULES_IN_CODEWORD)+f*a/Ze.MODULES_IN_CODEWORD;d+s[u]<=m&&(d+=s[u],u++),l[u]++}return l}static getDecodedCodewordValue(s){let a=vr.getBitValue(s);return Ze.getCodeword(a)===-1?-1:a}static getBitValue(s){let a=0;for(let l=0;l<s.length;l++)for(let u=0;u<s[l];u++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(s){let a=nt.sum(s),l=new Array(Ze.BARS_IN_MODULE);if(a>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(s[f]/a);let u=Fn.MAX_VALUE,d=-1;this.bSymbolTableReady||vr.initialize();for(let f=0;f<vr.RATIOS_TABLE.length;f++){let m=0,v=vr.RATIOS_TABLE[f];for(let E=0;E<Ze.BARS_IN_MODULE;E++){let T=Math.fround(v[E]-l[E]);if(m+=Math.fround(T*T),m>=u)break}m<u&&(u=m,d=Ze.SYMBOL_TABLE[f])}return d}}vr.bSymbolTableReady=!1,vr.RATIOS_TABLE=new Array(Ze.SYMBOL_TABLE.length).map(L=>new Array(Ze.BARS_IN_MODULE));class wd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Ed{static parseLong(s,a=void 0){return parseInt(s,a)}}class rl extends g{}rl.kind="NullPointerException";class Gf{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,a,l){if(s==null)throw new rl;if(a<0||a>s.length||l<0||a+l>s.length||a+l<0)throw new U;if(l===0)return;for(let u=0;u<l;u++)this.write(s[a+u])}flush(){}close(){}}class ds extends g{}class qf extends Gf{constructor(s=32){if(super(),this.count=0,s<0)throw new w("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new ds;l=R.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,a,l){if(a<0||a>s.length||l<0||a+l-s.length>0)throw new U;this.ensureCapacity(this.count+l),O.arraycopy(s,a,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Wt;(function(L){L[L.ALPHA=0]="ALPHA",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.PUNCT=3]="PUNCT",L[L.ALPHA_SHIFT=4]="ALPHA_SHIFT",L[L.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Wt||(Wt={}));function Ho(){if(typeof window<"u")return window.BigInt||null;if(typeof Id<"u")return Id.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let il;function Hi(L){if(typeof il>"u"&&(il=Ho()),il===null)throw new Error("BigInt is not supported!");return il(L)}function mc(){let L=[];L[0]=Hi(1);let s=Hi(900);L[1]=s;for(let a=2;a<16;a++)L[a]=L[a-1]*s;return L}class oe{static decode(s,a){let l=new z(""),u=N.ISO8859_1;l.enableDecoding(u);let d=1,f=s[d++],m=new wd;for(;d<s[0];){switch(f){case oe.TEXT_COMPACTION_MODE_LATCH:d=oe.textCompaction(s,d,l);break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:d=oe.byteCompaction(f,s,u,d,l);break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case oe.NUMERIC_COMPACTION_MODE_LATCH:d=oe.numericCompaction(s,d,l);break;case oe.ECI_CHARSET:N.getCharacterSetECIByValue(s[d++]);break;case oe.ECI_GENERAL_PURPOSE:d+=2;break;case oe.ECI_USER_DEFINED:d++;break;case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=oe.decodeMacroBlock(s,d,m);break;case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:throw new S;default:d--,d=oe.textCompaction(s,d,l);break}if(d<s.length)f=s[d++];else throw S.getFormatInstance()}if(l.length()===0)throw S.getFormatInstance();let v=new qt(null,l.toString(),null,a);return v.setOther(m),v}static decodeMacroBlock(s,a,l){if(a+oe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw S.getFormatInstance();let u=new Int32Array(oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<oe.NUMBER_OF_SEQUENCE_CODEWORDS;m++,a++)u[m]=s[a];l.setSegmentIndex(R.parseInt(oe.decodeBase900toBase10(u,oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new z;a=oe.textCompaction(s,a,d),l.setFileId(d.toString());let f=-1;for(s[a]===oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=a+1);a<s[0];)switch(s[a]){case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,s[a]){case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new z;a=oe.textCompaction(s,a+1,m),l.setFileName(m.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new z;a=oe.textCompaction(s,a+1,v),l.setSender(v.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new z;a=oe.textCompaction(s,a+1,E),l.setAddressee(E.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new z;a=oe.numericCompaction(s,a+1,T),l.setSegmentCount(R.parseInt(T.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new z;a=oe.numericCompaction(s,a+1,F),l.setTimestamp(Ed.parseLong(F.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let j=new z;a=oe.numericCompaction(s,a+1,j),l.setChecksum(R.parseInt(j.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Q=new z;a=oe.numericCompaction(s,a+1,Q),l.setFileSize(Ed.parseLong(Q.toString()));break;default:throw S.getFormatInstance()}break;case oe.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw S.getFormatInstance()}if(f!==-1){let m=a-f;l.isLastSegment()&&m--,l.setOptionalData(I.copyOfRange(s,f,f+m))}return a}static textCompaction(s,a,l){let u=new Int32Array((s[0]-a)*2),d=new Int32Array((s[0]-a)*2),f=0,m=!1;for(;a<s[0]&&!m;){let v=s[a++];if(v<oe.TEXT_COMPACTION_MODE_LATCH)u[f]=v/30,u[f+1]=v%30,f+=2;else switch(v){case oe.TEXT_COMPACTION_MODE_LATCH:u[f++]=oe.TEXT_COMPACTION_MODE_LATCH;break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:a--,m=!0;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=s[a++],d[f]=v,f++;break}}return oe.decodeTextCompaction(u,d,f,l),a}static decodeTextCompaction(s,a,l,u){let d=Wt.ALPHA,f=Wt.ALPHA,m=0;for(;m<l;){let v=s[m],E="";switch(d){case Wt.ALPHA:if(v<26)E=String.fromCharCode(65+v);else switch(v){case 26:E=" ";break;case oe.LL:d=Wt.LOWER;break;case oe.ML:d=Wt.MIXED;break;case oe.PS:f=d,d=Wt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:d=Wt.ALPHA;break}break;case Wt.LOWER:if(v<26)E=String.fromCharCode(97+v);else switch(v){case 26:E=" ";break;case oe.AS:f=d,d=Wt.ALPHA_SHIFT;break;case oe.ML:d=Wt.MIXED;break;case oe.PS:f=d,d=Wt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:d=Wt.ALPHA;break}break;case Wt.MIXED:if(v<oe.PL)E=oe.MIXED_CHARS[v];else switch(v){case oe.PL:d=Wt.PUNCT;break;case 26:E=" ";break;case oe.LL:d=Wt.LOWER;break;case oe.AL:d=Wt.ALPHA;break;case oe.PS:f=d,d=Wt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:d=Wt.ALPHA;break}break;case Wt.PUNCT:if(v<oe.PAL)E=oe.PUNCT_CHARS[v];else switch(v){case oe.PAL:d=Wt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:d=Wt.ALPHA;break}break;case Wt.ALPHA_SHIFT:if(d=f,v<26)E=String.fromCharCode(65+v);else switch(v){case 26:E=" ";break;case oe.TEXT_COMPACTION_MODE_LATCH:d=Wt.ALPHA;break}break;case Wt.PUNCT_SHIFT:if(d=f,v<oe.PAL)E=oe.PUNCT_CHARS[v];else switch(v){case oe.PAL:d=Wt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:d=Wt.ALPHA;break}break}E!==""&&u.append(E),m++}}static byteCompaction(s,a,l,u,d){let f=new qf,m=0,v=0,E=!1;switch(s){case oe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),F=a[u++];for(;u<a[0]&&!E;)switch(T[m++]=F,v=900*v+F,F=a[u++],F){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:u--,E=!0;break;default:if(m%5===0&&m>0){for(let j=0;j<6;++j)f.write(Number(Hi(v)>>Hi(8*(5-j))));v=0,m=0}break}u===a[0]&&F<oe.TEXT_COMPACTION_MODE_LATCH&&(T[m++]=F);for(let j=0;j<m;j++)f.write(T[j]);break;case oe.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!E;){let j=a[u++];if(j<oe.TEXT_COMPACTION_MODE_LATCH)m++,v=900*v+j;else switch(j){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:u--,E=!0;break}if(m%5===0&&m>0){for(let Q=0;Q<6;++Q)f.write(Number(Hi(v)>>Hi(8*(5-Q))));v=0,m=0}}break}return d.append(G.decode(f.toByteArray(),l)),u}static numericCompaction(s,a,l){let u=0,d=!1,f=new Int32Array(oe.MAX_NUMERIC_CODEWORDS);for(;a<s[0]&&!d;){let m=s[a++];if(a===s[0]&&(d=!0),m<oe.TEXT_COMPACTION_MODE_LATCH)f[u]=m,u++;else switch(m){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:a--,d=!0;break}(u%oe.MAX_NUMERIC_CODEWORDS===0||m===oe.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(oe.decodeBase900toBase10(f,u)),u=0)}return a}static decodeBase900toBase10(s,a){let l=Hi(0);for(let d=0;d<a;d++)l+=oe.EXP900[a-d-1]*Hi(s[d]);let u=l.toString();if(u.charAt(0)!=="1")throw new S;return u.substring(1)}}oe.TEXT_COMPACTION_MODE_LATCH=900,oe.BYTE_COMPACTION_MODE_LATCH=901,oe.NUMERIC_COMPACTION_MODE_LATCH=902,oe.BYTE_COMPACTION_MODE_LATCH_6=924,oe.ECI_USER_DEFINED=925,oe.ECI_GENERAL_PURPOSE=926,oe.ECI_CHARSET=927,oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,oe.MACRO_PDF417_TERMINATOR=922,oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,oe.MAX_NUMERIC_CODEWORDS=15,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,oe.PL=25,oe.LL=27,oe.AS=27,oe.ML=28,oe.AL=28,oe.PS=29,oe.PAL=29,oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",oe.EXP900=Ho()?mc():[],oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class st{constructor(){}static decode(s,a,l,u,d,f,m){let v=new Ds(s,a,l,u,d),E=null,T=null,F;for(let ee=!0;;ee=!1){if(a!=null&&(E=st.getRowIndicatorColumn(s,v,a,!0,f,m)),u!=null&&(T=st.getRowIndicatorColumn(s,v,u,!1,f,m)),F=st.merge(E,T),F==null)throw Z.getNotFoundInstance();let te=F.getBoundingBox();if(ee&&te!=null&&(te.getMinY()<v.getMinY()||te.getMaxY()>v.getMaxY()))v=te;else break}F.setBoundingBox(v);let j=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,E),F.setDetectionResultColumn(j,T);let Q=E!=null;for(let ee=1;ee<=j;ee++){let te=Q?ee:j-ee;if(F.getDetectionResultColumn(te)!==void 0)continue;let se;te===0||te===j?se=new hn(v,te===0):se=new Wo(v),F.setDetectionResultColumn(te,se);let le=-1,Ee=le;for(let _e=v.getMinY();_e<=v.getMaxY();_e++){if(le=st.getStartColumn(F,te,_e,Q),le<0||le>v.getMaxX()){if(Ee===-1)continue;le=Ee}let ye=st.detectCodeword(s,v.getMinX(),v.getMaxX(),Q,le,_e,f,m);ye!=null&&(se.setCodeword(_e,ye),Ee=le,f=Math.min(f,ye.getWidth()),m=Math.max(m,ye.getWidth()))}}return st.createDecoderResult(F)}static merge(s,a){if(s==null&&a==null)return null;let l=st.getBarcodeMetadata(s,a);if(l==null)return null;let u=Ds.merge(st.adjustBoundingBox(s),st.adjustBoundingBox(a));return new tl(l,u)}static adjustBoundingBox(s){if(s==null)return null;let a=s.getRowHeights();if(a==null)return null;let l=st.getMax(a),u=0;for(let m of a)if(u+=l-m,m>0)break;let d=s.getCodewords();for(let m=0;u>0&&d[m]==null;m++)u--;let f=0;for(let m=a.length-1;m>=0&&(f+=l-a[m],!(a[m]>0));m--);for(let m=d.length-1;f>0&&d[m]==null;m--)f--;return s.getBoundingBox().addMissingRows(u,f,s.isLeft())}static getMax(s){let a=-1;for(let l of s)a=Math.max(a,l);return a}static getBarcodeMetadata(s,a){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let u;return a==null||(u=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(s,a,l,u,d,f){let m=new hn(a,u);for(let v=0;v<2;v++){let E=v===0?1:-1,T=Math.trunc(Math.trunc(l.getX()));for(let F=Math.trunc(Math.trunc(l.getY()));F<=a.getMaxY()&&F>=a.getMinY();F+=E){let j=st.detectCodeword(s,0,s.getWidth(),u,T,F,d,f);j!=null&&(m.setCodeword(F,j),u?T=j.getStartX():T=j.getEndX())}}return m}static adjustCodewordCount(s,a){let l=a[0][1],u=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-st.getNumberOfECCodeWords(s.getBarcodeECLevel());if(u.length===0){if(d<1||d>Ze.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(s){let a=st.createBarcodeMatrix(s);st.adjustCodewordCount(s,a);let l=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],f=new Array;for(let v=0;v<s.getBarcodeRowCount();v++)for(let E=0;E<s.getBarcodeColumnCount();E++){let T=a[v][E+1].getValue(),F=v*s.getBarcodeColumnCount()+E;T.length===0?l.push(F):T.length===1?u[F]=T[0]:(f.push(F),d.push(T))}let m=new Array(d.length);for(let v=0;v<m.length;v++)m[v]=d[v];return st.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,Ze.toIntArray(l),Ze.toIntArray(f),m)}static createDecoderResultFromAmbiguousValues(s,a,l,u,d){let f=new Int32Array(u.length),m=100;for(;m-- >0;){for(let v=0;v<f.length;v++)a[u[v]]=d[v][f[v]];try{return st.decodeCodewords(a,s,l)}catch(v){if(!(v instanceof A))throw v}if(f.length===0)throw A.getChecksumInstance();for(let v=0;v<f.length;v++)if(f[v]<d[v].length-1){f[v]++;break}else if(f[v]=0,v===f.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(s){let a=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let d=0;d<a[u].length;d++)a[u][d]=new oo;let l=0;for(let u of s.getDetectionResultColumns()){if(u!=null){for(let d of u.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=a.length)continue;a[f][l].setValue(d.getValue())}}}l++}return a}static isValidBarcodeColumn(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1}static getStartColumn(s,a,l,u){let d=u?1:-1,f=null;if(st.isValidBarcodeColumn(s,a-d)&&(f=s.getDetectionResultColumn(a-d).getCodeword(l)),f!=null)return u?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(a).getCodewordNearby(l),f!=null)return u?f.getStartX():f.getEndX();if(st.isValidBarcodeColumn(s,a-d)&&(f=s.getDetectionResultColumn(a-d).getCodewordNearby(l)),f!=null)return u?f.getEndX():f.getStartX();let m=0;for(;st.isValidBarcodeColumn(s,a-d);){a-=d;for(let v of s.getDetectionResultColumn(a).getCodewords())if(v!=null)return(u?v.getEndX():v.getStartX())+d*m*(v.getEndX()-v.getStartX());m++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,a,l,u,d,f,m,v){d=st.adjustCodewordStartColumn(s,a,l,u,d,f);let E=st.getModuleBitCount(s,a,l,u,d,f);if(E==null)return null;let T,F=nt.sum(E);if(u)T=d+F;else{for(let ee=0;ee<E.length/2;ee++){let te=E[ee];E[ee]=E[E.length-1-ee],E[E.length-1-ee]=te}T=d,d=T-F}if(!st.checkCodewordSkew(F,m,v))return null;let j=vr.getDecodedValue(E),Q=Ze.getCodeword(j);return Q===-1?null:new nl(d,T,st.getCodewordBucketNumber(j),Q)}static getModuleBitCount(s,a,l,u,d,f){let m=d,v=new Int32Array(8),E=0,T=u?1:-1,F=u;for(;(u?m<l:m>=a)&&E<v.length;)s.get(m,f)===F?(v[E]++,m+=T):(E++,F=!F);return E===v.length||m===(u?l:a)&&E===v.length-1?v:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,a,l,u,d,f){let m=d,v=u?-1:1;for(let E=0;E<2;E++){for(;(u?m>=a:m<l)&&u===s.get(m,f);){if(Math.abs(d-m)>st.CODEWORD_SKEW_SIZE)return d;m+=v}v=-v,u=!u}return m}static checkCodewordSkew(s,a,l){return a-st.CODEWORD_SKEW_SIZE<=s&&s<=l+st.CODEWORD_SKEW_SIZE}static decodeCodewords(s,a,l){if(s.length===0)throw S.getFormatInstance();let u=1<<a+1,d=st.correctErrors(s,l,u);st.verifyCodewordCount(s,u);let f=oe.decode(s,""+a);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(s,a,l){if(a!=null&&a.length>l/2+st.MAX_ERRORS||l<0||l>st.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return st.errorCorrection.decode(s,l,a)}static verifyCodewordCount(s,a){if(s.length<4)throw S.getFormatInstance();let l=s[0];if(l>s.length)throw S.getFormatInstance();if(l===0)if(a<s.length)s[0]=s.length-a;else throw S.getFormatInstance()}static getBitCountForCodeword(s){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((s&1)!==l&&(l=s&1,u--,u<0));)a[u]++,s>>=1;return a}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return st.getCodewordBucketNumber(st.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let a=new us;for(let l=0;l<s.length;l++){a.format("Row %2d: ",l);for(let u=0;u<s[l].length;u++){let d=s[l][u];d.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}a.format("%n")}return a.toString()}}st.CODEWORD_SKEW_SIZE=2,st.MAX_ERRORS=3,st.MAX_EC_CODEWORDS=512,st.errorCorrection=new Ja;class nr{decode(s,a=null){let l=nr.decode(s,a,!1);if(l==null||l.length===0||l[0]==null)throw Z.getNotFoundInstance();return l[0]}decodeMultiple(s,a=null){try{return nr.decode(s,a,!0)}catch(l){throw l instanceof S||l instanceof A?Z.getNotFoundInstance():l}}static decode(s,a,l){const u=new Array,d=tt.detectMultiple(s,a,l);for(const f of d.getPoints()){const m=st.decode(d.getBits(),f[4],f[5],f[6],f[7],nr.getMinCodewordWidth(f),nr.getMaxCodewordWidth(f)),v=new ze(m.getText(),m.getRawBytes(),void 0,f,Ae.PDF_417);v.putMetadata(_t.ERROR_CORRECTION_LEVEL,m.getECLevel());const E=m.getOther();E!=null&&v.putMetadata(_t.PDF417_EXTRA_METADATA,E),u.push(v)}return u.map(f=>f)}static getMaxWidth(s,a){return s==null||a==null?0:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMinWidth(s,a){return s==null||a==null?R.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(nr.getMaxWidth(s[0],s[4]),nr.getMaxWidth(s[6],s[2])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN),Math.max(nr.getMaxWidth(s[1],s[5]),nr.getMaxWidth(s[7],s[3])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(nr.getMinWidth(s[0],s[4]),nr.getMinWidth(s[6],s[2])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN),Math.min(nr.getMinWidth(s[1],s[5]),nr.getMinWidth(s[7],s[3])*Ze.MODULES_IN_CODEWORD/Ze.MODULES_IN_STOP_PATTERN)))}reset(){}}class sl extends g{}sl.kind="ReaderException";class Go{constructor(s,a){this.verbose=s===!0,a&&this.setHints(a)}decode(s,a){return a&&this.setHints(a),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const a=!r(s)&&s.get(X.TRY_HARDER)===!0,l=r(s)?null:s.get(X.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const d=l.some(f=>f===Ae.UPC_A||f===Ae.UPC_E||f===Ae.EAN_13||f===Ae.EAN_8||f===Ae.CODABAR||f===Ae.CODE_39||f===Ae.CODE_93||f===Ae.CODE_128||f===Ae.ITF||f===Ae.RSS_14||f===Ae.RSS_EXPANDED);d&&!a&&u.push(new Ns(s,this.verbose)),l.includes(Ae.QR_CODE)&&u.push(new ks),l.includes(Ae.DATA_MATRIX)&&u.push(new cs),l.includes(Ae.AZTEC)&&u.push(new zi),l.includes(Ae.PDF_417)&&u.push(new nr),d&&a&&u.push(new Ns(s,this.verbose))}u.length===0&&(a||u.push(new Ns(s,this.verbose)),u.push(new ks),u.push(new cs),u.push(new zi),u.push(new nr),a&&u.push(new Ns(s,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new sl("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(s,this.hints)}catch(l){if(l instanceof sl)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class Kf extends Qe{constructor(s=null,a=500){const l=new Go;l.setHints(s),super(l,a)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class Xf extends Qe{constructor(s=500){super(new nr,s)}}class _d extends Qe{constructor(s=500){super(new ks,s)}}var ol;(function(L){L[L.ERROR_CORRECTION=0]="ERROR_CORRECTION",L[L.CHARACTER_SET=1]="CHARACTER_SET",L[L.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",L[L.MIN_SIZE=3]="MIN_SIZE",L[L.MAX_SIZE=4]="MAX_SIZE",L[L.MARGIN=5]="MARGIN",L[L.PDF417_COMPACT=6]="PDF417_COMPACT",L[L.PDF417_COMPACTION=7]="PDF417_COMPACTION",L[L.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",L[L.AZTEC_LAYERS=9]="AZTEC_LAYERS",L[L.QR_VERSION=10]="QR_VERSION"})(ol||(ol={}));var Pn=ol;class qo{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Je(s,Int32Array.from([1])))}buildGenerator(s){const a=this.cachedGenerators;if(s>=a.length){let l=a[a.length-1];const u=this.field;for(let d=a.length;d<=s;d++){const f=l.multiply(new Je(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));a.push(f),l=f}}return a[s]}encode(s,a){if(a===0)throw new w("No error correction bytes");const l=s.length-a;if(l<=0)throw new w("No data bytes provided");const u=this.buildGenerator(a),d=new Int32Array(l);O.arraycopy(s,0,d,0,l);let f=new Je(this.field,d);f=f.multiplyByMonomial(a,1);const v=f.divide(u)[1].getCoefficients(),E=a-v.length;for(let T=0;T<E;T++)s[l+T]=0;O.arraycopy(v,0,s,l+E,v.length)}}class fn{constructor(){}static applyMaskPenaltyRule1(s){return fn.applyMaskPenaltyRule1Internal(s,!0)+fn.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let a=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let f=0;f<d-1;f++){const m=l[f];for(let v=0;v<u-1;v++){const E=m[v];E===m[v+1]&&E===l[f+1][v]&&E===l[f+1][v+1]&&a++}}return fn.N2*a}static applyMaskPenaltyRule3(s){let a=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let f=0;f<d;f++)for(let m=0;m<u;m++){const v=l[f];m+6<u&&v[m]===1&&v[m+1]===0&&v[m+2]===1&&v[m+3]===1&&v[m+4]===1&&v[m+5]===0&&v[m+6]===1&&(fn.isWhiteHorizontal(v,m-4,m)||fn.isWhiteHorizontal(v,m+7,m+11))&&a++,f+6<d&&l[f][m]===1&&l[f+1][m]===0&&l[f+2][m]===1&&l[f+3][m]===1&&l[f+4][m]===1&&l[f+5][m]===0&&l[f+6][m]===1&&(fn.isWhiteVertical(l,m,f-4,f)||fn.isWhiteVertical(l,m,f+7,f+11))&&a++}return a*fn.N3}static isWhiteHorizontal(s,a,l){a=Math.max(a,0),l=Math.min(l,s.length);for(let u=a;u<l;u++)if(s[u]===1)return!1;return!0}static isWhiteVertical(s,a,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let d=l;d<u;d++)if(s[d][a]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let a=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let v=0;v<d;v++){const E=l[v];for(let T=0;T<u;T++)E[T]===1&&a++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(a*2-f)*10/f)*fn.N4}static getDataMaskBit(s,a,l){let u,d;switch(s){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:d=l*a,u=(d&1)+d%3;break;case 6:d=l*a,u=(d&1)+d%3&1;break;case 7:d=l*a,u=d%3+(l+a&1)&1;break;default:throw new w("Invalid mask pattern: "+s)}return u===0}static applyMaskPenaltyRule1Internal(s,a){let l=0;const u=a?s.getHeight():s.getWidth(),d=a?s.getWidth():s.getHeight(),f=s.getArray();for(let m=0;m<u;m++){let v=0,E=-1;for(let T=0;T<d;T++){const F=a?f[m][T]:f[T][m];F===E?v++:(v>=5&&(l+=fn.N1+(v-5)),v=1,E=F)}v>=5&&(l+=fn.N1+(v-5))}return l}}fn.N1=3,fn.N2=3,fn.N3=40,fn.N4=10;class al{constructor(s,a){this.width=s,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,a){return this.bytes[a][s]}getArray(){return this.bytes}setNumber(s,a,l){this.bytes[a][s]=l}setBoolean(s,a,l){this.bytes[a][s]=l?1:0}clear(s){for(const a of this.bytes)I.fill(a,s)}equals(s){if(!(s instanceof al))return!1;const a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=a.bytes[l];for(let m=0,v=this.width;m<v;++m)if(d[m]!==f[m])return!1}return!0}toString(){const s=new z;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Wr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new z;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Wr.NUM_MASK_PATTERNS}}Wr.NUM_MASK_PATTERNS=8;class Ht extends g{}Ht.kind="WriterException";class Ge{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,a,l,u,d){Ge.clearMatrix(d),Ge.embedBasicPatterns(l,d),Ge.embedTypeInfo(a,u,d),Ge.maybeEmbedVersionInfo(l,d),Ge.embedDataBits(s,u,d)}static embedBasicPatterns(s,a){Ge.embedPositionDetectionPatternsAndSeparators(a),Ge.embedDarkDotAtLeftBottomCorner(a),Ge.maybeEmbedPositionAdjustmentPatterns(s,a),Ge.embedTimingPatterns(a)}static embedTypeInfo(s,a,l){const u=new V;Ge.makeTypeInfoBits(s,a,u);for(let d=0,f=u.getSize();d<f;++d){const m=u.get(u.getSize()-1-d),v=Ge.TYPE_INFO_COORDINATES[d],E=v[0],T=v[1];if(l.setBoolean(E,T,m),d<8){const F=l.getWidth()-d-1;l.setBoolean(F,8,m)}else{const j=l.getHeight()-7+(d-8);l.setBoolean(8,j,m)}}}static maybeEmbedVersionInfo(s,a){if(s.getVersionNumber()<7)return;const l=new V;Ge.makeVersionInfoBits(s,l);let u=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const m=l.get(u);u--,a.setBoolean(d,a.getHeight()-11+f,m),a.setBoolean(a.getHeight()-11+f,d,m)}}static embedDataBits(s,a,l){let u=0,d=-1,f=l.getWidth()-1,m=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);m>=0&&m<l.getHeight();){for(let v=0;v<2;++v){const E=f-v;if(!Ge.isEmpty(l.get(E,m)))continue;let T;u<s.getSize()?(T=s.get(u),++u):T=!1,a!==255&&fn.getDataMaskBit(a,E,m)&&(T=!T),l.setBoolean(E,m,T)}m+=d}d=-d,m+=d,f-=2}if(u!==s.getSize())throw new Ht("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-R.numberOfLeadingZeros(s)}static calculateBCHCode(s,a){if(a===0)throw new w("0 polynomial");const l=Ge.findMSBSet(a);for(s<<=l-1;Ge.findMSBSet(s)>=l;)s^=a<<Ge.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,a,l){if(!Wr.isValidMaskPattern(a))throw new Ht("Invalid mask pattern");const u=s.getBits()<<3|a;l.appendBits(u,5);const d=Ge.calculateBCHCode(u,Ge.TYPE_INFO_POLY);l.appendBits(d,10);const f=new V;if(f.appendBits(Ge.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new Ht("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,a){a.appendBits(s.getVersionNumber(),6);const l=Ge.calculateBCHCode(s.getVersionNumber(),Ge.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new Ht("should not happen but we got: "+a.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let a=8;a<s.getWidth()-8;++a){const l=(a+1)%2;Ge.isEmpty(s.get(a,6))&&s.setNumber(a,6,l),Ge.isEmpty(s.get(6,a))&&s.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Ht;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,a,l){for(let u=0;u<8;++u){if(!Ge.isEmpty(l.get(s+u,a)))throw new Ht;l.setNumber(s+u,a,0)}}static embedVerticalSeparationPattern(s,a,l){for(let u=0;u<7;++u){if(!Ge.isEmpty(l.get(s,a+u)))throw new Ht;l.setNumber(s,a+u,0)}}static embedPositionAdjustmentPattern(s,a,l){for(let u=0;u<5;++u){const d=Ge.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(s+f,a+u,d[f])}}static embedPositionDetectionPattern(s,a,l){for(let u=0;u<7;++u){const d=Ge.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(s+f,a+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(s){const a=Ge.POSITION_DETECTION_PATTERN[0].length;Ge.embedPositionDetectionPattern(0,0,s),Ge.embedPositionDetectionPattern(s.getWidth()-a,0,s),Ge.embedPositionDetectionPattern(0,s.getWidth()-a,s);const l=8;Ge.embedHorizontalSeparationPattern(0,l-1,s),Ge.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),Ge.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const u=7;Ge.embedVerticalSeparationPattern(u,0,s),Ge.embedVerticalSeparationPattern(s.getHeight()-u-1,0,s),Ge.embedVerticalSeparationPattern(u,s.getHeight()-u,s)}static maybeEmbedPositionAdjustmentPatterns(s,a){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,u=Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const m=u[d];if(m>=0)for(let v=0;v!==f;v++){const E=u[v];E>=0&&Ge.isEmpty(a.get(E,m))&&Ge.embedPositionAdjustmentPattern(E-2,m-2,a)}}}}Ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ge.VERSION_INFO_POLY=7973,Ge.TYPE_INFO_POLY=1335,Ge.TYPE_INFO_MASK_PATTERN=21522;class Yf{constructor(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class tn{constructor(){}static calculateMaskPenalty(s){return fn.applyMaskPenaltyRule1(s)+fn.applyMaskPenaltyRule2(s)+fn.applyMaskPenaltyRule3(s)+fn.applyMaskPenaltyRule4(s)}static encode(s,a,l=null){let u=tn.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(Pn.CHARACTER_SET)!==void 0;d&&(u=l.get(Pn.CHARACTER_SET).toString());const f=this.chooseMode(s,u),m=new V;if(f===We.BYTE&&(d||tn.DEFAULT_BYTE_MODE_ENCODING!==u)){const _e=N.getCharacterSetECIByName(u);_e!==void 0&&this.appendECI(_e,m)}this.appendModeInfo(f,m);const v=new V;this.appendBytes(s,f,v,u);let E;if(l!==null&&l.get(Pn.QR_VERSION)!==void 0){const _e=Number.parseInt(l.get(Pn.QR_VERSION).toString(),10);E=Re.getVersionForNumber(_e);const ye=this.calculateBitsNeeded(f,m,v,E);if(!this.willFit(ye,E,a))throw new Ht("Data too big for requested version")}else E=this.recommendVersion(a,f,m,v);const T=new V;T.appendBitArray(m);const F=f===We.BYTE?v.getSizeInBytes():s.length;this.appendLengthInfo(F,E,f,T),T.appendBitArray(v);const j=E.getECBlocksForLevel(a),Q=E.getTotalCodewords()-j.getTotalECCodewords();this.terminateBits(Q,T);const ee=this.interleaveWithECBytes(T,E.getTotalCodewords(),Q,j.getNumBlocks()),te=new Wr;te.setECLevel(a),te.setMode(f),te.setVersion(E);const se=E.getDimensionForVersion(),le=new al(se,se),Ee=this.chooseMaskPattern(ee,a,E,le);return te.setMaskPattern(Ee),Ge.buildMatrix(ee,a,E,Ee,le),te.setMatrix(le),te}static recommendVersion(s,a,l,u){const d=this.calculateBitsNeeded(a,l,u,Re.getVersionForNumber(1)),f=this.chooseVersion(d,s),m=this.calculateBitsNeeded(a,l,u,f);return this.chooseVersion(m,s)}static calculateBitsNeeded(s,a,l,u){return a.getSize()+s.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(s){return s<tn.ALPHANUMERIC_TABLE.length?tn.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,a=null){if(N.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return We.KANJI;let l=!1,u=!1;for(let d=0,f=s.length;d<f;++d){const m=s.charAt(d);if(tn.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return We.BYTE}return u?We.ALPHANUMERIC:l?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(s){let a;try{a=G.encode(s,N.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const d=a[u]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,a,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let m=0;m<Wr.NUM_MASK_PATTERNS;m++){Ge.buildMatrix(s,a,l,m,u);let v=this.calculateMaskPenalty(u);v<d&&(d=v,f=m)}return f}static chooseVersion(s,a){for(let l=1;l<=40;l++){const u=Re.getVersionForNumber(l);if(tn.willFit(s,u,a))return u}throw new Ht("Data too big")}static willFit(s,a,l){const u=a.getTotalCodewords(),f=a.getECBlocksForLevel(l).getTotalECCodewords(),m=u-f,v=(s+7)/8;return m>=v}static terminateBits(s,a){const l=s*8;if(a.getSize()>l)throw new Ht("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let f=0;f<4&&a.getSize()<l;++f)a.appendBit(!1);const u=a.getSize()&7;if(u>0)for(let f=u;f<8;f++)a.appendBit(!1);const d=s-a.getSizeInBytes();for(let f=0;f<d;++f)a.appendBits(f&1?17:236,8);if(a.getSize()!==l)throw new Ht("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,a,l,u,d,f){if(u>=l)throw new Ht("Block ID too large");const m=s%l,v=l-m,E=Math.floor(s/l),T=E+1,F=Math.floor(a/l),j=F+1,Q=E-F,ee=T-j;if(Q!==ee)throw new Ht("EC bytes mismatch");if(l!==v+m)throw new Ht("RS blocks mismatch");if(s!==(F+Q)*v+(j+ee)*m)throw new Ht("Total bytes mismatch");u<v?(d[0]=F,f[0]=Q):(d[0]=j,f[0]=ee)}static interleaveWithECBytes(s,a,l,u){if(s.getSizeInBytes()!==l)throw new Ht("Number of bits and data bytes does not match");let d=0,f=0,m=0;const v=new Array;for(let T=0;T<u;++T){const F=new Int32Array(1),j=new Int32Array(1);tn.getNumDataBytesAndNumECBytesForBlockID(a,l,u,T,F,j);const Q=F[0],ee=new Uint8Array(Q);s.toBytes(8*d,ee,0,Q);const te=tn.generateECBytes(ee,j[0]);v.push(new Yf(ee,te)),f=Math.max(f,Q),m=Math.max(m,te.length),d+=F[0]}if(l!==d)throw new Ht("Data bytes does not match offset");const E=new V;for(let T=0;T<f;++T)for(const F of v){const j=F.getDataBytes();T<j.length&&E.appendBits(j[T],8)}for(let T=0;T<m;++T)for(const F of v){const j=F.getErrorCorrectionBytes();T<j.length&&E.appendBits(j[T],8)}if(a!==E.getSizeInBytes())throw new Ht("Interleaving error: "+a+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(s,a){const l=s.length,u=new Int32Array(l+a);for(let f=0;f<l;f++)u[f]=s[f]&255;new qo(De.QR_CODE_FIELD_256).encode(u,a);const d=new Uint8Array(a);for(let f=0;f<a;f++)d[f]=u[l+f];return d}static appendModeInfo(s,a){a.appendBits(s.getBits(),4)}static appendLengthInfo(s,a,l,u){const d=l.getCharacterCountBits(a);if(s>=1<<d)throw new Ht(s+" is bigger than "+((1<<d)-1));u.appendBits(s,d)}static appendBytes(s,a,l,u){switch(a){case We.NUMERIC:tn.appendNumericBytes(s,l);break;case We.ALPHANUMERIC:tn.appendAlphanumericBytes(s,l);break;case We.BYTE:tn.append8BitBytes(s,l,u);break;case We.KANJI:tn.appendKanjiBytes(s,l);break;default:throw new Ht("Invalid mode: "+a)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const a=tn.getDigit(s);return a>=0&&a<=9}static appendNumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const d=tn.getDigit(s.charAt(u));if(u+2<l){const f=tn.getDigit(s.charAt(u+1)),m=tn.getDigit(s.charAt(u+2));a.appendBits(d*100+f*10+m,10),u+=3}else if(u+1<l){const f=tn.getDigit(s.charAt(u+1));a.appendBits(d*10+f,7),u+=2}else a.appendBits(d,4),u++}}static appendAlphanumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const d=tn.getAlphanumericCode(s.charCodeAt(u));if(d===-1)throw new Ht;if(u+1<l){const f=tn.getAlphanumericCode(s.charCodeAt(u+1));if(f===-1)throw new Ht;a.appendBits(d*45+f,11),u+=2}else a.appendBits(d,6),u++}}static append8BitBytes(s,a,l){let u;try{u=G.encode(s,l)}catch(d){throw new Ht(d)}for(let d=0,f=u.length;d!==f;d++){const m=u[d];a.appendBits(m,8)}}static appendKanjiBytes(s,a){let l;try{l=G.encode(s,N.SJIS)}catch(d){throw new Ht(d)}const u=l.length;for(let d=0;d<u;d+=2){const f=l[d]&255,m=l[d+1]&255,v=f<<8&4294967295|m;let E=-1;if(v>=33088&&v<=40956?E=v-33088:v>=57408&&v<=60351&&(E=v-49472),E===-1)throw new Ht("Invalid byte sequence");const T=(E>>8)*192+(E&255);a.appendBits(T,13)}}static appendECI(s,a){a.appendBits(We.ECI.getBits(),4),a.appendBits(s.getValue(),8)}}tn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),tn.DEFAULT_BYTE_MODE_ENCODING=N.UTF8.getName();class Gi{write(s,a,l,u=null){if(s.length===0)throw new w("Found empty contents");if(a<0||l<0)throw new w("Requested dimensions are too small: "+a+"x"+l);let d=bt.L,f=Gi.QUIET_ZONE_SIZE;u!==null&&(u.get(Pn.ERROR_CORRECTION)!==void 0&&(d=bt.fromString(u.get(Pn.ERROR_CORRECTION).toString())),u.get(Pn.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Pn.MARGIN).toString(),10)));const m=tn.encode(s,d,u);return this.renderResult(m,a,l,f)}writeToDom(s,a,l,u,d=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(a,l,u,d);s&&s.appendChild(f)}renderResult(s,a,l,u){const d=s.getMatrix();if(d===null)throw new pt;const f=d.getWidth(),m=d.getHeight(),v=f+u*2,E=m+u*2,T=Math.max(a,v),F=Math.max(l,E),j=Math.min(Math.floor(T/v),Math.floor(F/E)),Q=Math.floor((T-f*j)/2),ee=Math.floor((F-m*j)/2),te=this.createSVGElement(T,F);for(let se=0,le=ee;se<m;se++,le+=j)for(let Ee=0,_e=Q;Ee<f;Ee++,_e+=j)if(d.get(Ee,se)===1){const ye=this.createSvgRectElement(_e,le,j,j);te.appendChild(ye)}return te}createSVGElement(s,a){const l=document.createElementNS(Gi.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(s,a,l,u){const d=document.createElementNS(Gi.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",a.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Gi.QUIET_ZONE_SIZE=4,Gi.SVG_NS="http://www.w3.org/2000/svg";class Gn{encode(s,a,l,u,d){if(s.length===0)throw new w("Found empty contents");if(a!==Ae.QR_CODE)throw new w("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new w(`Requested dimensions are too small: ${l}x${u}`);let f=bt.L,m=Gn.QUIET_ZONE_SIZE;d!==null&&(d.get(Pn.ERROR_CORRECTION)!==void 0&&(f=bt.fromString(d.get(Pn.ERROR_CORRECTION).toString())),d.get(Pn.MARGIN)!==void 0&&(m=Number.parseInt(d.get(Pn.MARGIN).toString(),10)));const v=tn.encode(s,f,d);return Gn.renderResult(v,l,u,m)}static renderResult(s,a,l,u){const d=s.getMatrix();if(d===null)throw new pt;const f=d.getWidth(),m=d.getHeight(),v=f+u*2,E=m+u*2,T=Math.max(a,v),F=Math.max(l,E),j=Math.min(Math.floor(T/v),Math.floor(F/E)),Q=Math.floor((T-f*j)/2),ee=Math.floor((F-m*j)/2),te=new ue(T,F);for(let se=0,le=ee;se<m;se++,le+=j)for(let Ee=0,_e=Q;Ee<f;Ee++,_e+=j)d.get(Ee,se)===1&&te.setRegion(_e,le,j,j);return te}}Gn.QUIET_ZONE_SIZE=4;class Qf{encode(s,a,l,u,d){let f;switch(a){case Ae.QR_CODE:f=new Gn;break;default:throw new w("No encoder available for format "+a)}return f.encode(s,a,l,u,d)}}class Si extends ne{constructor(s,a,l,u,d,f,m,v){if(super(f,m),this.yuvData=s,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=d,u+f>a||d+m>l)throw new w("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(f,m)}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=s*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return O.arraycopy(this.yuvData,d,u,0,l),u;for(let f=0;f<a;f++){const m=f*s;O.arraycopy(this.yuvData,d,u,m,s),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new Si(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+a,l,u,!1)}renderThumbnail(){const s=this.getWidth()/Si.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Si.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*a),u=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<a;f++){const m=f*s;for(let v=0;v<s;v++){const E=u[d+v*Si.THUMBNAIL_SCALE_FACTOR]&255;l[m+v]=4278190080|E*65793}d+=this.dataWidth*Si.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Si.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Si.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,a){const l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<a;u++,d+=this.dataWidth){const f=d+s/2;for(let m=d,v=d+s-1;m<f;m++,v--){const E=l[m];l[m]=l[v],l[v]=E}}}invert(){return new ce(this)}}Si.THUMBNAIL_SCALE_FACTOR=2;class Ms extends ne{constructor(s,a,l,u,d,f,m){if(super(a,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=m,s.BYTES_PER_ELEMENT===4){const v=a*l,E=new Uint8ClampedArray(v);for(let T=0;T<v;T++){const F=s[T],j=F>>16&255,Q=F>>7&510,ee=F&255;E[T]=(j+Q+ee)/4&255}this.luminances=E}else this.luminances=s;if(u===void 0&&(this.dataWidth=a),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,u,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=s*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return O.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<a;f++){const m=f*s;O.arraycopy(this.luminances,d,u,m,s),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new Ms(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+s,this.top+a)}invert(){return new ce(this)}}class y extends N{static forName(s){return this.getCharacterSetECIByName(s)}}class b{}b.ISO_8859_1=N.ISO8859_1;class P{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class K{static singletonList(s){return[s]}static min(s,a){return s.sort(a)[0]}}class re{constructor(s){this.previous=s}getPrevious(){return this.previous}}class ae extends re{constructor(s,a,l){super(s),this.value=a,this.bitCount=l}appendTo(s,a){s.appendBits(this.value,this.bitCount)}add(s,a){return new ae(this,s,a)}addBinaryShift(s,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ae(this,s,a)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+R.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Te extends ae{constructor(s,a,l){super(s,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(s,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(s,a){return new Te(this,s,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Kt(L,s,a){return new Te(L,s,a)}function bn(L,s,a){return new ae(L,s,a)}const Nt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],pn=0,jn=1,rr=2,ai=3,Hr=4,Cd=new ae(null,0,0),Yg=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function nP(L){for(let s of L)I.fill(s,-1);return L[pn][Hr]=0,L[jn][Hr]=0,L[jn][pn]=28,L[ai][Hr]=0,L[rr][Hr]=0,L[rr][pn]=15,L}const Rw=nP(I.createInt32Array(6,6));class Ls{constructor(s,a,l,u){this.token=s,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,a){let l=this.bitCount,u=this.token;if(s!==this.mode){let f=Yg[this.mode][s];u=bn(u,f&65535,f>>16),l+=f>>16}let d=s===rr?4:5;return u=bn(u,a,d),new Ls(u,s,0,l+d)}shiftAndAppend(s,a){let l=this.token,u=this.mode===rr?4:5;return l=bn(l,Rw[this.mode][s],u),l=bn(l,a,5),new Ls(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let a=this.token,l=this.mode,u=this.bitCount;if(this.mode===Hr||this.mode===rr){let m=Yg[l][pn];a=bn(a,m&65535,m>>16),u+=m>>16,l=pn}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Ls(a,l,this.binaryShiftByteCount+1,u+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Kt(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ls(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let a=this.bitCount+(Yg[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=Ls.calculateBinaryShiftCost(s)-Ls.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount}toBitArray(s){let a=[];for(let u=this.endBinaryShift(s.length).token;u!==null;u=u.getPrevious())a.unshift(u);let l=new V;for(const u of a)u.appendTo(l,s);return l}toString(){return q.format("%s bits=%d bytes=%d",Nt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Ls.INITIAL_STATE=new Ls(Cd,pn,0,0);function rP(L){const s=q.getCharCode(" "),a=q.getCharCode("."),l=q.getCharCode(",");L[pn][s]=1;const u=q.getCharCode("Z"),d=q.getCharCode("A");for(let j=d;j<=u;j++)L[pn][j]=j-d+2;L[jn][s]=1;const f=q.getCharCode("z"),m=q.getCharCode("a");for(let j=m;j<=f;j++)L[jn][j]=j-m+2;L[rr][s]=1;const v=q.getCharCode("9"),E=q.getCharCode("0");for(let j=E;j<=v;j++)L[rr][j]=j-E+2;L[rr][l]=12,L[rr][a]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let j=0;j<T.length;j++)L[ai][q.getCharCode(T[j])]=j;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let j=0;j<F.length;j++)q.getCharCode(F[j])>0&&(L[Hr][q.getCharCode(F[j])]=j);return L}const Qg=rP(I.createInt32Array(5,256));class bd{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),a=q.getCharCode(`
`);let l=K.singletonList(Ls.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,m=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case q.getCharCode("\r"):f=m===a?2:0;break;case q.getCharCode("."):f=m===s?3:0;break;case q.getCharCode(","):f=m===s?4:0;break;case q.getCharCode(":"):f=m===s?5:0;break;default:f=0}f>0?(l=bd.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return K.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,a){const l=[];for(let u of s)this.updateStateForChar(u,a,l);return bd.simplifyStates(l)}updateStateForChar(s,a,l){let u=this.text[a]&255,d=Qg[s.getMode()][u]>0,f=null;for(let m=0;m<=Hr;m++){let v=Qg[m][u];if(v>0){if(f==null&&(f=s.endBinaryShift(a)),!d||m===s.getMode()||m===rr){const E=f.latchAndAppend(m,v);l.push(E)}if(!d&&Rw[s.getMode()][m]>=0){const E=f.shiftAndAppend(m,v);l.push(E)}}}if(s.getBinaryShiftByteCount()>0||Qg[s.getMode()][u]===0){let m=s.addBinaryShiftChar(a);l.push(m)}}static updateStateListForPair(s,a,l){const u=[];for(let d of s)this.updateStateForPair(d,a,l,u);return this.simplifyStates(u)}static updateStateForPair(s,a,l,u){let d=s.endBinaryShift(a);if(u.push(d.latchAndAppend(Hr,l)),s.getMode()!==Hr&&u.push(d.shiftAndAppend(Hr,l)),l===3||l===4){let f=d.latchAndAppend(rr,16-l).latchAndAppend(rr,1);u.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(f)}}static simplifyStates(s){let a=[];for(const l of s){let u=!0;for(const d of a){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(a=a.filter(f=>f!==d))}u&&a.push(l)}return a}}class Dt{constructor(){}static encodeBytes(s){return Dt.encode(s,Dt.DEFAULT_EC_PERCENT,Dt.DEFAULT_AZTEC_LAYERS)}static encode(s,a,l){let u=new bd(s).encode(),d=R.truncDivision(u.getSize()*a,100)+11,f=u.getSize()+d,m,v,E,T,F;if(l!==Dt.DEFAULT_AZTEC_LAYERS){if(m=l<0,v=Math.abs(l),v>(m?Dt.MAX_NB_BITS_COMPACT:Dt.MAX_NB_BITS))throw new w(q.format("Illegal value %s for layers",l));E=Dt.totalBitsInLayer(v,m),T=Dt.WORD_SIZE[v];let ye=E-E%T;if(F=Dt.stuffBits(u,T),F.getSize()+d>ye)throw new w("Data to large for user specified layer");if(m&&F.getSize()>T*64)throw new w("Data to large for user specified layer")}else{T=0,F=null;for(let ye=0;;ye++){if(ye>Dt.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(m=ye<=3,v=m?ye+1:ye,E=Dt.totalBitsInLayer(v,m),f>E)continue;(F==null||T!==Dt.WORD_SIZE[v])&&(T=Dt.WORD_SIZE[v],F=Dt.stuffBits(u,T));let It=E-E%T;if(!(m&&F.getSize()>T*64)&&F.getSize()+d<=It)break}}let j=Dt.generateCheckWords(F,E,T),Q=F.getSize()/T,ee=Dt.generateModeMessage(m,v,Q),te=(m?11:14)+v*4,se=new Int32Array(te),le;if(m){le=te;for(let ye=0;ye<se.length;ye++)se[ye]=ye}else{le=te+1+2*R.truncDivision(R.truncDivision(te,2)-1,15);let ye=R.truncDivision(te,2),It=R.truncDivision(le,2);for(let lt=0;lt<ye;lt++){let li=lt+R.truncDivision(lt,15);se[ye-lt-1]=It-li-1,se[ye+lt]=It+li+1}}let Ee=new ue(le);for(let ye=0,It=0;ye<v;ye++){let lt=(v-ye)*4+(m?9:12);for(let li=0;li<lt;li++){let hs=li*2;for(let ci=0;ci<2;ci++)j.get(It+hs+ci)&&Ee.set(se[ye*2+ci],se[ye*2+li]),j.get(It+lt*2+hs+ci)&&Ee.set(se[ye*2+li],se[te-1-ye*2-ci]),j.get(It+lt*4+hs+ci)&&Ee.set(se[te-1-ye*2-ci],se[te-1-ye*2-li]),j.get(It+lt*6+hs+ci)&&Ee.set(se[te-1-ye*2-li],se[ye*2+ci])}It+=lt*8}if(Dt.drawModeMessage(Ee,m,le,ee),m)Dt.drawBullsEye(Ee,R.truncDivision(le,2),5);else{Dt.drawBullsEye(Ee,R.truncDivision(le,2),7);for(let ye=0,It=0;ye<R.truncDivision(te,2)-1;ye+=15,It+=16)for(let lt=R.truncDivision(le,2)&1;lt<le;lt+=2)Ee.set(R.truncDivision(le,2)-It,lt),Ee.set(R.truncDivision(le,2)+It,lt),Ee.set(lt,R.truncDivision(le,2)-It),Ee.set(lt,R.truncDivision(le,2)+It)}let _e=new P;return _e.setCompact(m),_e.setSize(le),_e.setLayers(v),_e.setCodeWords(Q),_e.setMatrix(Ee),_e}static drawBullsEye(s,a,l){for(let u=0;u<l;u+=2)for(let d=a-u;d<=a+u;d++)s.set(d,a-u),s.set(d,a+u),s.set(a-u,d),s.set(a+u,d);s.set(a-l,a-l),s.set(a-l+1,a-l),s.set(a-l,a-l+1),s.set(a+l,a-l),s.set(a+l,a-l+1),s.set(a+l,a+l-1)}static generateModeMessage(s,a,l){let u=new V;return s?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=Dt.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=Dt.generateCheckWords(u,40,4)),u}static drawModeMessage(s,a,l,u){let d=R.truncDivision(l,2);if(a)for(let f=0;f<7;f++){let m=d-3+f;u.get(f)&&s.set(m,d-5),u.get(f+7)&&s.set(d+5,m),u.get(20-f)&&s.set(m,d+5),u.get(27-f)&&s.set(d-5,m)}else for(let f=0;f<10;f++){let m=d-5+f+R.truncDivision(f,5);u.get(f)&&s.set(m,d-7),u.get(f+10)&&s.set(d+7,m),u.get(29-f)&&s.set(m,d+7),u.get(39-f)&&s.set(d-7,m)}}static generateCheckWords(s,a,l){let u=s.getSize()/l,d=new qo(Dt.getGF(l)),f=R.truncDivision(a,l),m=Dt.bitsToWords(s,l,f);d.encode(m,f-u);let v=a%l,E=new V;E.appendBits(0,v);for(const T of Array.from(m))E.appendBits(T,l);return E}static bitsToWords(s,a,l){let u=new Int32Array(l),d,f;for(d=0,f=s.getSize()/a;d<f;d++){let m=0;for(let v=0;v<a;v++)m|=s.get(d*a+v)?1<<a-v-1:0;u[d]=m}return u}static getGF(s){switch(s){case 4:return De.AZTEC_PARAM;case 6:return De.AZTEC_DATA_6;case 8:return De.AZTEC_DATA_8;case 10:return De.AZTEC_DATA_10;case 12:return De.AZTEC_DATA_12;default:throw new w("Unsupported word size "+s)}}static stuffBits(s,a){let l=new V,u=s.getSize(),d=(1<<a)-2;for(let f=0;f<u;f+=a){let m=0;for(let v=0;v<a;v++)(f+v>=u||s.get(f+v))&&(m|=1<<a-1-v);(m&d)===d?(l.appendBits(m&d,a),f--):m&d?l.appendBits(m,a):(l.appendBits(m|1,a),f--)}return l}static totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}Dt.DEFAULT_EC_PERCENT=33,Dt.DEFAULT_AZTEC_LAYERS=0,Dt.MAX_NB_BITS=32,Dt.MAX_NB_BITS_COMPACT=4,Dt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Zf{encode(s,a,l,u){return this.encodeWithHints(s,a,l,u,null)}encodeWithHints(s,a,l,u,d){let f=b.ISO_8859_1,m=Dt.DEFAULT_EC_PERCENT,v=Dt.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Pn.CHARACTER_SET)&&(f=y.forName(d.get(Pn.CHARACTER_SET).toString())),d.has(Pn.ERROR_CORRECTION)&&(m=R.parseInt(d.get(Pn.ERROR_CORRECTION).toString())),d.has(Pn.AZTEC_LAYERS)&&(v=R.parseInt(d.get(Pn.AZTEC_LAYERS).toString()))),Zf.encodeLayers(s,a,l,u,f,m,v)}static encodeLayers(s,a,l,u,d,f,m){if(a!==Ae.AZTEC)throw new w("Can only encode AZTEC, but got "+a);let v=Dt.encode(q.getBytes(s,d),f,m);return Zf.renderResult(v,l,u)}static renderResult(s,a,l){let u=s.getMatrix();if(u==null)throw new pt;let d=u.getWidth(),f=u.getHeight(),m=Math.max(a,d),v=Math.max(l,f),E=Math.min(m/d,v/f),T=(m-d*E)/2,F=(v-f*E)/2,j=new ue(m,v);for(let Q=0,ee=F;Q<f;Q++,ee+=E)for(let te=0,se=T;te<d;te++,se+=E)u.get(te,Q)&&j.setRegion(se,ee,E,E);return j}}n.AbstractExpandedDecoder=zo,n.ArgumentException=x,n.ArithmeticException=Ft,n.AztecCode=P,n.AztecCodeReader=zi,n.AztecCodeWriter=Zf,n.AztecDecoder=ct,n.AztecDetector=zr,n.AztecDetectorResult=Bn,n.AztecEncoder=Dt,n.AztecHighLevelEncoder=bd,n.AztecPoint=Le,n.BarcodeFormat=Ae,n.Binarizer=k,n.BinaryBitmap=C,n.BitArray=V,n.BitMatrix=ue,n.BitSource=pc,n.BrowserAztecCodeReader=_i,n.BrowserBarcodeReader=Wg,n.BrowserCodeReader=Qe,n.BrowserDatamatrixCodeReader=Gg,n.BrowserMultiFormatReader=Kf,n.BrowserPDF417Reader=Xf,n.BrowserQRCodeReader=_d,n.BrowserQRCodeSvgWriter=Gi,n.CharacterSetECI=N,n.ChecksumException=A,n.Code128Reader=pe,n.Code39Reader=ut,n.DataMatrixDecodedBitStreamParser=Os,n.DataMatrixReader=cs,n.DecodeHintType=X,n.DecoderResult=qt,n.DefaultGridSampler=en,n.DetectorResult=Sr,n.EAN13Reader=ls,n.EncodeHintType=Pn,n.Exception=g,n.FormatException=S,n.GenericGF=De,n.GenericGFPoly=Je,n.GlobalHistogramBinarizer=me,n.GridSampler=mr,n.GridSamplerInstance=dt,n.HTMLCanvasElementLuminanceSource=Ce,n.HybridBinarizer=de,n.ITFReader=Ct,n.IllegalArgumentException=w,n.IllegalStateException=pt,n.InvertedLuminanceSource=ce,n.LuminanceSource=ne,n.MathUtils=nt,n.MultiFormatOneDReader=Ns,n.MultiFormatReader=Go,n.MultiFormatWriter=Qf,n.NotFoundException=Z,n.OneDReader=Ne,n.PDF417DecodedBitStreamParser=oe,n.PDF417DecoderErrorCorrection=Ja,n.PDF417Reader=nr,n.PDF417ResultMetadata=wd,n.PerspectiveTransform=vt,n.PlanarYUVLuminanceSource=Si,n.QRCodeByteMatrix=al,n.QRCodeDataMask=lr,n.QRCodeDecodedBitStreamParser=dn,n.QRCodeDecoderErrorCorrectionLevel=bt,n.QRCodeDecoderFormatInformation=Vn,n.QRCodeEncoder=tn,n.QRCodeEncoderQRCode=Wr,n.QRCodeMaskUtil=fn,n.QRCodeMatrixUtil=Ge,n.QRCodeMode=We,n.QRCodeReader=ks,n.QRCodeVersion=Re,n.QRCodeWriter=Gn,n.RGBLuminanceSource=Ms,n.RSS14Reader=$t,n.RSSExpandedReader=he,n.ReaderException=sl,n.ReedSolomonDecoder=gr,n.ReedSolomonEncoder=qo,n.ReedSolomonException=ft,n.Result=ze,n.ResultMetadataType=_t,n.ResultPoint=be,n.StringUtils=q,n.UnsupportedOperationException=W,n.VideoInputDevice=et,n.WhiteRectangleDetector=mt,n.WriterException=Ht,n.ZXingArrays=I,n.ZXingCharset=y,n.ZXingInteger=R,n.ZXingStandardCharsets=b,n.ZXingStringBuilder=z,n.ZXingStringEncoding=G,n.ZXingSystem=O,n.createAbstractExpandedDecoder=$f,Object.defineProperty(n,"__esModule",{value:!0})})})(Yv,Yv.exports);var mn=Yv.exports;const QK=Zv(mn),ZK=vI({__proto__:null,default:QK},[mn]);var eI=function(){function t(e,n,r){if(this.formatMap=new Map([[Fe.QR_CODE,mn.BarcodeFormat.QR_CODE],[Fe.AZTEC,mn.BarcodeFormat.AZTEC],[Fe.CODABAR,mn.BarcodeFormat.CODABAR],[Fe.CODE_39,mn.BarcodeFormat.CODE_39],[Fe.CODE_93,mn.BarcodeFormat.CODE_93],[Fe.CODE_128,mn.BarcodeFormat.CODE_128],[Fe.DATA_MATRIX,mn.BarcodeFormat.DATA_MATRIX],[Fe.MAXICODE,mn.BarcodeFormat.MAXICODE],[Fe.ITF,mn.BarcodeFormat.ITF],[Fe.EAN_13,mn.BarcodeFormat.EAN_13],[Fe.EAN_8,mn.BarcodeFormat.EAN_8],[Fe.PDF_417,mn.BarcodeFormat.PDF_417],[Fe.RSS_14,mn.BarcodeFormat.RSS_14],[Fe.RSS_EXPANDED,mn.BarcodeFormat.RSS_EXPANDED],[Fe.UPC_A,mn.BarcodeFormat.UPC_A],[Fe.UPC_E,mn.BarcodeFormat.UPC_E],[Fe.UPC_EAN_EXTENSION,mn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ZK)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),o=new Map;o.set(mn.DecodeHintType.POSSIBLE_FORMATS,i),o.set(mn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(o){i(o)}})},t.prototype.decode=function(e){var n=new mn.MultiFormatReader(this.verbose,this.hints),r=new mn.HTMLCanvasElementLuminanceSource(e),i=new mn.BinaryBitmap(new mn.HybridBinarizer(r)),o=n.decode(i);return{text:o.text,format:J4.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),JK=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?o(x.value):i(x.value).then(h,p)}g((r=r.apply(t,e||[])).next())})},eX=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(x){g=[6,x],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},tI=function(){function t(e,n,r){if(this.formatMap=new Map([[Fe.QR_CODE,"qr_code"],[Fe.AZTEC,"aztec"],[Fe.CODABAR,"codabar"],[Fe.CODE_39,"code_39"],[Fe.CODE_93,"code_93"],[Fe.CODE_128,"code_128"],[Fe.DATA_MATRIX,"data_matrix"],[Fe.ITF,"itf"],[Fe.EAN_13,"ean_13"],[Fe.EAN_8,"ean_8"],[Fe.PDF_417,"pdf417"],[Fe.UPC_A,"upc_a"],[Fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return JK(this,void 0,void 0,function(){var n,r;return eX(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:J4.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,o=e;i<o.length;i++){var c=o[i],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,n=c)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),nI=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?o(x.value):i(x.value).then(h,p)}g((r=r.apply(t,e||[])).next())})},rI=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(x){g=[6,x],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},tX=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&tI.isSupported()?(this.primaryDecoder=new tI(e,r,i),this.secondaryDecoder=new eI(e,r,i)):this.primaryDecoder=new eI(e,r,i)}return t.prototype.decodeAsync=function(e){return nI(this,void 0,void 0,function(){var n;return rI(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return nI(this,void 0,void 0,function(){var n,r;return rI(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Sw=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),h1=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?o(x.value):i(x.value).then(h,p)}g((r=r.apply(t,e||[])).next())})},f1=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(x){g=[6,x],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},tP=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),nX=function(t){Sw(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(tP),rX=function(t){Sw(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(nX),iX=function(t){Sw(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(tP),sX=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new rX(this.track)},t.prototype.torchFeature=function(){return new iX(this.track)},t}(),oX=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return h1(this,void 0,void 0,function(){var o,c;return f1(this,function(h){switch(h.label){case 0:return o=new t(e,n,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return h1(this,void 0,void 0,function(){return f1(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),o=i.length,c=0;e.mediaStream.getVideoTracks().forEach(function(h){e.mediaStream.removeTrack(h),h.stop(),++c,c>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new sX(this.getFirstTrackOrFail())},t}(),aX=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return h1(this,void 0,void 0,function(){return f1(this,function(i){return[2,oX.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return h1(this,void 0,void 0,function(){var n,r;return f1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),iI=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?o(x.value):i(x.value).then(h,p)}g((r=r.apply(t,e||[])).next())})},sI=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(x){g=[6,x],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},lX=function(){function t(){}return t.failIfNotSupported=function(){return iI(this,void 0,void 0,function(){return sI(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return iI(this,void 0,void 0,function(){return sI(this,function(n){return[2,aX.create(e)]})})},t}(),cX=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?o(x.value):i(x.value).then(h,p)}g((r=r.apply(t,e||[])).next())})},uX=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,i&&(o=g[0]&2?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,i=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){n.label=g[1];break}if(g[0]===6&&n.label<o[1]){n.label=o[1],o=g;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(g);break}o[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(x){g=[6,x],i=0}finally{r=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},dX=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=qc.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=qc.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return cX(this,void 0,void 0,function(){var e,n,r,i,o,c,h;return uX(this,function(p){switch(p.label){case 0:return e=function(g){for(var x=g.getVideoTracks(),w=0,C=x;w<C.length;w++){var A=C[w];A.enabled=!1,A.stop(),g.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),i=[],o=0,c=r;o<c.length;o++)h=c[o],h.kind==="videoinput"&&i.push({id:h.deviceId,label:h.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(o){for(var c=[],h=0,p=o;h<p.length;h++){var g=p[h];g.kind==="video"&&c.push({id:g.id,label:g.label})}e(c)},i=MediaStreamTrack;i.getSources(r)})},t}(),Dn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Dn||(Dn={}));var hX=function(){function t(){this.state=Dn.NOT_STARTED,this.onGoingTransactionNewState=Dn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Dn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Dn.UNKNOWN:throw"Transition from unknown is not allowed";case Dn.NOT_STARTED:this.failIfNewStateIs(e,[Dn.PAUSED]);break;case Dn.SCANNING:break;case Dn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),fX=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Dn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Dn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Dn.PAUSED},t}(),pX=function(){function t(){}return t.create=function(){return new fX(new hX)},t}(),gX=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pi=function(t){gX(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(KK),mX=function(){function t(e,n){this.logger=n,this.fps=Pi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Pi.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?eP.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!lo(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),yX=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new YK(this.verbose),this.qrcode=new tX(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=pX.create()}return t.prototype.start=function(e,n,r,i){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var h=mX.create(n,this.logger);this.clearElement();var p=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=p,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Pi.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,C=this.stateManagerProxy.startTransition(Dn.SCANNING);return new Promise(function(A,k){var O=g?h.videoConstraints:w.createVideoConstraints(e);if(!O){C.cancel(),k("videoConstraints should be defined");return}var U={};(!g||h.aspectRatio)&&(U.aspectRatio=h.aspectRatio);var D={onRenderSurfaceReady:function(I,R){w.setupUi(I,R,h),w.isScanning=!0,w.foreverScan(h,r,c)}};lX.failIfNotSupported().then(function(I){I.create(O).then(function(R){return R.render(o.element,U,D).then(function(V){w.renderedCamera=V,C.execute(),A(null)}).catch(function(V){C.cancel(),k(V)})}).catch(function(R){C.cancel(),k(qc.errorGettingUserMedia(R))})}).catch(function(I){C.cancel(),k(qc.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dn.PAUSED),this.showPausedState(),(lo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Dn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Dn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(Pi.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(lo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var h=c.width,p=c.height,g=document.getElementById(r.elementId),x=g.clientWidth?g.clientWidth:Pi.DEFAULT_WIDTH,w=Math.max(g.clientHeight?g.clientHeight:p,Pi.FILE_SCAN_MIN_HEIGHT),C=r.computeCanvasDrawConfig(h,p,x,w);if(n){var A=r.createCanvasElement(x,w,"qr-canvas-visible");A.style.display="inline-block",g.appendChild(A);var k=A.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=x,k.canvas.height=w,k.drawImage(c,0,0,h,p,C.x,C.y,C.width,C.height)}var O=Pi.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(c.width,C.width),D=Math.max(c.height,C.height),I=U+2*O,R=D+2*O,V=r.createCanvasElement(I,R);g.appendChild(V);var H=V.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=I,H.canvas.height=R,H.drawImage(c,0,0,h,p,O,O,U,D);try{r.qrcode.decodeRobustlyAsync(V).then(function(X){i(Jb.createFromQrcodeResult(X))}).catch(o)}catch(X){o("QR code parse error, error = ".concat(X))}},c.onerror=o,c.onabort=o,c.onstalled=o,c.onsuspend=o,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return dX.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!eP.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Fe.QR_CODE,Fe.AZTEC,Fe.CODABAR,Fe.CODE_39,Fe.CODE_93,Fe.CODE_128,Fe.DATA_MATRIX,Fe.MAXICODE,Fe.ITF,Fe.EAN_13,Fe.EAN_8,Fe.PDF_417,Fe.RSS_14,Fe.RSS_EXPANDED,Fe.UPC_A,Fe.UPC_E,Fe.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=e.formatsToSupport;i<o.length;i++){var c=o[i];qK(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(lo(e))return!0;if(!lo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(lo(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return lo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,o=r.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(e,n,o),h=function(g){if(g<Pi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Pi.MIN_QR_BOX_SIZE,"px.")},p=function(g){return g>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=e),g};h(c.width),h(c.height),c.width=p(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=lo(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(e,n,i);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&o.height<=n,h={x:0,y:0,width:e,height:n},p=c?this.getShadedRegionBounds(e,n,o):h,g=this.createCanvasElement(p.width,p.height),x={willReadFrequently:!0},w=g.getContext("2d",x);w.canvas.width=p.width,w.canvas.height=p.height,this.element.append(g),c&&this.possiblyInsertShadingElement(this.element,e,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=w,this.canvasElement=g},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=qc.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,Jb.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=qc.codeParseError(i);return n(o,XK.createFrom(o)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),c=o.videoWidth/o.clientWidth,h=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,g=this.qrRegion.height*h,x=this.qrRegion.x*c,w=this.qrRegion.y*h;this.context.drawImage(o,x,w,p,g,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(A){!A&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){C()})):C()}).catch(function(A){i.logger.logError("Error happend while scanning context",A),C()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",c=function(k){if(k in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},h=Object.keys(e);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var p=Object.keys(e)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var g=e.facingMode;if(typeof g=="string"){if(c(g))return{facingMode:g}}else if(typeof g=="object")if(o in g){if(c(g["".concat(o)]))return{facingMode:{exact:g["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var x=typeof g;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(o in w)return{deviceId:{exact:w["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var C=typeof w;throw"Invalid type of 'deviceId' = ".concat(C)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var o=(r-e)/2,c=(i-n)/2;return{x:o,y:c,width:e,height:n}}else{var h=e,p=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(p)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Pi.BORDER_SHADER_MATCH_COLOR:Pi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,o=n,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(o,"px"),c.style.display="none",c.id=lo(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var c=(n-i.width)/2,h=(r-i.height)/2;if(o.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Pi.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var p=5,g=40;this.insertShaderBorders(o,g,p,-p,null,0,!0),this.insertShaderBorders(o,g,p,-p,null,0,!1),this.insertShaderBorders(o,g,p,null,-p,0,!0),this.insertShaderBorders(o,g,p,null,-p,0,!1),this.insertShaderBorders(o,p,g+p,-p,null,-p,!0),this.insertShaderBorders(o,p,g+p,null,-p,-p,!0),this.insertShaderBorders(o,p,g+p,-p,null,-p,!1),this.insertShaderBorders(o,p,g+p,null,-p,-p,!1),this.hasBorderShaders=!0}e.append(o)}},t.prototype.insertShaderBorders=function(e,n,r,i,o,c,h){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Pi.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),i!==null&&(p.style.top="".concat(i,"px")),o!==null&&(p.style.bottom="".concat(o,"px")),h?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),e.appendChild(p)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),oI;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(oI||(oI={}));const vX=({open:t,onClose:e,onScan:n})=>{const[r,i]=B.useState(!1),[o,c]=B.useState(null),[h,p]=B.useState(null),g=B.useRef(null),x="barcode-scanner";B.useEffect(()=>(t?w():A(),()=>{A()}),[t]);const w=async()=>{try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(U=>U.stop()),p(!0),c(null)}catch{p(!1),c("Camera permission denied. Please enable camera access in your browser settings.")}},C=async()=>{if(!(!h&&(await w(),!h)))try{c(null),i(!0);const O=new yX(x);g.current=O,await O.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250},aspectRatio:1},U=>{n(U),A(),e()},U=>{})}catch(O){console.error("Scanner error:",O),c(O.message||"Failed to start camera. Please check camera permissions."),i(!1)}},A=()=>{g.current&&(g.current.stop().catch(()=>{}),g.current.clear(),g.current=null),i(!1)},k=()=>{A(),c(null),e()};return _.jsxs(i1,{open:t,onClose:k,maxWidth:"sm",fullWidth:!0,children:[_.jsx(a1,{children:_.jsxs(Mt,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[_.jsx(ke,{variant:"h6",children:"Scan Barcode"}),_.jsx(Qr,{onClick:k,size:"small",children:_.jsx(lq,{})})]})}),_.jsx(o1,{children:_.jsxs(Mt,{sx:{position:"relative",width:"100%",minHeight:300},children:[o&&_.jsx(Ao,{severity:"error",sx:{mb:2},children:o}),h===!1&&!o&&_.jsx(Ao,{severity:"warning",sx:{mb:2},children:"Camera permission is required to scan barcodes. Please enable camera access."}),_.jsx("div",{id:x,style:{width:"100%",display:r?"block":"none"}}),!r&&h&&_.jsxs(Mt,{sx:{textAlign:"center",mt:4},children:[_.jsx(qv,{sx:{fontSize:64,color:"text.secondary",mb:2}}),_.jsx(ke,{variant:"body2",color:"textSecondary",sx:{mb:2},children:"Click the button below to start scanning"}),_.jsx(Qr,{variant:"contained",startIcon:_.jsx(qv,{}),onClick:C,children:"Start Scanning"})]}),r&&_.jsxs(Mt,{sx:{textAlign:"center",mt:2},children:[_.jsx(vw,{size:24,sx:{mr:1}}),_.jsx(ke,{variant:"body2",color:"textSecondary",children:"Scanning..."})]})]})}),_.jsxs(s1,{children:[_.jsx(Qr,{onClick:k,children:"Cancel"}),!r&&h&&_.jsx(Qr,{variant:"contained",onClick:C,children:"Start"})]})]})},xX=()=>{const[t]=Sk();Qu();const e=t.get("medicineId"),{data:n,isLoading:r}=Tw(),i=Dq(),o=Mq(),c=Lq(),[h,p]=B.useState(!1),[g,x]=B.useState(null),[w,C]=B.useState({quantity:"",batchNumber:"",expiryDate:"",purchaseDate:"",purchasePrice:""}),[A,k]=B.useState("single"),[O,U]=B.useState(""),[D,I]=B.useState(null),[R,V]=B.useState(null);B.useEffect(()=>{if(e&&n){const N=n.find(W=>W.id===e);N&&x(N)}},[e,n]);const H=async N=>{U(N),I(null);try{const W=await c.mutateAsync(N);if(W)x(W),V("Medicine found!");else{const G=n==null?void 0:n.find(q=>q.barcode===N||q.code===N);G?(x(G),V("Medicine found!")):I("Medicine not found with this barcode")}}catch{I("Error searching for medicine")}},X=async()=>{if(!O){I("Please enter a barcode");return}await H(O)},S=async()=>{if(!g){I("Please select a medicine");return}I(null),V(null);try{if(A==="single"){if(!w.quantity){I("Please enter quantity");return}await i.mutateAsync({medicineId:g.id,updates:{stock:parseInt(w.quantity),currentStock:parseInt(w.quantity),expiryDate:w.expiryDate?new Date(w.expiryDate):void 0,batchNumber:w.batchNumber||void 0,barcode:g.barcode||void 0}})}else{if(!w.batchNumber||!w.quantity||!w.expiryDate){I("Please fill all required fields for batch update");return}await o.mutateAsync({medicineId:g.id,batch:{batchNumber:w.batchNumber,quantity:parseInt(w.quantity),expiryDate:new Date(w.expiryDate),purchaseDate:w.purchaseDate?new Date(w.purchaseDate):new Date,purchasePrice:w.purchasePrice?parseFloat(w.purchasePrice):void 0}})}C({quantity:"",batchNumber:"",expiryDate:"",purchaseDate:"",purchasePrice:""}),V("Stock updated successfully!"),setTimeout(()=>{const N=n==null?void 0:n.find(W=>W.id===g.id);N&&x(N)},1e3)}catch(N){I(N.message||"Failed to update stock")}},M=N=>{const W=n==null?void 0:n.find(G=>G.id===N);W&&(x(W),I(null),V(null))};return r?_.jsx(md,{message:"Loading medicines..."}):_.jsxs(Mt,{children:[_.jsx(ke,{variant:"h4",gutterBottom:!0,children:"Update Stock"}),_.jsxs(At,{container:!0,spacing:3,children:[_.jsx(At,{item:!0,xs:12,md:4,children:_.jsxs(Ei,{sx:{p:3},children:[_.jsx(ke,{variant:"h6",gutterBottom:!0,children:"Select Medicine"}),_.jsxs(Mt,{sx:{mb:2},children:[_.jsx(Qr,{fullWidth:!0,variant:"outlined",startIcon:_.jsx(qv,{}),onClick:()=>p(!0),sx:{mb:2},children:"Scan Barcode"}),_.jsx(Ln,{fullWidth:!0,label:"Or Enter Barcode/Code",value:O,onChange:N=>U(N.target.value),InputProps:{endAdornment:_.jsx(Ma,{onClick:X,children:_.jsx(zg,{})})},sx:{mb:2}})]}),_.jsxs(zu,{fullWidth:!0,sx:{mb:2},children:[_.jsx($u,{children:"Select Medicine"}),_.jsx(Jl,{value:(g==null?void 0:g.id)||"",label:"Select Medicine",onChange:N=>M(N.target.value),children:n==null?void 0:n.map(N=>_.jsxs(fi,{value:N.id,children:[N.name," - ",N.code||"N/A"]},N.id))})]}),g&&_.jsx(Mr,{variant:"outlined",children:_.jsxs(Lr,{children:[_.jsx(ke,{variant:"subtitle2",gutterBottom:!0,children:"Selected Medicine"}),_.jsxs(ke,{variant:"body2",children:[_.jsx("strong",{children:"Name:"})," ",g.name]}),_.jsxs(ke,{variant:"body2",children:[_.jsx("strong",{children:"Code:"})," ",g.code||"N/A"]}),_.jsxs(ke,{variant:"body2",children:[_.jsx("strong",{children:"Current Stock:"})," ",g.currentStock||g.stock||0]}),_.jsxs(ke,{variant:"body2",children:[_.jsx("strong",{children:"Price:"})," ",g.price.toFixed(2)]})]})})]})}),_.jsx(At,{item:!0,xs:12,md:8,children:_.jsxs(Ei,{sx:{p:3},children:[_.jsx(ke,{variant:"h6",gutterBottom:!0,children:"Stock Information"}),D&&_.jsx(Ao,{severity:"error",sx:{mb:2},children:D}),R&&_.jsx(Ao,{severity:"success",sx:{mb:2},children:R}),_.jsxs(zu,{fullWidth:!0,sx:{mb:3},children:[_.jsx($u,{children:"Update Mode"}),_.jsxs(Jl,{value:A,label:"Update Mode",onChange:N=>k(N.target.value),children:[_.jsx(fi,{value:"single",children:"Simple Update"}),_.jsx(fi,{value:"batch",children:"Batch Update (with Expiry)"})]})]}),!g&&_.jsx(Ao,{severity:"info",children:"Please select a medicine to update stock"}),g&&_.jsxs(_.Fragment,{children:[_.jsxs(At,{container:!0,spacing:2,children:[_.jsx(At,{item:!0,xs:12,sm:6,children:_.jsx(Ln,{fullWidth:!0,label:"Quantity",type:"number",value:w.quantity,onChange:N=>C({...w,quantity:N.target.value}),required:!0})}),A==="batch"&&_.jsxs(_.Fragment,{children:[_.jsx(At,{item:!0,xs:12,sm:6,children:_.jsx(Ln,{fullWidth:!0,label:"Batch Number",value:w.batchNumber,onChange:N=>C({...w,batchNumber:N.target.value}),required:!0})}),_.jsx(At,{item:!0,xs:12,sm:6,children:_.jsx(Ln,{fullWidth:!0,label:"Expiry Date",type:"date",value:w.expiryDate,onChange:N=>C({...w,expiryDate:N.target.value}),InputLabelProps:{shrink:!0},required:!0})}),_.jsx(At,{item:!0,xs:12,sm:6,children:_.jsx(Ln,{fullWidth:!0,label:"Purchase Date",type:"date",value:w.purchaseDate,onChange:N=>C({...w,purchaseDate:N.target.value}),InputLabelProps:{shrink:!0}})}),_.jsx(At,{item:!0,xs:12,sm:6,children:_.jsx(Ln,{fullWidth:!0,label:"Purchase Price",type:"number",value:w.purchasePrice,onChange:N=>C({...w,purchasePrice:N.target.value})})})]}),A==="single"&&_.jsxs(_.Fragment,{children:[_.jsx(At,{item:!0,xs:12,sm:6,children:_.jsx(Ln,{fullWidth:!0,label:"Batch Number (Optional)",value:w.batchNumber,onChange:N=>C({...w,batchNumber:N.target.value})})}),_.jsx(At,{item:!0,xs:12,sm:6,children:_.jsx(Ln,{fullWidth:!0,label:"Expiry Date (Optional)",type:"date",value:w.expiryDate,onChange:N=>C({...w,expiryDate:N.target.value}),InputLabelProps:{shrink:!0}})})]})]}),_.jsx(Mt,{sx:{mt:3},children:_.jsx(Qr,{variant:"contained",startIcon:_.jsx($4,{}),onClick:S,disabled:i.isPending||o.isPending,size:"large",children:"Save Stock Update"})})]}),g&&g.stockBatches&&g.stockBatches.length>0&&_.jsxs(_.Fragment,{children:[_.jsx(S4,{sx:{my:3}}),_.jsx(ke,{variant:"h6",gutterBottom:!0,children:"Existing Batches"}),_.jsx(Uf,{children:_.jsxs(Wu,{size:"small",children:[_.jsx(Gu,{children:_.jsxs(Vr,{children:[_.jsx(Pe,{children:"Batch Number"}),_.jsx(Pe,{children:"Quantity"}),_.jsx(Pe,{children:"Expiry Date"}),_.jsx(Pe,{children:"Purchase Date"})]})}),_.jsx(Hu,{children:g.stockBatches.map(N=>_.jsxs(Vr,{children:[_.jsx(Pe,{children:N.batchNumber}),_.jsx(Pe,{children:N.quantity}),_.jsx(Pe,{children:N.expiryDate instanceof Date?N.expiryDate.toLocaleDateString():N.expiryDate.toDate().toLocaleDateString()}),_.jsx(Pe,{children:N.purchaseDate?N.purchaseDate instanceof Date?N.purchaseDate.toLocaleDateString():N.purchaseDate.toDate().toLocaleDateString():"N/A"})]},N.id))})]})})]})]})})]}),_.jsx(vX,{open:h,onClose:()=>p(!1),onScan:H})]})},wX=new Qk({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),EX=_2({palette:{primary:{main:"#2196F3"},secondary:{main:"#4CAF50"}}}),Hd=({children:t})=>{const[e,n]=B.useState(!0),[r,i]=B.useState(!1);return B.useEffect(()=>_4(async c=>{if(c)try{const h=await jv(c.uid);i(h)}catch(h){console.error("Error checking admin status:",h),i(!1)}else i(!1);n(!1)}),[]),e?_.jsx(md,{message:"Checking authentication..."}):r?_.jsx(_.Fragment,{children:t}):_.jsx(Ek,{to:"/login"})};function _X(){return _.jsx(yq,{children:_.jsx(Zk,{client:wX,children:_.jsxs(A5,{theme:EX,children:[_.jsx(sR,{}),_.jsx(Tk,{children:_.jsxs(Ck,{children:[_.jsx(dl,{path:"/login",element:_.jsx(xq,{})}),_.jsx(dl,{path:"/",element:_.jsx(Hd,{children:_.jsx(zd,{children:_.jsx($K,{})})})}),_.jsx(dl,{path:"/stores",element:_.jsx(Hd,{children:_.jsx(zd,{children:_.jsx(WK,{})})})}),_.jsx(dl,{path:"/orders",element:_.jsx(Hd,{children:_.jsx(zd,{children:_.jsx(HK,{})})})}),_.jsx(dl,{path:"/inventory",element:_.jsx(Hd,{children:_.jsx(zd,{children:_.jsx(GK,{})})})}),_.jsx(dl,{path:"/inventory/stock-update",element:_.jsx(Hd,{children:_.jsx(zd,{children:_.jsx(xX,{})})})})]})})]})})})}Zm.createRoot(document.getElementById("root")).render(_.jsx(xs.StrictMode,{children:_.jsx(_X,{})}));
